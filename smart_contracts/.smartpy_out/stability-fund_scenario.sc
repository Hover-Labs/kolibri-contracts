[{"shortname": "liquidate_-_can_liquidate_oven", "longname": "liquidate - can liquidate oven", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 18 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (ovenFactoryContractAddress (literal (address \"tz1irJKkXS2DBWkU1NnmFQx1c1L7pbGg4yhk\") 15)) (ovenMap (type_annotation (big_map 21 ) (bigmap \"address\" \"address\") 21)))\nstorage_type (())\nmessages ((addOven True ((set_type (params 51) (tuple \"address\" \"address\") 52) (verify (eq (sender) (attr (data) \"ovenFactoryContractAddress\" 54) 54) False (literal (intOrNat 7) 54) 54) (set (getItem (attr (data) \"ovenMap\" 59) (first (params 51) 56) 59) (second (params 51) 57) 59))) (default True ((set_type (params 41) \"unit\" 42) (failwith (literal (intOrNat 19) 43) 43))) (isOven True ((verify (contains (attr (data) \"ovenMap\" 59) (params 33) 34) False (literal (intOrNat 1) 34) 34) (verify (eq (amount) (literal (mutez 0) 37) 37) False (literal (intOrNat 15) 37) 37))) (setGovernorContract True ((set_type (params 67) \"address\" 68) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 70) False (literal (intOrNat 4) 70) 70) (set (attr (data) \"governorContractAddress\" 70) (params 67) 71))) (setOvenFactoryContract True ((set_type (params 75) \"address\" 76) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 78) False (literal (intOrNat 4) 78) 78) (set (attr (data) \"ovenFactoryContractAddress\" 54) (params 75) 79))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 98, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 1, "export": "(storage (record 12 (borrow_borrowedTokens (literal (nat 0) 17)) (borrow_liquidated (literal (bool False) 18)) (borrow_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (borrow_ovenBalance (literal (nat 0) 16)) (borrow_ovenInterestIndex (literal (int 0) 20)) (borrow_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (borrow_stabilityFeeTokens (literal (int 0) 19)) (borrow_tokensToBorrow (literal (nat 0) 21)) (deposit_borrowedTokens (literal (nat 0) 37)) (deposit_liquidated (literal (bool False) 38)) (deposit_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (deposit_ovenBalance (literal (nat 0) 36)) (deposit_ovenInterestIndex (literal (int 0) 40)) (deposit_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (deposit_stabilityFeeTokens (literal (int 0) 39)) (liquidate_borrowedTokens (literal (nat 0) 56)) (liquidate_liquidated (literal (bool False) 57)) (liquidate_liquidatorAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (liquidate_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (liquidate_ovenBalance (literal (nat 0) 55)) (liquidate_ovenInterestIndex (literal (int 0) 59)) (liquidate_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (liquidate_stabilityFeeTokens (literal (int 0) 58)) (repay_borrowedTokens (literal (nat 0) 27)) (repay_liquidated (literal (bool False) 28)) (repay_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (repay_ovenBalance (literal (nat 0) 26)) (repay_ovenInterestIndex (literal (int 0) 30)) (repay_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (repay_stabilityFeeTokens (literal (int 0) 29)) (repay_tokensToRepay (literal (nat 0) 31)) (updateState_borrowedTokens (literal (nat 0) 64)) (updateState_interestIndex (literal (int 0) 66)) (updateState_isLiquidated (literal (bool False) 12)) (updateState_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (updateState_stabilityFeeTokens (literal (int 0) 65)) (withdraw_borrowedTokens (literal (nat 0) 46)) (withdraw_liquidated (literal (bool False) 47)) (withdraw_mutezToWithdraw (literal (mutez 0) 50)) (withdraw_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (withdraw_ovenBalance (literal (nat 0) 45)) (withdraw_ovenInterestIndex (literal (int 0) 49)) (withdraw_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (withdraw_stabilityFeeTokens (literal (int 0) 48)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 75) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) 76) (set (attr (data) \"borrow_ovenAddress\" 78) (first (params 75) 78) 78) (set (attr (data) \"borrow_ownerAddress\" 79) (first (second (params 75) 79) 79) 79) (set (attr (data) \"borrow_ovenBalance\" 80) (first (second (second (params 75) 80) 80) 80) 80) (set (attr (data) \"borrow_borrowedTokens\" 81) (first (second (second (second (params 75) 81) 81) 81) 81) 81) (set (attr (data) \"borrow_liquidated\" 82) (first (second (second (second (second (params 75) 82) 82) 82) 82) 82) 82) (set (attr (data) \"borrow_stabilityFeeTokens\" 83) (first (second (second (second (second (second (params 75) 83) 83) 83) 83) 83) 83) 83) (set (attr (data) \"borrow_ovenInterestIndex\" 84) (first (second (second (second (second (second (second (params 75) 84) 84) 84) 84) 84) 84) 84) 84) (set (attr (data) \"borrow_tokensToBorrow\" 85) (second (second (second (second (second (second (second (params 75) 85) 85) 85) 85) 85) 85) 85) 85))) (deposit True ((set_type (params 101) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) 102) (set (attr (data) \"deposit_ovenAddress\" 104) (first (params 101) 104) 104) (set (attr (data) \"deposit_ownerAddress\" 105) (first (second (params 101) 105) 105) 105) (set (attr (data) \"deposit_ovenBalance\" 106) (first (second (second (params 101) 106) 106) 106) 106) (set (attr (data) \"deposit_borrowedTokens\" 107) (first (second (second (second (params 101) 107) 107) 107) 107) 107) (set (attr (data) \"deposit_liquidated\" 108) (first (second (second (second (second (params 101) 108) 108) 108) 108) 108) 108) (set (attr (data) \"deposit_stabilityFeeTokens\" 109) (first (second (second (second (second (second (params 101) 109) 109) 109) 109) 109) 109) 109) (set (attr (data) \"deposit_ovenInterestIndex\" 110) (second (second (second (second (second (second (params 101) 110) 110) 110) 110) 110) 110) 110))) (liquidate True ((set_type (params 126) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) 127) (set (attr (data) \"liquidate_ovenAddress\" 129) (first (params 126) 129) 129) (set (attr (data) \"liquidate_ownerAddress\" 130) (first (second (params 126) 130) 130) 130) (set (attr (data) \"liquidate_ovenBalance\" 131) (first (second (second (params 126) 131) 131) 131) 131) (set (attr (data) \"liquidate_borrowedTokens\" 132) (first (second (second (second (params 126) 132) 132) 132) 132) 132) (set (attr (data) \"liquidate_liquidated\" 133) (first (second (second (second (second (params 126) 133) 133) 133) 133) 133) 133) (set (attr (data) \"liquidate_stabilityFeeTokens\" 134) (first (second (second (second (second (second (params 126) 134) 134) 134) 134) 134) 134) 134) (set (attr (data) \"liquidate_ovenInterestIndex\" 135) (first (second (second (second (second (second (second (params 126) 135) 135) 135) 135) 135) 135) 135) 135) (set (attr (data) \"liquidate_liquidatorAddress\" 136) (second (second (second (second (second (second (second (params 126) 136) 136) 136) 136) 136) 136) 136) 136))) (repay True ((set_type (params 88) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) 89) (set (attr (data) \"repay_ovenAddress\" 91) (first (params 88) 91) 91) (set (attr (data) \"repay_ownerAddress\" 92) (first (second (params 88) 92) 92) 92) (set (attr (data) \"repay_ovenBalance\" 93) (first (second (second (params 88) 93) 93) 93) 93) (set (attr (data) \"repay_borrowedTokens\" 94) (first (second (second (second (params 88) 94) 94) 94) 94) 94) (set (attr (data) \"repay_liquidated\" 95) (first (second (second (second (second (params 88) 95) 95) 95) 95) 95) 95) (set (attr (data) \"repay_stabilityFeeTokens\" 96) (first (second (second (second (second (second (params 88) 96) 96) 96) 96) 96) 96) 96) (set (attr (data) \"repay_ovenInterestIndex\" 97) (first (second (second (second (second (second (second (params 88) 97) 97) 97) 97) 97) 97) 97) 97) (set (attr (data) \"repay_tokensToRepay\" 98) (second (second (second (second (second (second (second (params 88) 98) 98) 98) 98) 98) 98) 98) 98))) (updateState True ((set_type (params 139) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 140) (set (attr (data) \"updateState_ovenAddress\" 142) (first (params 139) 142) 142) (set (attr (data) \"updateState_borrowedTokens\" 143) (first (second (params 139) 143) 143) 143) (set (attr (data) \"updateState_stabilityFeeTokens\" 144) (first (second (second (params 139) 144) 144) 144) 144) (set (attr (data) \"updateState_interestIndex\" 145) (first (second (second (second (params 139) 145) 145) 145) 145) 145) (set (attr (data) \"updateState_isLiquidated\" 146) (second (second (second (second (params 139) 146) 146) 146) 146) 146))) (withdraw True ((set_type (params 113) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) 114) (set (attr (data) \"withdraw_ovenAddress\" 116) (first (params 113) 116) 116) (set (attr (data) \"withdraw_ownerAddress\" 117) (first (second (params 113) 117) 117) 117) (set (attr (data) \"withdraw_ovenBalance\" 118) (first (second (second (params 113) 118) 118) 118) 118) (set (attr (data) \"withdraw_borrowedTokens\" 119) (first (second (second (second (params 113) 119) 119) 119) 119) 119) (set (attr (data) \"withdraw_liquidated\" 120) (first (second (second (second (second (params 113) 120) 120) 120) 120) 120) 120) (set (attr (data) \"withdraw_stabilityFeeTokens\" 121) (first (second (second (second (second (second (params 113) 121) 121) 121) 121) 121) 121) 121) (set (attr (data) \"withdraw_ovenInterestIndex\" 122) (first (second (second (second (second (second (second (params 113) 122) 122) 122) 122) 122) 122) 122) 122) (set (attr (data) \"withdraw_mutezToWithdraw\" 123) (second (second (second (second (second (second (second (params 113) 123) 123) 123) 123) 123) 123) 123) 123))))\nflags ()\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 102, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 2, "export": "(storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (local-address 1) 12)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance (literal (mutez 12) 105))", "line_no": 110, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "addOven", "params": "(tuple 113 (literal (local-address 2) 28) (literal (local-address 2) 28))", "line_no": 113, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1irJKkXS2DBWkU1NnmFQx1c1L7pbGg4yhk\") 15)", "chain_id": "", "time": "(literal (timestamp 0) 18)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 113)", "show": true, "valid": "(literal (bool True) 113)", "voting_powers": "(map 113 )"}, {"action": "newContract", "id": 3, "export": "(storage (record 24 (administratorContractAddress (literal (address \"tz1VmiY38m3y95HqQLjMwqnMS7sdMfGomzKi\") 39)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (ovenRegistryContractAddress (literal (local-address 0) 18)) (tokenContractAddress (literal (address \"tz1cYufsxHXJcvANhvS55h3aY32a9BAFB494\") 27)))\nstorage_type (())\nmessages ((default True ()) (liquidate True ((set_type (params 36) \"address\" 37) (verify (eq (sender) (attr (data) \"administratorContractAddress\" 40) 40) False (literal (intOrNat 8) 40) 40) (set (operations 48) (cons (transfer (params 36) (literal (mutez 0) 48) (openVariant (contract \"isOven\" \"address\" (attr (data) \"ovenRegistryContractAddress\" 45) 43) \"Some\" \"None\" 43) 48) (operations 48) 48) 48) (set (operations 56) (cons (transfer (unit) (literal (mutez 0) 56) (openVariant (contract \"liquidate\" \"unit\" (params 36) 51) \"Some\" \"None\" 51) 56) (operations 56) 56) 56))) (send True ((set_type (params 56) (tuple \"mutez\" \"address\") 57) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 59) False (literal (intOrNat 4) 59) 59) (set (operations 60) (cons (transfer (unit) (first (params 56) 60) (openVariant (contract \"\" \"unit\" (second (params 56) 60) 60) \"Some\" \"None\" 60) 60) (operations 60) 60) 60))) (sendTokens True ((set_type (params 64) (tuple \"nat\" \"address\") 65) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 68) False (literal (intOrNat 4) 68) 68) (set (operations 85) (cons (transfer (record 75 (from_ (to_address (self) \"None\")) (to_ (second (params 64) 72)) (value (first (params 64) 71))) (literal (mutez 0) 85) (openVariant (contract \"transfer\" (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) (Some ((\"from_ as from\") ((\"to_ as to\") (\"value\"))))) (attr (data) \"tokenContractAddress\" 82) 80) \"Some\" \"None\" 80) 85) (operations 85) 85) 85))) (setAdministratorContract True ((set_type (params 97) \"address\" 98) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 100) False (literal (intOrNat 4) 100) 100) (set (attr (data) \"administratorContractAddress\" 40) (params 97) 101))) (setDelegate True ((set_type (params 42) (option \"key_hash\") 43) (verify (eq (sender) (attr (data) \"administratorContractAddress\" 40) 46) False (literal (intOrNat 8) 46) 46) (set (operations 48) (cons (set_delegate (params 42) 48) (operations 48) 48) 48))) (setGovernorContract True ((set_type (params 89) \"address\" 90) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 92) False (literal (intOrNat 4) 92) 92) (set (attr (data) \"governorContractAddress\" 59) (params 89) 93))) (setOvenRegistryContract True ((set_type (params 64) \"address\" 65) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 67) False (literal (intOrNat 4) 67) 67) (set (attr (data) \"ovenRegistryContractAddress\" 45) (params 64) 68))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 123, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 3, "message": "liquidate", "params": "(literal (local-address 2) 28)", "line_no": 126, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1VmiY38m3y95HqQLjMwqnMS7sdMfGomzKi\") 39)", "chain_id": "", "time": "(literal (timestamp 0) 24)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 126)", "show": true, "valid": "(literal (bool True) 126)", "voting_powers": "(map 126 )"}, {"action": "verify", "condition": "(eq (contractBalance 1 102) (literal (mutez 12) 105) 131)", "line_no": 131}]}, {"shortname": "liquidate_-_fails_if_not_called_by_admin", "longname": "liquidate - fails if not called by admin", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 18 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (ovenFactoryContractAddress (literal (address \"tz1irJKkXS2DBWkU1NnmFQx1c1L7pbGg4yhk\") 15)) (ovenMap (type_annotation (big_map 21 ) (bigmap \"address\" \"address\") 21)))\nstorage_type (())\nmessages ((addOven True ((set_type (params 51) (tuple \"address\" \"address\") 52) (verify (eq (sender) (attr (data) \"ovenFactoryContractAddress\" 54) 54) False (literal (intOrNat 7) 54) 54) (set (getItem (attr (data) \"ovenMap\" 59) (first (params 51) 56) 59) (second (params 51) 57) 59))) (default True ((set_type (params 41) \"unit\" 42) (failwith (literal (intOrNat 19) 43) 43))) (isOven True ((verify (contains (attr (data) \"ovenMap\" 59) (params 33) 34) False (literal (intOrNat 1) 34) 34) (verify (eq (amount) (literal (mutez 0) 37) 37) False (literal (intOrNat 15) 37) 37))) (setGovernorContract True ((set_type (params 67) \"address\" 68) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 70) False (literal (intOrNat 4) 70) 70) (set (attr (data) \"governorContractAddress\" 70) (params 67) 71))) (setOvenFactoryContract True ((set_type (params 75) \"address\" 76) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 78) False (literal (intOrNat 4) 78) 78) (set (attr (data) \"ovenFactoryContractAddress\" 54) (params 75) 79))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 142, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "addOven", "params": "(tuple 146 (literal (address \"tz1LmaFsWRkjr7QMCx5PtV6xTUz3AmEpKQiF\") 18) (literal (address \"tz1LmaFsWRkjr7QMCx5PtV6xTUz3AmEpKQiF\") 18))", "line_no": 146, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1irJKkXS2DBWkU1NnmFQx1c1L7pbGg4yhk\") 15)", "chain_id": "", "time": "(literal (timestamp 0) 18)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 146)", "show": true, "valid": "(literal (bool True) 146)", "voting_powers": "(map 146 )"}, {"action": "newContract", "id": 1, "export": "(storage (record 24 (administratorContractAddress (literal (address \"tz1VmiY38m3y95HqQLjMwqnMS7sdMfGomzKi\") 39)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (ovenRegistryContractAddress (literal (local-address 0) 18)) (tokenContractAddress (literal (address \"tz1cYufsxHXJcvANhvS55h3aY32a9BAFB494\") 27)))\nstorage_type (())\nmessages ((default True ()) (liquidate True ((set_type (params 36) \"address\" 37) (verify (eq (sender) (attr (data) \"administratorContractAddress\" 40) 40) False (literal (intOrNat 8) 40) 40) (set (operations 48) (cons (transfer (params 36) (literal (mutez 0) 48) (openVariant (contract \"isOven\" \"address\" (attr (data) \"ovenRegistryContractAddress\" 45) 43) \"Some\" \"None\" 43) 48) (operations 48) 48) 48) (set (operations 56) (cons (transfer (unit) (literal (mutez 0) 56) (openVariant (contract \"liquidate\" \"unit\" (params 36) 51) \"Some\" \"None\" 51) 56) (operations 56) 56) 56))) (send True ((set_type (params 56) (tuple \"mutez\" \"address\") 57) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 59) False (literal (intOrNat 4) 59) 59) (set (operations 60) (cons (transfer (unit) (first (params 56) 60) (openVariant (contract \"\" \"unit\" (second (params 56) 60) 60) \"Some\" \"None\" 60) 60) (operations 60) 60) 60))) (sendTokens True ((set_type (params 64) (tuple \"nat\" \"address\") 65) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 68) False (literal (intOrNat 4) 68) 68) (set (operations 85) (cons (transfer (record 75 (from_ (to_address (self) \"None\")) (to_ (second (params 64) 72)) (value (first (params 64) 71))) (literal (mutez 0) 85) (openVariant (contract \"transfer\" (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) (Some ((\"from_ as from\") ((\"to_ as to\") (\"value\"))))) (attr (data) \"tokenContractAddress\" 82) 80) \"Some\" \"None\" 80) 85) (operations 85) 85) 85))) (setAdministratorContract True ((set_type (params 97) \"address\" 98) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 100) False (literal (intOrNat 4) 100) 100) (set (attr (data) \"administratorContractAddress\" 40) (params 97) 101))) (setDelegate True ((set_type (params 42) (option \"key_hash\") 43) (verify (eq (sender) (attr (data) \"administratorContractAddress\" 40) 46) False (literal (intOrNat 8) 46) 46) (set (operations 48) (cons (set_delegate (params 42) 48) (operations 48) 48) 48))) (setGovernorContract True ((set_type (params 89) \"address\" 90) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 92) False (literal (intOrNat 4) 92) 92) (set (attr (data) \"governorContractAddress\" 59) (params 89) 93))) (setOvenRegistryContract True ((set_type (params 64) \"address\" 65) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 67) False (literal (intOrNat 4) 67) 67) (set (attr (data) \"ovenRegistryContractAddress\" 45) (params 64) 68))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 156, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "liquidate", "params": "(literal (address \"tz1LmaFsWRkjr7QMCx5PtV6xTUz3AmEpKQiF\") 18)", "line_no": 160, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 24)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 160)", "show": true, "valid": "(literal (bool False) 160)", "voting_powers": "(map 160 )"}]}, {"shortname": "setOvenRegistryContract_-_succeeds_when_called_by_governor", "longname": "setOvenRegistryContract - succeeds when called by governor", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 24 (administratorContractAddress (literal (address \"tz1VmiY38m3y95HqQLjMwqnMS7sdMfGomzKi\") 39)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (tokenContractAddress (literal (address \"tz1cYufsxHXJcvANhvS55h3aY32a9BAFB494\") 27)))\nstorage_type (())\nmessages ((default True ()) (liquidate True ((set_type (params 36) \"address\" 37) (verify (eq (sender) (attr (data) \"administratorContractAddress\" 40) 40) False (literal (intOrNat 8) 40) 40) (set (operations 48) (cons (transfer (params 36) (literal (mutez 0) 48) (openVariant (contract \"isOven\" \"address\" (attr (data) \"ovenRegistryContractAddress\" 45) 43) \"Some\" \"None\" 43) 48) (operations 48) 48) 48) (set (operations 56) (cons (transfer (unit) (literal (mutez 0) 56) (openVariant (contract \"liquidate\" \"unit\" (params 36) 51) \"Some\" \"None\" 51) 56) (operations 56) 56) 56))) (send True ((set_type (params 56) (tuple \"mutez\" \"address\") 57) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 59) False (literal (intOrNat 4) 59) 59) (set (operations 60) (cons (transfer (unit) (first (params 56) 60) (openVariant (contract \"\" \"unit\" (second (params 56) 60) 60) \"Some\" \"None\" 60) 60) (operations 60) 60) 60))) (sendTokens True ((set_type (params 64) (tuple \"nat\" \"address\") 65) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 68) False (literal (intOrNat 4) 68) 68) (set (operations 85) (cons (transfer (record 75 (from_ (to_address (self) \"None\")) (to_ (second (params 64) 72)) (value (first (params 64) 71))) (literal (mutez 0) 85) (openVariant (contract \"transfer\" (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) (Some ((\"from_ as from\") ((\"to_ as to\") (\"value\"))))) (attr (data) \"tokenContractAddress\" 82) 80) \"Some\" \"None\" 80) 85) (operations 85) 85) 85))) (setAdministratorContract True ((set_type (params 97) \"address\" 98) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 100) False (literal (intOrNat 4) 100) 100) (set (attr (data) \"administratorContractAddress\" 40) (params 97) 101))) (setDelegate True ((set_type (params 42) (option \"key_hash\") 43) (verify (eq (sender) (attr (data) \"administratorContractAddress\" 40) 46) False (literal (intOrNat 8) 46) 46) (set (operations 48) (cons (set_delegate (params 42) 48) (operations 48) 48) 48))) (setGovernorContract True ((set_type (params 89) \"address\" 90) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 92) False (literal (intOrNat 4) 92) 92) (set (attr (data) \"governorContractAddress\" 59) (params 89) 93))) (setOvenRegistryContract True ((set_type (params 64) \"address\" 65) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 67) False (literal (intOrNat 4) 67) 67) (set (attr (data) \"ovenRegistryContractAddress\" 45) (params 64) 68))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 212, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setOvenRegistryContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 216, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 24)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 216)", "show": true, "valid": "(literal (bool True) 216)", "voting_powers": "(map 216 )"}, {"action": "verify", "condition": "(eq (attr (contractData 0 216) \"ovenRegistryContractAddress\" 221) (literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48) 221)", "line_no": 221}]}, {"shortname": "setOvenRegistryContract_-_fails_when_not_called_by_governor", "longname": "setOvenRegistryContract - fails when not called by governor", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 24 (administratorContractAddress (literal (address \"tz1VmiY38m3y95HqQLjMwqnMS7sdMfGomzKi\") 39)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (tokenContractAddress (literal (address \"tz1cYufsxHXJcvANhvS55h3aY32a9BAFB494\") 27)))\nstorage_type (())\nmessages ((default True ()) (liquidate True ((set_type (params 36) \"address\" 37) (verify (eq (sender) (attr (data) \"administratorContractAddress\" 40) 40) False (literal (intOrNat 8) 40) 40) (set (operations 48) (cons (transfer (params 36) (literal (mutez 0) 48) (openVariant (contract \"isOven\" \"address\" (attr (data) \"ovenRegistryContractAddress\" 45) 43) \"Some\" \"None\" 43) 48) (operations 48) 48) 48) (set (operations 56) (cons (transfer (unit) (literal (mutez 0) 56) (openVariant (contract \"liquidate\" \"unit\" (params 36) 51) \"Some\" \"None\" 51) 56) (operations 56) 56) 56))) (send True ((set_type (params 56) (tuple \"mutez\" \"address\") 57) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 59) False (literal (intOrNat 4) 59) 59) (set (operations 60) (cons (transfer (unit) (first (params 56) 60) (openVariant (contract \"\" \"unit\" (second (params 56) 60) 60) \"Some\" \"None\" 60) 60) (operations 60) 60) 60))) (sendTokens True ((set_type (params 64) (tuple \"nat\" \"address\") 65) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 68) False (literal (intOrNat 4) 68) 68) (set (operations 85) (cons (transfer (record 75 (from_ (to_address (self) \"None\")) (to_ (second (params 64) 72)) (value (first (params 64) 71))) (literal (mutez 0) 85) (openVariant (contract \"transfer\" (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) (Some ((\"from_ as from\") ((\"to_ as to\") (\"value\"))))) (attr (data) \"tokenContractAddress\" 82) 80) \"Some\" \"None\" 80) 85) (operations 85) 85) 85))) (setAdministratorContract True ((set_type (params 97) \"address\" 98) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 100) False (literal (intOrNat 4) 100) 100) (set (attr (data) \"administratorContractAddress\" 40) (params 97) 101))) (setDelegate True ((set_type (params 42) (option \"key_hash\") 43) (verify (eq (sender) (attr (data) \"administratorContractAddress\" 40) 46) False (literal (intOrNat 8) 46) 46) (set (operations 48) (cons (set_delegate (params 42) 48) (operations 48) 48) 48))) (setGovernorContract True ((set_type (params 89) \"address\" 90) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 92) False (literal (intOrNat 4) 92) 92) (set (attr (data) \"governorContractAddress\" 59) (params 89) 93))) (setOvenRegistryContract True ((set_type (params 64) \"address\" 65) (verify (eq (sender) (attr (data) \"governorContractAddress\" 59) 67) False (literal (intOrNat 4) 67) 67) (set (attr (data) \"ovenRegistryContractAddress\" 45) (params 64) 68))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 232, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setOvenRegistryContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 236, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 24)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 236)", "show": true, "valid": "(literal (bool False) 236)", "voting_powers": "(map 236 )"}]}]