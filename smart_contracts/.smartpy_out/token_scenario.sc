[{"shortname": "FA12", "longname": "FA12", "scenario": [{"action": "html", "tag": "h1", "inner": "FA1.2 template - Fungible assets", "line_no": 231}, {"action": "html", "tag": "p", "inner": "[[TABLEOFCONTENTS]]", "line_no": 233}, {"action": "html", "tag": "h1", "inner": "Accounts", "line_no": 241}, {"action": "show", "html": true, "stripStrings": false, "expression": "(list 242 (account_of_seed \"Administrator\" 236) (account_of_seed \"Alice\" 237) (account_of_seed \"Robert\" 238))", "line_no": 242}, {"action": "html", "tag": "h1", "inner": "Contract", "line_no": 244}, {"action": "html", "tag": "h1", "inner": "Entry points", "line_no": 247}, {"action": "newContract", "id": 0, "export": "(storage (record 56 (administrator (reduce (attr (account_of_seed \"Administrator\" 236) \"address\" 236) 236)) (balances (type_annotation (big_map 57 ) (bigmap (unknown 1) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 57)) (debtCeiling (literal (nat 1000000000000000000000000000000000000000000000000000000000000000000000000) 169)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (metadata (type_annotation (big_map 45 ((literal (string \"\") 248) (literal (bytes \"0x74657a6f732d73746f726167653a64617461\") 47)) ((literal (string \"data\") 248) (literal (bytes \"0x7b206e616d653a2022204b6f6c6962726920546f6b656e20436f6e7472616374222c20226465736372697074696f6e223a20224641312e3220496d706c656d656e746174696f6e206f66206b555344222c2022617574686f72223a2022486f766572204c616273222c2022686f6d6570616765223a20202268747470733a2f2f6b6f6c696272692e66696e616e6365222c2022696e7465726661636573223a205b2022545a49502d3030372d323032312d30312d3239225d207d\") 43))) (bigmap \"string\" \"bytes\") 45)) (paused (literal (bool False) 56)) (token_metadata (type_annotation (big_map 33 ((literal (nat 0) 20) (tuple 248 (literal (nat 0) 20) (type_annotation (map 22 ((literal (string \"name\") 248) (literal (bytes \"0x4b6f6c6962726920555344\") 24)) ((literal (string \"decimals\") 248) (literal (bytes \"0x3138\") 25)) ((literal (string \"symbol\") 248) (literal (bytes \"0x6b555344\") 26)) ((literal (string \"icon\") 248) (literal (bytes \"0x2068747470733a2f2f6b6f6c696272692d646174612e73332e616d617a6f6e6177732e636f6d2f6c6f676f2e706e67\") 27))) (map \"string\" \"bytes\") 22)))) (bigmap \"nat\" (tuple \"nat\" (map \"string\" \"bytes\"))) 33)) (totalSupply (literal (intOrNat 0) 56)))\nstorage_type (())\nmessages ((approve True ((set_type (params 80) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 81) (verify (invert (attr (data) \"paused\" 151) 82) False 82) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 83) (sender) 83) \"approvals\" 83) (attr (params 80) \"spender\" 83) (literal (intOrNat 0) 83) 83) (literal (intOrNat 0) 84) 84) (eq (attr (params 80) \"value\" 84) (literal (intOrNat 0) 84) 84) 84) False (literal (intOrNat 23) 84) 84) (set (getItem (attr (getItem (attr (data) \"balances\" 83) (sender) 85) \"approvals\" 85) (attr (params 80) \"spender\" 83) 85) (attr (params 80) \"value\" 84) 85))) (burn True ((set_type (params 125) (record ((address \"address\") (value \"nat\")) None) 126) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 127) 127) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 128) \"balance\" 128) (attr (params 125) \"value\" 128) 128) False (literal (intOrNat 23) 128) 128) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (attr (params 125) \"value\" 128) 129) 129) \"Some\" \"None\" 129) 129) (set (attr (data) \"totalSupply\" 130) (openVariant (isNat (sub (attr (data) \"totalSupply\" 130) (attr (params 125) \"value\" 128) 130) 130) \"Some\" \"None\" 130) 130))) (getAdministrator True ((bind \"__s1\" ((set_type (first (params 145) 248) \"unit\" 146) (result (attr (data) \"administrator\" 134) 147))) (set_type (second (params 145) 248) (contract \"address\") 248) (set (operations 248) (cons (transfer (getLocal \"__s1\" 248) (literal (mutez 0) 248) (second (params 145) 248) 145) (operations 248) 248) 248))) (getAllowance True ((bind \"__s2\" ((result (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (first (params 96) 248) \"owner\" 97) 97) \"approvals\" 97) (attr (first (params 96) 248) \"spender\" 97) 97) 97))) (set_type (second (params 96) 248) (contract \"nat\") 248) (set (operations 248) (cons (transfer (getLocal \"__s2\" 248) (literal (mutez 0) 248) (second (params 96) 248) 96) (operations 248) 248) 248))) (getBalance True ((bind \"__s3\" ((result (attr (getItem (attr (data) \"balances\" 83) (first (params 92) 248) 93) \"balance\" 93) 93))) (set_type (second (params 92) 248) (contract \"nat\") 248) (set (operations 248) (cons (transfer (getLocal \"__s3\" 248) (literal (mutez 0) 248) (second (params 92) 248) 92) (operations 248) 248) 248))) (getTotalSupply True ((bind \"__s4\" ((set_type (first (params 100) 248) \"unit\" 101) (result (attr (data) \"totalSupply\" 130) 102))) (set_type (second (params 100) 248) (contract \"nat\") 248) (set (operations 248) (cons (transfer (getLocal \"__s4\" 248) (literal (mutez 0) 248) (second (params 100) 248) 100) (operations 248) 248) 248))) (mint True ((set_type (params 114) (record ((address \"address\") (value \"nat\")) None) 115) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 116) 116) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (attr (params 114) \"value\" 118) 118) 118) (set (attr (data) \"totalSupply\" 130) (add (attr (data) \"totalSupply\" 130) (attr (params 114) \"value\" 118) 119) 119) (verify (le (attr (data) \"totalSupply\" 130) (attr (data) \"debtCeiling\" 122) 122) False (literal (intOrNat 20) 122) 122))) (setAdministrator True ((set_type (params 137) \"address\" 138) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 141) False (literal (intOrNat 4) 141) 141) (set (attr (data) \"administrator\" 134) (params 137) 142))) (setDebtCeiling True ((set_type (params 190) \"nat\" 191) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 193) False (literal (intOrNat 4) 193) 193) (set (attr (data) \"debtCeiling\" 122) (params 190) 194))) (setGovernorContract True ((set_type (params 182) \"address\" 183) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 185) False (literal (intOrNat 4) 185) 185) (set (attr (data) \"governorContractAddress\" 141) (params 182) 186))) (setPause True ((set_type (params 154) \"bool\" 155) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 156) 156) (set (attr (data) \"paused\" 151) (params 154) 157))) (transfer True ((set_type (params 66) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) (Some ((\"from_ as from\") ((\"to_ as to\") (\"value\"))))) 67) (verify (or (eq (sender) (attr (data) \"administrator\" 134) 134) (and (invert (attr (data) \"paused\" 151) 69) (or (eq (attr (params 66) \"from_\" 70) (sender) 70) (ge (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 71) \"approvals\" 71) (sender) 71) (attr (params 66) \"value\" 71) 71) 70) 69) 68) False (literal (intOrNat 22) 68) 68) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 73) \"balance\" 73) (attr (params 66) \"value\" 71) 73) False (literal (intOrNat 23) 73) 73) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (attr (params 66) \"value\" 71) 74) 74) \"Some\" \"None\" 74) 74) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (attr (params 66) \"value\" 71) 75) 75) (ifBlock (and (neq (attr (params 66) \"from_\" 70) (sender) 76) (invert (eq (sender) (attr (data) \"administrator\" 134) 134) 76) 76) ((set (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (attr (params 66) \"value\" 71) 77) 77) \"Some\" \"None\" 77) 77)) 76))) (updateContractMetadata True ((set_type (params 198) (tuple \"string\" \"bytes\") 199) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 201) False (literal (intOrNat 4) 201) 201) (set (getItem (attr (data) \"metadata\" 204) (first (params 198) 202) 204) (second (params 198) 203) 204))) (updateTokenMetadata True ((set_type (params 208) (tuple \"nat\" (map \"string\" \"bytes\")) 209) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 211) False (literal (intOrNat 4) 211) 211) (set (getItem (attr (data) \"token_metadata\" 212) (literal (intOrNat 0) 212) 212) (params 208) 212))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 248, "show": true, "accept_unknown_types": false}, {"action": "html", "tag": "h2", "inner": "Admin mints a few coins", "line_no": 249}, {"action": "message", "id": 0, "message": "mint", "params": "(record 250 (address (reduce (attr (account_of_seed \"Alice\" 237) \"address\" 237) 237)) (value (literal (intOrNat 12) 250)))", "line_no": 250, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 250)", "show": true, "valid": "(literal (bool True) 250)", "voting_powers": "(map 250 )"}, {"action": "message", "id": 0, "message": "mint", "params": "(record 251 (address (reduce (attr (account_of_seed \"Alice\" 237) \"address\" 237) 237)) (value (literal (intOrNat 3) 251)))", "line_no": 251, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 251)", "show": true, "valid": "(literal (bool True) 251)", "voting_powers": "(map 251 )"}, {"action": "message", "id": 0, "message": "mint", "params": "(record 252 (address (reduce (attr (account_of_seed \"Alice\" 237) \"address\" 237) 237)) (value (literal (intOrNat 3) 252)))", "line_no": 252, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 252)", "show": true, "valid": "(literal (bool True) 252)", "voting_powers": "(map 252 )"}, {"action": "html", "tag": "h2", "inner": "Alice transfers to Bob", "line_no": 253}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 254 (from_ (reduce (attr (account_of_seed \"Alice\" 237) \"address\" 237) 237)) (to_ (reduce (attr (account_of_seed \"Robert\" 238) \"address\" 238) 238)) (value (literal (intOrNat 4) 254)))", "line_no": 254, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 254)", "show": true, "valid": "(literal (bool True) 254)", "voting_powers": "(map 254 )"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 254) \"balances\" 255) (reduce (attr (account_of_seed \"Alice\" 237) \"address\" 237) 237) 255) \"balance\" 255) (literal (intOrNat 14) 255) 255)", "line_no": 255}, {"action": "html", "tag": "h2", "inner": "Bob tries to transfer from Alice but he doesn't have her approval", "line_no": 256}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 257 (from_ (reduce (attr (account_of_seed \"Alice\" 237) \"address\" 237) 237)) (to_ (reduce (attr (account_of_seed \"Robert\" 238) \"address\" 238) 238)) (value (literal (intOrNat 4) 257)))", "line_no": 257, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 257)", "show": true, "valid": "(literal (bool False) 257)", "voting_powers": "(map 257 )"}, {"action": "html", "tag": "h2", "inner": "Alice approves Bob and Bob transfers", "line_no": 258}, {"action": "message", "id": 0, "message": "approve", "params": "(record 259 (spender (reduce (attr (account_of_seed \"Robert\" 238) \"address\" 238) 238)) (value (literal (intOrNat 5) 259)))", "line_no": 259, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 259)", "show": true, "valid": "(literal (bool True) 259)", "voting_powers": "(map 259 )"}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 260 (from_ (reduce (attr (account_of_seed \"Alice\" 237) \"address\" 237) 237)) (to_ (reduce (attr (account_of_seed \"Robert\" 238) \"address\" 238) 238)) (value (literal (intOrNat 4) 260)))", "line_no": 260, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 260)", "show": true, "valid": "(literal (bool True) 260)", "voting_powers": "(map 260 )"}, {"action": "html", "tag": "h2", "inner": "Bob tries to over-transfer from Alice", "line_no": 261}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 262 (from_ (reduce (attr (account_of_seed \"Alice\" 237) \"address\" 237) 237)) (to_ (reduce (attr (account_of_seed \"Robert\" 238) \"address\" 238) 238)) (value (literal (intOrNat 4) 262)))", "line_no": 262, "title": "", "messageClass": "", "source": "none", "sender": "seed:Robert", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 262)", "show": true, "valid": "(literal (bool False) 262)", "voting_powers": "(map 262 )"}, {"action": "html", "tag": "h2", "inner": "Admin burns Bob token", "line_no": 263}, {"action": "message", "id": 0, "message": "burn", "params": "(record 264 (address (reduce (attr (account_of_seed \"Robert\" 238) \"address\" 238) 238)) (value (literal (intOrNat 1) 264)))", "line_no": 264, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 264)", "show": true, "valid": "(literal (bool True) 264)", "voting_powers": "(map 264 )"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 264) \"balances\" 265) (reduce (attr (account_of_seed \"Alice\" 237) \"address\" 237) 237) 265) \"balance\" 265) (literal (intOrNat 10) 265) 265)", "line_no": 265}, {"action": "html", "tag": "h2", "inner": "Alice tries to burn Bob token", "line_no": 266}, {"action": "message", "id": 0, "message": "burn", "params": "(record 267 (address (reduce (attr (account_of_seed \"Robert\" 238) \"address\" 238) 238)) (value (literal (intOrNat 1) 267)))", "line_no": 267, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 267)", "show": true, "valid": "(literal (bool False) 267)", "voting_powers": "(map 267 )"}, {"action": "html", "tag": "h2", "inner": "Admin pauses the contract and Alice cannot transfer anymore", "line_no": 268}, {"action": "message", "id": 0, "message": "setPause", "params": "(literal (bool True) 269)", "line_no": 269, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 269)", "show": true, "valid": "(literal (bool True) 269)", "voting_powers": "(map 269 )"}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 270 (from_ (reduce (attr (account_of_seed \"Alice\" 237) \"address\" 237) 237)) (to_ (reduce (attr (account_of_seed \"Robert\" 238) \"address\" 238) 238)) (value (literal (intOrNat 4) 270)))", "line_no": 270, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 270)", "show": true, "valid": "(literal (bool False) 270)", "voting_powers": "(map 270 )"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 270) \"balances\" 271) (reduce (attr (account_of_seed \"Alice\" 237) \"address\" 237) 237) 271) \"balance\" 271) (literal (intOrNat 10) 271) 271)", "line_no": 271}, {"action": "html", "tag": "h2", "inner": "Admin transfers while on pause", "line_no": 272}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 273 (from_ (reduce (attr (account_of_seed \"Alice\" 237) \"address\" 237) 237)) (to_ (reduce (attr (account_of_seed \"Robert\" 238) \"address\" 238) 238)) (value (literal (intOrNat 1) 273)))", "line_no": 273, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 273)", "show": true, "valid": "(literal (bool True) 273)", "voting_powers": "(map 273 )"}, {"action": "html", "tag": "h2", "inner": "Admin unpauses the contract and transfers are allowed", "line_no": 274}, {"action": "message", "id": 0, "message": "setPause", "params": "(literal (bool False) 275)", "line_no": 275, "title": "", "messageClass": "", "source": "none", "sender": "seed:Administrator", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 275)", "show": true, "valid": "(literal (bool True) 275)", "voting_powers": "(map 275 )"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 275) \"balances\" 276) (reduce (attr (account_of_seed \"Alice\" 237) \"address\" 237) 237) 276) \"balance\" 276) (literal (intOrNat 9) 276) 276)", "line_no": 276}, {"action": "message", "id": 0, "message": "transfer", "params": "(record 277 (from_ (reduce (attr (account_of_seed \"Alice\" 237) \"address\" 237) 237)) (to_ (reduce (attr (account_of_seed \"Robert\" 238) \"address\" 238) 238)) (value (literal (intOrNat 1) 277)))", "line_no": 277, "title": "", "messageClass": "", "source": "none", "sender": "seed:Alice", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 277)", "show": true, "valid": "(literal (bool True) 277)", "voting_powers": "(map 277 )"}, {"action": "verify", "condition": "(eq (attr (contractData 0 277) \"totalSupply\" 279) (literal (intOrNat 17) 279) 279)", "line_no": 279}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 277) \"balances\" 280) (reduce (attr (account_of_seed \"Alice\" 237) \"address\" 237) 237) 280) \"balance\" 280) (literal (intOrNat 8) 280) 280)", "line_no": 280}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 277) \"balances\" 280) (reduce (attr (account_of_seed \"Robert\" 238) \"address\" 238) 238) 281) \"balance\" 281) (literal (intOrNat 9) 281) 281)", "line_no": 281}, {"action": "html", "tag": "h1", "inner": "Views", "line_no": 283}, {"action": "html", "tag": "h2", "inner": "Balance", "line_no": 284}, {"action": "newContract", "id": 1, "export": "(storage (record 216 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 220) (variant \"Some\" (params 219) 220) 220))))\nflags ()\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 286, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getBalance", "params": "(tuple 287 (reduce (attr (account_of_seed \"Alice\" 237) \"address\" 237) 237) (literal (local-contract-typed 1) 217))", "line_no": 287, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 287)", "show": true, "valid": "(literal (bool True) 287)", "voting_powers": "(map 287 )"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 1 286) \"last\" 288) (unknown 2) 288) 288) (pack (type_annotation (variant \"Some\" (literal (intOrNat 8) 288) 288) (unknown 2) 288) 288) 288)", "line_no": 288}, {"action": "html", "tag": "h2", "inner": "Administrator", "line_no": 290}, {"action": "newContract", "id": 2, "export": "(storage (record 216 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"address\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 220) (variant \"Some\" (params 219) 220) 220))))\nflags ()\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 292, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getAdministrator", "params": "(tuple 293 (unit) (literal (local-contract-typed 2) 217))", "line_no": 293, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 293)", "show": true, "valid": "(literal (bool True) 293)", "voting_powers": "(map 293 )"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 2 292) \"last\" 294) (unknown 3) 294) 294) (pack (type_annotation (variant \"Some\" (reduce (attr (account_of_seed \"Administrator\" 236) \"address\" 236) 236) 294) (unknown 3) 294) 294) 294)", "line_no": 294}, {"action": "html", "tag": "h2", "inner": "Total Supply", "line_no": 296}, {"action": "newContract", "id": 3, "export": "(storage (record 216 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 220) (variant \"Some\" (params 219) 220) 220))))\nflags ()\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 298, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getTotalSupply", "params": "(tuple 299 (unit) (literal (local-contract-typed 3) 217))", "line_no": 299, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 299)", "show": true, "valid": "(literal (bool True) 299)", "voting_powers": "(map 299 )"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 3 298) \"last\" 300) (unknown 4) 300) 300) (pack (type_annotation (variant \"Some\" (literal (intOrNat 17) 300) 300) (unknown 4) 300) 300) 300)", "line_no": 300}, {"action": "html", "tag": "h2", "inner": "Allowance", "line_no": 302}, {"action": "newContract", "id": 4, "export": "(storage (record 216 (last (variant \"None\" (unit) -1)))\nstorage_type ((record ((last (option \"nat\"))) None))\nmessages ((target True ((set (attr (data) \"last\" 220) (variant \"Some\" (params 219) 220) 220))))\nflags ()\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 304, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "getAllowance", "params": "(tuple 305 (record 305 (owner (reduce (attr (account_of_seed \"Alice\" 237) \"address\" 237) 237)) (spender (reduce (attr (account_of_seed \"Robert\" 238) \"address\" 238) 238))) (literal (local-contract-typed 4) 217))", "line_no": 305, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 305)", "show": true, "valid": "(literal (bool True) 305)", "voting_powers": "(map 305 )"}, {"action": "verify", "condition": "(eq (pack (type_annotation (attr (contractData 4 304) \"last\" 306) (unknown 5) 306) 306) (pack (type_annotation (variant \"Some\" (literal (intOrNat 1) 306) 306) (unknown 5) 306) 306) 306)", "line_no": 306}]}, {"shortname": "mint_-_respects_debt_ceiling", "longname": "mint - respects debt ceiling", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 56 (administrator (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (balances (type_annotation (big_map 57 ) (bigmap (unknown 6) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 57)) (debtCeiling (literal (intOrNat 100) 56)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (metadata (type_annotation (big_map 45 ((literal (string \"\") 327) (literal (bytes \"0x74657a6f732d73746f726167653a64617461\") 47)) ((literal (string \"data\") 327) (literal (bytes \"0x7b206e616d653a2022204b6f6c6962726920546f6b656e20436f6e7472616374222c20226465736372697074696f6e223a20224641312e3220496d706c656d656e746174696f6e206f66206b555344222c2022617574686f72223a2022486f766572204c616273222c2022686f6d6570616765223a20202268747470733a2f2f6b6f6c696272692e66696e616e6365222c2022696e7465726661636573223a205b2022545a49502d3030372d323032312d30312d3239225d207d\") 43))) (bigmap \"string\" \"bytes\") 45)) (paused (literal (bool False) 56)) (token_metadata (type_annotation (big_map 33 ((literal (nat 0) 20) (tuple 327 (literal (nat 0) 20) (type_annotation (map 22 ((literal (string \"name\") 327) (literal (bytes \"0x4b6f6c6962726920555344\") 24)) ((literal (string \"decimals\") 327) (literal (bytes \"0x3138\") 25)) ((literal (string \"symbol\") 327) (literal (bytes \"0x6b555344\") 26)) ((literal (string \"icon\") 327) (literal (bytes \"0x2068747470733a2f2f6b6f6c696272692d646174612e73332e616d617a6f6e6177732e636f6d2f6c6f676f2e706e67\") 27))) (map \"string\" \"bytes\") 22)))) (bigmap \"nat\" (tuple \"nat\" (map \"string\" \"bytes\"))) 33)) (totalSupply (literal (intOrNat 0) 56)))\nstorage_type (())\nmessages ((approve True ((set_type (params 80) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 81) (verify (invert (attr (data) \"paused\" 151) 82) False 82) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 83) (sender) 83) \"approvals\" 83) (attr (params 80) \"spender\" 83) (literal (intOrNat 0) 83) 83) (literal (intOrNat 0) 84) 84) (eq (attr (params 80) \"value\" 84) (literal (intOrNat 0) 84) 84) 84) False (literal (intOrNat 23) 84) 84) (set (getItem (attr (getItem (attr (data) \"balances\" 83) (sender) 85) \"approvals\" 85) (attr (params 80) \"spender\" 83) 85) (attr (params 80) \"value\" 84) 85))) (burn True ((set_type (params 125) (record ((address \"address\") (value \"nat\")) None) 126) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 127) 127) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 128) \"balance\" 128) (attr (params 125) \"value\" 128) 128) False (literal (intOrNat 23) 128) 128) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (attr (params 125) \"value\" 128) 129) 129) \"Some\" \"None\" 129) 129) (set (attr (data) \"totalSupply\" 130) (openVariant (isNat (sub (attr (data) \"totalSupply\" 130) (attr (params 125) \"value\" 128) 130) 130) \"Some\" \"None\" 130) 130))) (getAdministrator True ((bind \"__s5\" ((set_type (first (params 145) 327) \"unit\" 146) (result (attr (data) \"administrator\" 134) 147))) (set_type (second (params 145) 327) (contract \"address\") 327) (set (operations 327) (cons (transfer (getLocal \"__s5\" 327) (literal (mutez 0) 327) (second (params 145) 327) 145) (operations 327) 327) 327))) (getAllowance True ((bind \"__s6\" ((result (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (first (params 96) 327) \"owner\" 97) 97) \"approvals\" 97) (attr (first (params 96) 327) \"spender\" 97) 97) 97))) (set_type (second (params 96) 327) (contract \"nat\") 327) (set (operations 327) (cons (transfer (getLocal \"__s6\" 327) (literal (mutez 0) 327) (second (params 96) 327) 96) (operations 327) 327) 327))) (getBalance True ((bind \"__s7\" ((result (attr (getItem (attr (data) \"balances\" 83) (first (params 92) 327) 93) \"balance\" 93) 93))) (set_type (second (params 92) 327) (contract \"nat\") 327) (set (operations 327) (cons (transfer (getLocal \"__s7\" 327) (literal (mutez 0) 327) (second (params 92) 327) 92) (operations 327) 327) 327))) (getTotalSupply True ((bind \"__s8\" ((set_type (first (params 100) 327) \"unit\" 101) (result (attr (data) \"totalSupply\" 130) 102))) (set_type (second (params 100) 327) (contract \"nat\") 327) (set (operations 327) (cons (transfer (getLocal \"__s8\" 327) (literal (mutez 0) 327) (second (params 100) 327) 100) (operations 327) 327) 327))) (mint True ((set_type (params 114) (record ((address \"address\") (value \"nat\")) None) 115) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 116) 116) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (attr (params 114) \"value\" 118) 118) 118) (set (attr (data) \"totalSupply\" 130) (add (attr (data) \"totalSupply\" 130) (attr (params 114) \"value\" 118) 119) 119) (verify (le (attr (data) \"totalSupply\" 130) (attr (data) \"debtCeiling\" 122) 122) False (literal (intOrNat 20) 122) 122))) (setAdministrator True ((set_type (params 137) \"address\" 138) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 141) False (literal (intOrNat 4) 141) 141) (set (attr (data) \"administrator\" 134) (params 137) 142))) (setDebtCeiling True ((set_type (params 190) \"nat\" 191) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 193) False (literal (intOrNat 4) 193) 193) (set (attr (data) \"debtCeiling\" 122) (params 190) 194))) (setGovernorContract True ((set_type (params 182) \"address\" 183) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 185) False (literal (intOrNat 4) 185) 185) (set (attr (data) \"governorContractAddress\" 141) (params 182) 186))) (setPause True ((set_type (params 154) \"bool\" 155) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 156) 156) (set (attr (data) \"paused\" 151) (params 154) 157))) (transfer True ((set_type (params 66) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) (Some ((\"from_ as from\") ((\"to_ as to\") (\"value\"))))) 67) (verify (or (eq (sender) (attr (data) \"administrator\" 134) 134) (and (invert (attr (data) \"paused\" 151) 69) (or (eq (attr (params 66) \"from_\" 70) (sender) 70) (ge (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 71) \"approvals\" 71) (sender) 71) (attr (params 66) \"value\" 71) 71) 70) 69) 68) False (literal (intOrNat 22) 68) 68) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 73) \"balance\" 73) (attr (params 66) \"value\" 71) 73) False (literal (intOrNat 23) 73) 73) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (attr (params 66) \"value\" 71) 74) 74) \"Some\" \"None\" 74) 74) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (attr (params 66) \"value\" 71) 75) 75) (ifBlock (and (neq (attr (params 66) \"from_\" 70) (sender) 76) (invert (eq (sender) (attr (data) \"administrator\" 134) 134) 76) 76) ((set (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (attr (params 66) \"value\" 71) 77) 77) \"Some\" \"None\" 77) 77)) 76))) (updateContractMetadata True ((set_type (params 198) (tuple \"string\" \"bytes\") 199) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 201) False (literal (intOrNat 4) 201) 201) (set (getItem (attr (data) \"metadata\" 204) (first (params 198) 202) 204) (second (params 198) 203) 204))) (updateTokenMetadata True ((set_type (params 208) (tuple \"nat\" (map \"string\" \"bytes\")) 209) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 211) False (literal (intOrNat 4) 211) 211) (set (getItem (attr (data) \"token_metadata\" 212) (literal (intOrNat 0) 212) 212) (params 208) 212))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 327, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 1, "export": "(storage (record 12 (intValue (literal (int 0) 10)) (natValue (literal (nat 0) 9)))\nstorage_type (())\nmessages ((default True ()) (intCallback True ((set (attr (data) \"intValue\" 30) (params 29) 30))) (natCallback True ((set (attr (data) \"natValue\" 25) (params 24) 25))))\nflags ()\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 331, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "mint", "params": "(record 334 (address (literal (local-address 1) 12)) (value (literal (intOrNat 100) 334)))", "line_no": 335, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 335)", "show": true, "valid": "(literal (bool True) 335)", "voting_powers": "(map 335 )"}, {"action": "verify", "condition": "(eq (attr (getItem (attr (contractData 0 335) \"balances\" 340) (literal (local-address 1) 12) 340) \"balance\" 340) (literal (intOrNat 100) 340) 340)", "line_no": 340}, {"action": "verify", "condition": "(eq (attr (contractData 0 335) \"totalSupply\" 341) (literal (intOrNat 100) 341) 341)", "line_no": 341}, {"action": "message", "id": 0, "message": "mint", "params": "(record 344 (address (literal (local-address 1) 12)) (value (literal (intOrNat 1) 344)))", "line_no": 345, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 345)", "show": true, "valid": "(literal (bool False) 345)", "voting_powers": "(map 345 )"}]}, {"shortname": "setDebtCeiling_-_succeeds_when_called_by_governor", "longname": "setDebtCeiling - succeeds when called by governor", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 56 (administrator (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (balances (type_annotation (big_map 57 ) (bigmap (unknown 7) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 57)) (debtCeiling (literal (intOrNat 123) 56)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (metadata (type_annotation (big_map 45 ((literal (string \"\") 363) (literal (bytes \"0x74657a6f732d73746f726167653a64617461\") 47)) ((literal (string \"data\") 363) (literal (bytes \"0x7b206e616d653a2022204b6f6c6962726920546f6b656e20436f6e7472616374222c20226465736372697074696f6e223a20224641312e3220496d706c656d656e746174696f6e206f66206b555344222c2022617574686f72223a2022486f766572204c616273222c2022686f6d6570616765223a20202268747470733a2f2f6b6f6c696272692e66696e616e6365222c2022696e7465726661636573223a205b2022545a49502d3030372d323032312d30312d3239225d207d\") 43))) (bigmap \"string\" \"bytes\") 45)) (paused (literal (bool False) 56)) (token_metadata (type_annotation (big_map 33 ((literal (nat 0) 20) (tuple 363 (literal (nat 0) 20) (type_annotation (map 22 ((literal (string \"name\") 363) (literal (bytes \"0x4b6f6c6962726920555344\") 24)) ((literal (string \"decimals\") 363) (literal (bytes \"0x3138\") 25)) ((literal (string \"symbol\") 363) (literal (bytes \"0x6b555344\") 26)) ((literal (string \"icon\") 363) (literal (bytes \"0x2068747470733a2f2f6b6f6c696272692d646174612e73332e616d617a6f6e6177732e636f6d2f6c6f676f2e706e67\") 27))) (map \"string\" \"bytes\") 22)))) (bigmap \"nat\" (tuple \"nat\" (map \"string\" \"bytes\"))) 33)) (totalSupply (literal (intOrNat 0) 56)))\nstorage_type (())\nmessages ((approve True ((set_type (params 80) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 81) (verify (invert (attr (data) \"paused\" 151) 82) False 82) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 83) (sender) 83) \"approvals\" 83) (attr (params 80) \"spender\" 83) (literal (intOrNat 0) 83) 83) (literal (intOrNat 0) 84) 84) (eq (attr (params 80) \"value\" 84) (literal (intOrNat 0) 84) 84) 84) False (literal (intOrNat 23) 84) 84) (set (getItem (attr (getItem (attr (data) \"balances\" 83) (sender) 85) \"approvals\" 85) (attr (params 80) \"spender\" 83) 85) (attr (params 80) \"value\" 84) 85))) (burn True ((set_type (params 125) (record ((address \"address\") (value \"nat\")) None) 126) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 127) 127) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 128) \"balance\" 128) (attr (params 125) \"value\" 128) 128) False (literal (intOrNat 23) 128) 128) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (attr (params 125) \"value\" 128) 129) 129) \"Some\" \"None\" 129) 129) (set (attr (data) \"totalSupply\" 130) (openVariant (isNat (sub (attr (data) \"totalSupply\" 130) (attr (params 125) \"value\" 128) 130) 130) \"Some\" \"None\" 130) 130))) (getAdministrator True ((bind \"__s9\" ((set_type (first (params 145) 363) \"unit\" 146) (result (attr (data) \"administrator\" 134) 147))) (set_type (second (params 145) 363) (contract \"address\") 363) (set (operations 363) (cons (transfer (getLocal \"__s9\" 363) (literal (mutez 0) 363) (second (params 145) 363) 145) (operations 363) 363) 363))) (getAllowance True ((bind \"__s10\" ((result (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (first (params 96) 363) \"owner\" 97) 97) \"approvals\" 97) (attr (first (params 96) 363) \"spender\" 97) 97) 97))) (set_type (second (params 96) 363) (contract \"nat\") 363) (set (operations 363) (cons (transfer (getLocal \"__s10\" 363) (literal (mutez 0) 363) (second (params 96) 363) 96) (operations 363) 363) 363))) (getBalance True ((bind \"__s11\" ((result (attr (getItem (attr (data) \"balances\" 83) (first (params 92) 363) 93) \"balance\" 93) 93))) (set_type (second (params 92) 363) (contract \"nat\") 363) (set (operations 363) (cons (transfer (getLocal \"__s11\" 363) (literal (mutez 0) 363) (second (params 92) 363) 92) (operations 363) 363) 363))) (getTotalSupply True ((bind \"__s12\" ((set_type (first (params 100) 363) \"unit\" 101) (result (attr (data) \"totalSupply\" 130) 102))) (set_type (second (params 100) 363) (contract \"nat\") 363) (set (operations 363) (cons (transfer (getLocal \"__s12\" 363) (literal (mutez 0) 363) (second (params 100) 363) 100) (operations 363) 363) 363))) (mint True ((set_type (params 114) (record ((address \"address\") (value \"nat\")) None) 115) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 116) 116) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (attr (params 114) \"value\" 118) 118) 118) (set (attr (data) \"totalSupply\" 130) (add (attr (data) \"totalSupply\" 130) (attr (params 114) \"value\" 118) 119) 119) (verify (le (attr (data) \"totalSupply\" 130) (attr (data) \"debtCeiling\" 122) 122) False (literal (intOrNat 20) 122) 122))) (setAdministrator True ((set_type (params 137) \"address\" 138) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 141) False (literal (intOrNat 4) 141) 141) (set (attr (data) \"administrator\" 134) (params 137) 142))) (setDebtCeiling True ((set_type (params 190) \"nat\" 191) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 193) False (literal (intOrNat 4) 193) 193) (set (attr (data) \"debtCeiling\" 122) (params 190) 194))) (setGovernorContract True ((set_type (params 182) \"address\" 183) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 185) False (literal (intOrNat 4) 185) 185) (set (attr (data) \"governorContractAddress\" 141) (params 182) 186))) (setPause True ((set_type (params 154) \"bool\" 155) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 156) 156) (set (attr (data) \"paused\" 151) (params 154) 157))) (transfer True ((set_type (params 66) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) (Some ((\"from_ as from\") ((\"to_ as to\") (\"value\"))))) 67) (verify (or (eq (sender) (attr (data) \"administrator\" 134) 134) (and (invert (attr (data) \"paused\" 151) 69) (or (eq (attr (params 66) \"from_\" 70) (sender) 70) (ge (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 71) \"approvals\" 71) (sender) 71) (attr (params 66) \"value\" 71) 71) 70) 69) 68) False (literal (intOrNat 22) 68) 68) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 73) \"balance\" 73) (attr (params 66) \"value\" 71) 73) False (literal (intOrNat 23) 73) 73) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (attr (params 66) \"value\" 71) 74) 74) \"Some\" \"None\" 74) 74) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (attr (params 66) \"value\" 71) 75) 75) (ifBlock (and (neq (attr (params 66) \"from_\" 70) (sender) 76) (invert (eq (sender) (attr (data) \"administrator\" 134) 134) 76) 76) ((set (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (attr (params 66) \"value\" 71) 77) 77) \"Some\" \"None\" 77) 77)) 76))) (updateContractMetadata True ((set_type (params 198) (tuple \"string\" \"bytes\") 199) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 201) False (literal (intOrNat 4) 201) 201) (set (getItem (attr (data) \"metadata\" 204) (first (params 198) 202) 204) (second (params 198) 203) 204))) (updateTokenMetadata True ((set_type (params 208) (tuple \"nat\" (map \"string\" \"bytes\")) 209) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 211) False (literal (intOrNat 4) 211) 211) (set (getItem (attr (data) \"token_metadata\" 212) (literal (intOrNat 0) 212) 212) (params 208) 212))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 363, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setDebtCeiling", "params": "(literal (intOrNat 456) 367)", "line_no": 367, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 367)", "show": true, "valid": "(literal (bool True) 367)", "voting_powers": "(map 367 )"}, {"action": "verify", "condition": "(eq (attr (contractData 0 367) \"debtCeiling\" 372) (literal (intOrNat 456) 372) 372)", "line_no": 372}]}, {"shortname": "setDebtCeiling_-_fails_when_not_called_by_governor", "longname": "setDebtCeiling - fails when not called by governor", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 56 (administrator (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (balances (type_annotation (big_map 57 ) (bigmap (unknown 8) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 57)) (debtCeiling (literal (intOrNat 123) 56)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (metadata (type_annotation (big_map 45 ((literal (string \"\") 383) (literal (bytes \"0x74657a6f732d73746f726167653a64617461\") 47)) ((literal (string \"data\") 383) (literal (bytes \"0x7b206e616d653a2022204b6f6c6962726920546f6b656e20436f6e7472616374222c20226465736372697074696f6e223a20224641312e3220496d706c656d656e746174696f6e206f66206b555344222c2022617574686f72223a2022486f766572204c616273222c2022686f6d6570616765223a20202268747470733a2f2f6b6f6c696272692e66696e616e6365222c2022696e7465726661636573223a205b2022545a49502d3030372d323032312d30312d3239225d207d\") 43))) (bigmap \"string\" \"bytes\") 45)) (paused (literal (bool False) 56)) (token_metadata (type_annotation (big_map 33 ((literal (nat 0) 20) (tuple 383 (literal (nat 0) 20) (type_annotation (map 22 ((literal (string \"name\") 383) (literal (bytes \"0x4b6f6c6962726920555344\") 24)) ((literal (string \"decimals\") 383) (literal (bytes \"0x3138\") 25)) ((literal (string \"symbol\") 383) (literal (bytes \"0x6b555344\") 26)) ((literal (string \"icon\") 383) (literal (bytes \"0x2068747470733a2f2f6b6f6c696272692d646174612e73332e616d617a6f6e6177732e636f6d2f6c6f676f2e706e67\") 27))) (map \"string\" \"bytes\") 22)))) (bigmap \"nat\" (tuple \"nat\" (map \"string\" \"bytes\"))) 33)) (totalSupply (literal (intOrNat 0) 56)))\nstorage_type (())\nmessages ((approve True ((set_type (params 80) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 81) (verify (invert (attr (data) \"paused\" 151) 82) False 82) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 83) (sender) 83) \"approvals\" 83) (attr (params 80) \"spender\" 83) (literal (intOrNat 0) 83) 83) (literal (intOrNat 0) 84) 84) (eq (attr (params 80) \"value\" 84) (literal (intOrNat 0) 84) 84) 84) False (literal (intOrNat 23) 84) 84) (set (getItem (attr (getItem (attr (data) \"balances\" 83) (sender) 85) \"approvals\" 85) (attr (params 80) \"spender\" 83) 85) (attr (params 80) \"value\" 84) 85))) (burn True ((set_type (params 125) (record ((address \"address\") (value \"nat\")) None) 126) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 127) 127) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 128) \"balance\" 128) (attr (params 125) \"value\" 128) 128) False (literal (intOrNat 23) 128) 128) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (attr (params 125) \"value\" 128) 129) 129) \"Some\" \"None\" 129) 129) (set (attr (data) \"totalSupply\" 130) (openVariant (isNat (sub (attr (data) \"totalSupply\" 130) (attr (params 125) \"value\" 128) 130) 130) \"Some\" \"None\" 130) 130))) (getAdministrator True ((bind \"__s13\" ((set_type (first (params 145) 383) \"unit\" 146) (result (attr (data) \"administrator\" 134) 147))) (set_type (second (params 145) 383) (contract \"address\") 383) (set (operations 383) (cons (transfer (getLocal \"__s13\" 383) (literal (mutez 0) 383) (second (params 145) 383) 145) (operations 383) 383) 383))) (getAllowance True ((bind \"__s14\" ((result (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (first (params 96) 383) \"owner\" 97) 97) \"approvals\" 97) (attr (first (params 96) 383) \"spender\" 97) 97) 97))) (set_type (second (params 96) 383) (contract \"nat\") 383) (set (operations 383) (cons (transfer (getLocal \"__s14\" 383) (literal (mutez 0) 383) (second (params 96) 383) 96) (operations 383) 383) 383))) (getBalance True ((bind \"__s15\" ((result (attr (getItem (attr (data) \"balances\" 83) (first (params 92) 383) 93) \"balance\" 93) 93))) (set_type (second (params 92) 383) (contract \"nat\") 383) (set (operations 383) (cons (transfer (getLocal \"__s15\" 383) (literal (mutez 0) 383) (second (params 92) 383) 92) (operations 383) 383) 383))) (getTotalSupply True ((bind \"__s16\" ((set_type (first (params 100) 383) \"unit\" 101) (result (attr (data) \"totalSupply\" 130) 102))) (set_type (second (params 100) 383) (contract \"nat\") 383) (set (operations 383) (cons (transfer (getLocal \"__s16\" 383) (literal (mutez 0) 383) (second (params 100) 383) 100) (operations 383) 383) 383))) (mint True ((set_type (params 114) (record ((address \"address\") (value \"nat\")) None) 115) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 116) 116) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (attr (params 114) \"value\" 118) 118) 118) (set (attr (data) \"totalSupply\" 130) (add (attr (data) \"totalSupply\" 130) (attr (params 114) \"value\" 118) 119) 119) (verify (le (attr (data) \"totalSupply\" 130) (attr (data) \"debtCeiling\" 122) 122) False (literal (intOrNat 20) 122) 122))) (setAdministrator True ((set_type (params 137) \"address\" 138) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 141) False (literal (intOrNat 4) 141) 141) (set (attr (data) \"administrator\" 134) (params 137) 142))) (setDebtCeiling True ((set_type (params 190) \"nat\" 191) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 193) False (literal (intOrNat 4) 193) 193) (set (attr (data) \"debtCeiling\" 122) (params 190) 194))) (setGovernorContract True ((set_type (params 182) \"address\" 183) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 185) False (literal (intOrNat 4) 185) 185) (set (attr (data) \"governorContractAddress\" 141) (params 182) 186))) (setPause True ((set_type (params 154) \"bool\" 155) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 156) 156) (set (attr (data) \"paused\" 151) (params 154) 157))) (transfer True ((set_type (params 66) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) (Some ((\"from_ as from\") ((\"to_ as to\") (\"value\"))))) 67) (verify (or (eq (sender) (attr (data) \"administrator\" 134) 134) (and (invert (attr (data) \"paused\" 151) 69) (or (eq (attr (params 66) \"from_\" 70) (sender) 70) (ge (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 71) \"approvals\" 71) (sender) 71) (attr (params 66) \"value\" 71) 71) 70) 69) 68) False (literal (intOrNat 22) 68) 68) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 73) \"balance\" 73) (attr (params 66) \"value\" 71) 73) False (literal (intOrNat 23) 73) 73) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (attr (params 66) \"value\" 71) 74) 74) \"Some\" \"None\" 74) 74) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (attr (params 66) \"value\" 71) 75) 75) (ifBlock (and (neq (attr (params 66) \"from_\" 70) (sender) 76) (invert (eq (sender) (attr (data) \"administrator\" 134) 134) 76) 76) ((set (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (attr (params 66) \"value\" 71) 77) 77) \"Some\" \"None\" 77) 77)) 76))) (updateContractMetadata True ((set_type (params 198) (tuple \"string\" \"bytes\") 199) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 201) False (literal (intOrNat 4) 201) 201) (set (getItem (attr (data) \"metadata\" 204) (first (params 198) 202) 204) (second (params 198) 203) 204))) (updateTokenMetadata True ((set_type (params 208) (tuple \"nat\" (map \"string\" \"bytes\")) 209) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 211) False (literal (intOrNat 4) 211) 211) (set (getItem (attr (data) \"token_metadata\" 212) (literal (intOrNat 0) 212) 212) (params 208) 212))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 383, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setDebtCeiling", "params": "(literal (intOrNat 456) 387)", "line_no": 387, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 387)", "show": true, "valid": "(literal (bool False) 387)", "voting_powers": "(map 387 )"}]}, {"shortname": "updateContractMetadata_-_succeeds_when_called_by_governor", "longname": "updateContractMetadata - succeeds when called by governor", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 56 (administrator (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (balances (type_annotation (big_map 57 ) (bigmap (unknown 9) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 57)) (debtCeiling (literal (nat 1000000000000000000000000000000000000000000000000000000000000000000000000) 169)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (metadata (type_annotation (big_map 45 ((literal (string \"\") 404) (literal (bytes \"0x74657a6f732d73746f726167653a64617461\") 47)) ((literal (string \"data\") 404) (literal (bytes \"0x7b206e616d653a2022204b6f6c6962726920546f6b656e20436f6e7472616374222c20226465736372697074696f6e223a20224641312e3220496d706c656d656e746174696f6e206f66206b555344222c2022617574686f72223a2022486f766572204c616273222c2022686f6d6570616765223a20202268747470733a2f2f6b6f6c696272692e66696e616e6365222c2022696e7465726661636573223a205b2022545a49502d3030372d323032312d30312d3239225d207d\") 43))) (bigmap \"string\" \"bytes\") 45)) (paused (literal (bool False) 56)) (token_metadata (type_annotation (big_map 33 ((literal (nat 0) 20) (tuple 404 (literal (nat 0) 20) (type_annotation (map 22 ((literal (string \"name\") 404) (literal (bytes \"0x4b6f6c6962726920555344\") 24)) ((literal (string \"decimals\") 404) (literal (bytes \"0x3138\") 25)) ((literal (string \"symbol\") 404) (literal (bytes \"0x6b555344\") 26)) ((literal (string \"icon\") 404) (literal (bytes \"0x2068747470733a2f2f6b6f6c696272692d646174612e73332e616d617a6f6e6177732e636f6d2f6c6f676f2e706e67\") 27))) (map \"string\" \"bytes\") 22)))) (bigmap \"nat\" (tuple \"nat\" (map \"string\" \"bytes\"))) 33)) (totalSupply (literal (intOrNat 0) 56)))\nstorage_type (())\nmessages ((approve True ((set_type (params 80) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 81) (verify (invert (attr (data) \"paused\" 151) 82) False 82) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 83) (sender) 83) \"approvals\" 83) (attr (params 80) \"spender\" 83) (literal (intOrNat 0) 83) 83) (literal (intOrNat 0) 84) 84) (eq (attr (params 80) \"value\" 84) (literal (intOrNat 0) 84) 84) 84) False (literal (intOrNat 23) 84) 84) (set (getItem (attr (getItem (attr (data) \"balances\" 83) (sender) 85) \"approvals\" 85) (attr (params 80) \"spender\" 83) 85) (attr (params 80) \"value\" 84) 85))) (burn True ((set_type (params 125) (record ((address \"address\") (value \"nat\")) None) 126) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 127) 127) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 128) \"balance\" 128) (attr (params 125) \"value\" 128) 128) False (literal (intOrNat 23) 128) 128) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (attr (params 125) \"value\" 128) 129) 129) \"Some\" \"None\" 129) 129) (set (attr (data) \"totalSupply\" 130) (openVariant (isNat (sub (attr (data) \"totalSupply\" 130) (attr (params 125) \"value\" 128) 130) 130) \"Some\" \"None\" 130) 130))) (getAdministrator True ((bind \"__s17\" ((set_type (first (params 145) 404) \"unit\" 146) (result (attr (data) \"administrator\" 134) 147))) (set_type (second (params 145) 404) (contract \"address\") 404) (set (operations 404) (cons (transfer (getLocal \"__s17\" 404) (literal (mutez 0) 404) (second (params 145) 404) 145) (operations 404) 404) 404))) (getAllowance True ((bind \"__s18\" ((result (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (first (params 96) 404) \"owner\" 97) 97) \"approvals\" 97) (attr (first (params 96) 404) \"spender\" 97) 97) 97))) (set_type (second (params 96) 404) (contract \"nat\") 404) (set (operations 404) (cons (transfer (getLocal \"__s18\" 404) (literal (mutez 0) 404) (second (params 96) 404) 96) (operations 404) 404) 404))) (getBalance True ((bind \"__s19\" ((result (attr (getItem (attr (data) \"balances\" 83) (first (params 92) 404) 93) \"balance\" 93) 93))) (set_type (second (params 92) 404) (contract \"nat\") 404) (set (operations 404) (cons (transfer (getLocal \"__s19\" 404) (literal (mutez 0) 404) (second (params 92) 404) 92) (operations 404) 404) 404))) (getTotalSupply True ((bind \"__s20\" ((set_type (first (params 100) 404) \"unit\" 101) (result (attr (data) \"totalSupply\" 130) 102))) (set_type (second (params 100) 404) (contract \"nat\") 404) (set (operations 404) (cons (transfer (getLocal \"__s20\" 404) (literal (mutez 0) 404) (second (params 100) 404) 100) (operations 404) 404) 404))) (mint True ((set_type (params 114) (record ((address \"address\") (value \"nat\")) None) 115) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 116) 116) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (attr (params 114) \"value\" 118) 118) 118) (set (attr (data) \"totalSupply\" 130) (add (attr (data) \"totalSupply\" 130) (attr (params 114) \"value\" 118) 119) 119) (verify (le (attr (data) \"totalSupply\" 130) (attr (data) \"debtCeiling\" 122) 122) False (literal (intOrNat 20) 122) 122))) (setAdministrator True ((set_type (params 137) \"address\" 138) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 141) False (literal (intOrNat 4) 141) 141) (set (attr (data) \"administrator\" 134) (params 137) 142))) (setDebtCeiling True ((set_type (params 190) \"nat\" 191) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 193) False (literal (intOrNat 4) 193) 193) (set (attr (data) \"debtCeiling\" 122) (params 190) 194))) (setGovernorContract True ((set_type (params 182) \"address\" 183) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 185) False (literal (intOrNat 4) 185) 185) (set (attr (data) \"governorContractAddress\" 141) (params 182) 186))) (setPause True ((set_type (params 154) \"bool\" 155) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 156) 156) (set (attr (data) \"paused\" 151) (params 154) 157))) (transfer True ((set_type (params 66) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) (Some ((\"from_ as from\") ((\"to_ as to\") (\"value\"))))) 67) (verify (or (eq (sender) (attr (data) \"administrator\" 134) 134) (and (invert (attr (data) \"paused\" 151) 69) (or (eq (attr (params 66) \"from_\" 70) (sender) 70) (ge (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 71) \"approvals\" 71) (sender) 71) (attr (params 66) \"value\" 71) 71) 70) 69) 68) False (literal (intOrNat 22) 68) 68) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 73) \"balance\" 73) (attr (params 66) \"value\" 71) 73) False (literal (intOrNat 23) 73) 73) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (attr (params 66) \"value\" 71) 74) 74) \"Some\" \"None\" 74) 74) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (attr (params 66) \"value\" 71) 75) 75) (ifBlock (and (neq (attr (params 66) \"from_\" 70) (sender) 76) (invert (eq (sender) (attr (data) \"administrator\" 134) 134) 76) 76) ((set (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (attr (params 66) \"value\" 71) 77) 77) \"Some\" \"None\" 77) 77)) 76))) (updateContractMetadata True ((set_type (params 198) (tuple \"string\" \"bytes\") 199) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 201) False (literal (intOrNat 4) 201) 201) (set (getItem (attr (data) \"metadata\" 204) (first (params 198) 202) 204) (second (params 198) 203) 204))) (updateTokenMetadata True ((set_type (params 208) (tuple \"nat\" (map \"string\" \"bytes\")) 209) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 211) False (literal (intOrNat 4) 211) 211) (set (getItem (attr (data) \"token_metadata\" 212) (literal (intOrNat 0) 212) 212) (params 208) 212))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 404, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "updateContractMetadata", "params": "(tuple 409 (literal (string \"\") 409) (literal (bytes \"0x1234567890\") 408))", "line_no": 409, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 409)", "show": true, "valid": "(literal (bool True) 409)", "voting_powers": "(map 409 )"}, {"action": "verify", "condition": "(eq (getItem (attr (contractData 0 409) \"metadata\" 414) (literal (string \"\") 414) 414) (literal (bytes \"0x1234567890\") 408) 414)", "line_no": 414}]}, {"shortname": "updateContractMetadata_-_fails_when_not_called_by_governor", "longname": "updateContractMetadata - fails when not called by governor", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 56 (administrator (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (balances (type_annotation (big_map 57 ) (bigmap (unknown 10) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 57)) (debtCeiling (literal (nat 1000000000000000000000000000000000000000000000000000000000000000000000000) 169)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (metadata (type_annotation (big_map 45 ((literal (string \"\") 424) (literal (bytes \"0x74657a6f732d73746f726167653a64617461\") 47)) ((literal (string \"data\") 424) (literal (bytes \"0x7b206e616d653a2022204b6f6c6962726920546f6b656e20436f6e7472616374222c20226465736372697074696f6e223a20224641312e3220496d706c656d656e746174696f6e206f66206b555344222c2022617574686f72223a2022486f766572204c616273222c2022686f6d6570616765223a20202268747470733a2f2f6b6f6c696272692e66696e616e6365222c2022696e7465726661636573223a205b2022545a49502d3030372d323032312d30312d3239225d207d\") 43))) (bigmap \"string\" \"bytes\") 45)) (paused (literal (bool False) 56)) (token_metadata (type_annotation (big_map 33 ((literal (nat 0) 20) (tuple 424 (literal (nat 0) 20) (type_annotation (map 22 ((literal (string \"name\") 424) (literal (bytes \"0x4b6f6c6962726920555344\") 24)) ((literal (string \"decimals\") 424) (literal (bytes \"0x3138\") 25)) ((literal (string \"symbol\") 424) (literal (bytes \"0x6b555344\") 26)) ((literal (string \"icon\") 424) (literal (bytes \"0x2068747470733a2f2f6b6f6c696272692d646174612e73332e616d617a6f6e6177732e636f6d2f6c6f676f2e706e67\") 27))) (map \"string\" \"bytes\") 22)))) (bigmap \"nat\" (tuple \"nat\" (map \"string\" \"bytes\"))) 33)) (totalSupply (literal (intOrNat 0) 56)))\nstorage_type (())\nmessages ((approve True ((set_type (params 80) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 81) (verify (invert (attr (data) \"paused\" 151) 82) False 82) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 83) (sender) 83) \"approvals\" 83) (attr (params 80) \"spender\" 83) (literal (intOrNat 0) 83) 83) (literal (intOrNat 0) 84) 84) (eq (attr (params 80) \"value\" 84) (literal (intOrNat 0) 84) 84) 84) False (literal (intOrNat 23) 84) 84) (set (getItem (attr (getItem (attr (data) \"balances\" 83) (sender) 85) \"approvals\" 85) (attr (params 80) \"spender\" 83) 85) (attr (params 80) \"value\" 84) 85))) (burn True ((set_type (params 125) (record ((address \"address\") (value \"nat\")) None) 126) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 127) 127) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 128) \"balance\" 128) (attr (params 125) \"value\" 128) 128) False (literal (intOrNat 23) 128) 128) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (attr (params 125) \"value\" 128) 129) 129) \"Some\" \"None\" 129) 129) (set (attr (data) \"totalSupply\" 130) (openVariant (isNat (sub (attr (data) \"totalSupply\" 130) (attr (params 125) \"value\" 128) 130) 130) \"Some\" \"None\" 130) 130))) (getAdministrator True ((bind \"__s21\" ((set_type (first (params 145) 424) \"unit\" 146) (result (attr (data) \"administrator\" 134) 147))) (set_type (second (params 145) 424) (contract \"address\") 424) (set (operations 424) (cons (transfer (getLocal \"__s21\" 424) (literal (mutez 0) 424) (second (params 145) 424) 145) (operations 424) 424) 424))) (getAllowance True ((bind \"__s22\" ((result (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (first (params 96) 424) \"owner\" 97) 97) \"approvals\" 97) (attr (first (params 96) 424) \"spender\" 97) 97) 97))) (set_type (second (params 96) 424) (contract \"nat\") 424) (set (operations 424) (cons (transfer (getLocal \"__s22\" 424) (literal (mutez 0) 424) (second (params 96) 424) 96) (operations 424) 424) 424))) (getBalance True ((bind \"__s23\" ((result (attr (getItem (attr (data) \"balances\" 83) (first (params 92) 424) 93) \"balance\" 93) 93))) (set_type (second (params 92) 424) (contract \"nat\") 424) (set (operations 424) (cons (transfer (getLocal \"__s23\" 424) (literal (mutez 0) 424) (second (params 92) 424) 92) (operations 424) 424) 424))) (getTotalSupply True ((bind \"__s24\" ((set_type (first (params 100) 424) \"unit\" 101) (result (attr (data) \"totalSupply\" 130) 102))) (set_type (second (params 100) 424) (contract \"nat\") 424) (set (operations 424) (cons (transfer (getLocal \"__s24\" 424) (literal (mutez 0) 424) (second (params 100) 424) 100) (operations 424) 424) 424))) (mint True ((set_type (params 114) (record ((address \"address\") (value \"nat\")) None) 115) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 116) 116) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (attr (params 114) \"value\" 118) 118) 118) (set (attr (data) \"totalSupply\" 130) (add (attr (data) \"totalSupply\" 130) (attr (params 114) \"value\" 118) 119) 119) (verify (le (attr (data) \"totalSupply\" 130) (attr (data) \"debtCeiling\" 122) 122) False (literal (intOrNat 20) 122) 122))) (setAdministrator True ((set_type (params 137) \"address\" 138) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 141) False (literal (intOrNat 4) 141) 141) (set (attr (data) \"administrator\" 134) (params 137) 142))) (setDebtCeiling True ((set_type (params 190) \"nat\" 191) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 193) False (literal (intOrNat 4) 193) 193) (set (attr (data) \"debtCeiling\" 122) (params 190) 194))) (setGovernorContract True ((set_type (params 182) \"address\" 183) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 185) False (literal (intOrNat 4) 185) 185) (set (attr (data) \"governorContractAddress\" 141) (params 182) 186))) (setPause True ((set_type (params 154) \"bool\" 155) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 156) 156) (set (attr (data) \"paused\" 151) (params 154) 157))) (transfer True ((set_type (params 66) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) (Some ((\"from_ as from\") ((\"to_ as to\") (\"value\"))))) 67) (verify (or (eq (sender) (attr (data) \"administrator\" 134) 134) (and (invert (attr (data) \"paused\" 151) 69) (or (eq (attr (params 66) \"from_\" 70) (sender) 70) (ge (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 71) \"approvals\" 71) (sender) 71) (attr (params 66) \"value\" 71) 71) 70) 69) 68) False (literal (intOrNat 22) 68) 68) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 73) \"balance\" 73) (attr (params 66) \"value\" 71) 73) False (literal (intOrNat 23) 73) 73) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (attr (params 66) \"value\" 71) 74) 74) \"Some\" \"None\" 74) 74) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (attr (params 66) \"value\" 71) 75) 75) (ifBlock (and (neq (attr (params 66) \"from_\" 70) (sender) 76) (invert (eq (sender) (attr (data) \"administrator\" 134) 134) 76) 76) ((set (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (attr (params 66) \"value\" 71) 77) 77) \"Some\" \"None\" 77) 77)) 76))) (updateContractMetadata True ((set_type (params 198) (tuple \"string\" \"bytes\") 199) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 201) False (literal (intOrNat 4) 201) 201) (set (getItem (attr (data) \"metadata\" 204) (first (params 198) 202) 204) (second (params 198) 203) 204))) (updateTokenMetadata True ((set_type (params 208) (tuple \"nat\" (map \"string\" \"bytes\")) 209) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 211) False (literal (intOrNat 4) 211) 211) (set (getItem (attr (data) \"token_metadata\" 212) (literal (intOrNat 0) 212) 212) (params 208) 212))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 424, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "updateContractMetadata", "params": "(tuple 429 (literal (string \"\") 429) (literal (bytes \"0x1234567890\") 428))", "line_no": 429, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 429)", "show": true, "valid": "(literal (bool False) 429)", "voting_powers": "(map 429 )"}]}, {"shortname": "updateTokenMetadata_-_succeeds_when_called_by_governor", "longname": "updateTokenMetadata - succeeds when called by governor", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 56 (administrator (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (balances (type_annotation (big_map 57 ) (bigmap (unknown 11) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 57)) (debtCeiling (literal (nat 1000000000000000000000000000000000000000000000000000000000000000000000000) 169)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (metadata (type_annotation (big_map 45 ((literal (string \"\") 446) (literal (bytes \"0x74657a6f732d73746f726167653a64617461\") 47)) ((literal (string \"data\") 446) (literal (bytes \"0x7b206e616d653a2022204b6f6c6962726920546f6b656e20436f6e7472616374222c20226465736372697074696f6e223a20224641312e3220496d706c656d656e746174696f6e206f66206b555344222c2022617574686f72223a2022486f766572204c616273222c2022686f6d6570616765223a20202268747470733a2f2f6b6f6c696272692e66696e616e6365222c2022696e7465726661636573223a205b2022545a49502d3030372d323032312d30312d3239225d207d\") 43))) (bigmap \"string\" \"bytes\") 45)) (paused (literal (bool False) 56)) (token_metadata (type_annotation (big_map 33 ((literal (nat 0) 20) (tuple 446 (literal (nat 0) 20) (type_annotation (map 22 ((literal (string \"name\") 446) (literal (bytes \"0x4b6f6c6962726920555344\") 24)) ((literal (string \"decimals\") 446) (literal (bytes \"0x3138\") 25)) ((literal (string \"symbol\") 446) (literal (bytes \"0x6b555344\") 26)) ((literal (string \"icon\") 446) (literal (bytes \"0x2068747470733a2f2f6b6f6c696272692d646174612e73332e616d617a6f6e6177732e636f6d2f6c6f676f2e706e67\") 27))) (map \"string\" \"bytes\") 22)))) (bigmap \"nat\" (tuple \"nat\" (map \"string\" \"bytes\"))) 33)) (totalSupply (literal (intOrNat 0) 56)))\nstorage_type (())\nmessages ((approve True ((set_type (params 80) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 81) (verify (invert (attr (data) \"paused\" 151) 82) False 82) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 83) (sender) 83) \"approvals\" 83) (attr (params 80) \"spender\" 83) (literal (intOrNat 0) 83) 83) (literal (intOrNat 0) 84) 84) (eq (attr (params 80) \"value\" 84) (literal (intOrNat 0) 84) 84) 84) False (literal (intOrNat 23) 84) 84) (set (getItem (attr (getItem (attr (data) \"balances\" 83) (sender) 85) \"approvals\" 85) (attr (params 80) \"spender\" 83) 85) (attr (params 80) \"value\" 84) 85))) (burn True ((set_type (params 125) (record ((address \"address\") (value \"nat\")) None) 126) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 127) 127) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 128) \"balance\" 128) (attr (params 125) \"value\" 128) 128) False (literal (intOrNat 23) 128) 128) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (attr (params 125) \"value\" 128) 129) 129) \"Some\" \"None\" 129) 129) (set (attr (data) \"totalSupply\" 130) (openVariant (isNat (sub (attr (data) \"totalSupply\" 130) (attr (params 125) \"value\" 128) 130) 130) \"Some\" \"None\" 130) 130))) (getAdministrator True ((bind \"__s25\" ((set_type (first (params 145) 446) \"unit\" 146) (result (attr (data) \"administrator\" 134) 147))) (set_type (second (params 145) 446) (contract \"address\") 446) (set (operations 446) (cons (transfer (getLocal \"__s25\" 446) (literal (mutez 0) 446) (second (params 145) 446) 145) (operations 446) 446) 446))) (getAllowance True ((bind \"__s26\" ((result (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (first (params 96) 446) \"owner\" 97) 97) \"approvals\" 97) (attr (first (params 96) 446) \"spender\" 97) 97) 97))) (set_type (second (params 96) 446) (contract \"nat\") 446) (set (operations 446) (cons (transfer (getLocal \"__s26\" 446) (literal (mutez 0) 446) (second (params 96) 446) 96) (operations 446) 446) 446))) (getBalance True ((bind \"__s27\" ((result (attr (getItem (attr (data) \"balances\" 83) (first (params 92) 446) 93) \"balance\" 93) 93))) (set_type (second (params 92) 446) (contract \"nat\") 446) (set (operations 446) (cons (transfer (getLocal \"__s27\" 446) (literal (mutez 0) 446) (second (params 92) 446) 92) (operations 446) 446) 446))) (getTotalSupply True ((bind \"__s28\" ((set_type (first (params 100) 446) \"unit\" 101) (result (attr (data) \"totalSupply\" 130) 102))) (set_type (second (params 100) 446) (contract \"nat\") 446) (set (operations 446) (cons (transfer (getLocal \"__s28\" 446) (literal (mutez 0) 446) (second (params 100) 446) 100) (operations 446) 446) 446))) (mint True ((set_type (params 114) (record ((address \"address\") (value \"nat\")) None) 115) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 116) 116) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (attr (params 114) \"value\" 118) 118) 118) (set (attr (data) \"totalSupply\" 130) (add (attr (data) \"totalSupply\" 130) (attr (params 114) \"value\" 118) 119) 119) (verify (le (attr (data) \"totalSupply\" 130) (attr (data) \"debtCeiling\" 122) 122) False (literal (intOrNat 20) 122) 122))) (setAdministrator True ((set_type (params 137) \"address\" 138) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 141) False (literal (intOrNat 4) 141) 141) (set (attr (data) \"administrator\" 134) (params 137) 142))) (setDebtCeiling True ((set_type (params 190) \"nat\" 191) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 193) False (literal (intOrNat 4) 193) 193) (set (attr (data) \"debtCeiling\" 122) (params 190) 194))) (setGovernorContract True ((set_type (params 182) \"address\" 183) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 185) False (literal (intOrNat 4) 185) 185) (set (attr (data) \"governorContractAddress\" 141) (params 182) 186))) (setPause True ((set_type (params 154) \"bool\" 155) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 156) 156) (set (attr (data) \"paused\" 151) (params 154) 157))) (transfer True ((set_type (params 66) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) (Some ((\"from_ as from\") ((\"to_ as to\") (\"value\"))))) 67) (verify (or (eq (sender) (attr (data) \"administrator\" 134) 134) (and (invert (attr (data) \"paused\" 151) 69) (or (eq (attr (params 66) \"from_\" 70) (sender) 70) (ge (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 71) \"approvals\" 71) (sender) 71) (attr (params 66) \"value\" 71) 71) 70) 69) 68) False (literal (intOrNat 22) 68) 68) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 73) \"balance\" 73) (attr (params 66) \"value\" 71) 73) False (literal (intOrNat 23) 73) 73) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (attr (params 66) \"value\" 71) 74) 74) \"Some\" \"None\" 74) 74) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (attr (params 66) \"value\" 71) 75) 75) (ifBlock (and (neq (attr (params 66) \"from_\" 70) (sender) 76) (invert (eq (sender) (attr (data) \"administrator\" 134) 134) 76) 76) ((set (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (attr (params 66) \"value\" 71) 77) 77) \"Some\" \"None\" 77) 77)) 76))) (updateContractMetadata True ((set_type (params 198) (tuple \"string\" \"bytes\") 199) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 201) False (literal (intOrNat 4) 201) 201) (set (getItem (attr (data) \"metadata\" 204) (first (params 198) 202) 204) (second (params 198) 203) 204))) (updateTokenMetadata True ((set_type (params 208) (tuple \"nat\" (map \"string\" \"bytes\")) 209) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 211) False (literal (intOrNat 4) 211) 211) (set (getItem (attr (data) \"token_metadata\" 212) (literal (intOrNat 0) 212) 212) (params 208) 212))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 446, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "updateTokenMetadata", "params": "(tuple 460 (literal (nat 0) 458) (type_annotation (map 451 ((literal (string \"new\") 460) (literal (bytes \"0x123456\") 450))) (map \"string\" \"bytes\") 451))", "line_no": 460, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 460)", "show": true, "valid": "(literal (bool True) 460)", "voting_powers": "(map 460 )"}, {"action": "verify", "condition": "(eq (first (getItem (attr (contractData 0 460) \"token_metadata\" 465) (literal (intOrNat 0) 465) 465) 466) (literal (nat 0) 469) 469)", "line_no": 469}, {"action": "verify", "condition": "(eq (getItem (second (getItem (attr (contractData 0 460) \"token_metadata\" 465) (literal (intOrNat 0) 465) 465) 467) (literal (string \"new\") 470) 470) (literal (bytes \"0x123456\") 450) 470)", "line_no": 470}]}, {"shortname": "updateTokenMetadata_-_fails_when_not_called_by_governor", "longname": "updateTokenMetadata - fails when not called by governor", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 56 (administrator (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (balances (type_annotation (big_map 57 ) (bigmap (unknown 12) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 57)) (debtCeiling (literal (nat 1000000000000000000000000000000000000000000000000000000000000000000000000) 169)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (metadata (type_annotation (big_map 45 ((literal (string \"\") 480) (literal (bytes \"0x74657a6f732d73746f726167653a64617461\") 47)) ((literal (string \"data\") 480) (literal (bytes \"0x7b206e616d653a2022204b6f6c6962726920546f6b656e20436f6e7472616374222c20226465736372697074696f6e223a20224641312e3220496d706c656d656e746174696f6e206f66206b555344222c2022617574686f72223a2022486f766572204c616273222c2022686f6d6570616765223a20202268747470733a2f2f6b6f6c696272692e66696e616e6365222c2022696e7465726661636573223a205b2022545a49502d3030372d323032312d30312d3239225d207d\") 43))) (bigmap \"string\" \"bytes\") 45)) (paused (literal (bool False) 56)) (token_metadata (type_annotation (big_map 33 ((literal (nat 0) 20) (tuple 480 (literal (nat 0) 20) (type_annotation (map 22 ((literal (string \"name\") 480) (literal (bytes \"0x4b6f6c6962726920555344\") 24)) ((literal (string \"decimals\") 480) (literal (bytes \"0x3138\") 25)) ((literal (string \"symbol\") 480) (literal (bytes \"0x6b555344\") 26)) ((literal (string \"icon\") 480) (literal (bytes \"0x2068747470733a2f2f6b6f6c696272692d646174612e73332e616d617a6f6e6177732e636f6d2f6c6f676f2e706e67\") 27))) (map \"string\" \"bytes\") 22)))) (bigmap \"nat\" (tuple \"nat\" (map \"string\" \"bytes\"))) 33)) (totalSupply (literal (intOrNat 0) 56)))\nstorage_type (())\nmessages ((approve True ((set_type (params 80) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 81) (verify (invert (attr (data) \"paused\" 151) 82) False 82) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 83) (sender) 83) \"approvals\" 83) (attr (params 80) \"spender\" 83) (literal (intOrNat 0) 83) 83) (literal (intOrNat 0) 84) 84) (eq (attr (params 80) \"value\" 84) (literal (intOrNat 0) 84) 84) 84) False (literal (intOrNat 23) 84) 84) (set (getItem (attr (getItem (attr (data) \"balances\" 83) (sender) 85) \"approvals\" 85) (attr (params 80) \"spender\" 83) 85) (attr (params 80) \"value\" 84) 85))) (burn True ((set_type (params 125) (record ((address \"address\") (value \"nat\")) None) 126) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 127) 127) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 128) \"balance\" 128) (attr (params 125) \"value\" 128) 128) False (literal (intOrNat 23) 128) 128) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (attr (params 125) \"value\" 128) 129) 129) \"Some\" \"None\" 129) 129) (set (attr (data) \"totalSupply\" 130) (openVariant (isNat (sub (attr (data) \"totalSupply\" 130) (attr (params 125) \"value\" 128) 130) 130) \"Some\" \"None\" 130) 130))) (getAdministrator True ((bind \"__s29\" ((set_type (first (params 145) 480) \"unit\" 146) (result (attr (data) \"administrator\" 134) 147))) (set_type (second (params 145) 480) (contract \"address\") 480) (set (operations 480) (cons (transfer (getLocal \"__s29\" 480) (literal (mutez 0) 480) (second (params 145) 480) 145) (operations 480) 480) 480))) (getAllowance True ((bind \"__s30\" ((result (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (first (params 96) 480) \"owner\" 97) 97) \"approvals\" 97) (attr (first (params 96) 480) \"spender\" 97) 97) 97))) (set_type (second (params 96) 480) (contract \"nat\") 480) (set (operations 480) (cons (transfer (getLocal \"__s30\" 480) (literal (mutez 0) 480) (second (params 96) 480) 96) (operations 480) 480) 480))) (getBalance True ((bind \"__s31\" ((result (attr (getItem (attr (data) \"balances\" 83) (first (params 92) 480) 93) \"balance\" 93) 93))) (set_type (second (params 92) 480) (contract \"nat\") 480) (set (operations 480) (cons (transfer (getLocal \"__s31\" 480) (literal (mutez 0) 480) (second (params 92) 480) 92) (operations 480) 480) 480))) (getTotalSupply True ((bind \"__s32\" ((set_type (first (params 100) 480) \"unit\" 101) (result (attr (data) \"totalSupply\" 130) 102))) (set_type (second (params 100) 480) (contract \"nat\") 480) (set (operations 480) (cons (transfer (getLocal \"__s32\" 480) (literal (mutez 0) 480) (second (params 100) 480) 100) (operations 480) 480) 480))) (mint True ((set_type (params 114) (record ((address \"address\") (value \"nat\")) None) 115) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 116) 116) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (attr (params 114) \"value\" 118) 118) 118) (set (attr (data) \"totalSupply\" 130) (add (attr (data) \"totalSupply\" 130) (attr (params 114) \"value\" 118) 119) 119) (verify (le (attr (data) \"totalSupply\" 130) (attr (data) \"debtCeiling\" 122) 122) False (literal (intOrNat 20) 122) 122))) (setAdministrator True ((set_type (params 137) \"address\" 138) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 141) False (literal (intOrNat 4) 141) 141) (set (attr (data) \"administrator\" 134) (params 137) 142))) (setDebtCeiling True ((set_type (params 190) \"nat\" 191) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 193) False (literal (intOrNat 4) 193) 193) (set (attr (data) \"debtCeiling\" 122) (params 190) 194))) (setGovernorContract True ((set_type (params 182) \"address\" 183) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 185) False (literal (intOrNat 4) 185) 185) (set (attr (data) \"governorContractAddress\" 141) (params 182) 186))) (setPause True ((set_type (params 154) \"bool\" 155) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 156) 156) (set (attr (data) \"paused\" 151) (params 154) 157))) (transfer True ((set_type (params 66) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) (Some ((\"from_ as from\") ((\"to_ as to\") (\"value\"))))) 67) (verify (or (eq (sender) (attr (data) \"administrator\" 134) 134) (and (invert (attr (data) \"paused\" 151) 69) (or (eq (attr (params 66) \"from_\" 70) (sender) 70) (ge (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 71) \"approvals\" 71) (sender) 71) (attr (params 66) \"value\" 71) 71) 70) 69) 68) False (literal (intOrNat 22) 68) 68) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 73) \"balance\" 73) (attr (params 66) \"value\" 71) 73) False (literal (intOrNat 23) 73) 73) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (attr (params 66) \"value\" 71) 74) 74) \"Some\" \"None\" 74) 74) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (attr (params 66) \"value\" 71) 75) 75) (ifBlock (and (neq (attr (params 66) \"from_\" 70) (sender) 76) (invert (eq (sender) (attr (data) \"administrator\" 134) 134) 76) 76) ((set (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (attr (params 66) \"value\" 71) 77) 77) \"Some\" \"None\" 77) 77)) 76))) (updateContractMetadata True ((set_type (params 198) (tuple \"string\" \"bytes\") 199) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 201) False (literal (intOrNat 4) 201) 201) (set (getItem (attr (data) \"metadata\" 204) (first (params 198) 202) 204) (second (params 198) 203) 204))) (updateTokenMetadata True ((set_type (params 208) (tuple \"nat\" (map \"string\" \"bytes\")) 209) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 211) False (literal (intOrNat 4) 211) 211) (set (getItem (attr (data) \"token_metadata\" 212) (literal (intOrNat 0) 212) 212) (params 208) 212))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 480, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "updateTokenMetadata", "params": "(tuple 491 (literal (nat 0) 490) (type_annotation (map 483 ((literal (string \"new\") 491) (literal (bytes \"0x123456\") 485))) (map \"string\" \"bytes\") 483))", "line_no": 491, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 491)", "show": true, "valid": "(literal (bool False) 491)", "voting_powers": "(map 491 )"}]}, {"shortname": "setAdministrator_-_succeeds_when_called_by_governor", "longname": "setAdministrator - succeeds when called by governor", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 56 (administrator (literal (address \"tz1VmiY38m3y95HqQLjMwqnMS7sdMfGomzKi\") 39)) (balances (type_annotation (big_map 57 ) (bigmap (unknown 13) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 57)) (debtCeiling (literal (nat 1000000000000000000000000000000000000000000000000000000000000000000000000) 169)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (metadata (type_annotation (big_map 45 ((literal (string \"\") 509) (literal (bytes \"0x74657a6f732d73746f726167653a64617461\") 47)) ((literal (string \"data\") 509) (literal (bytes \"0x7b206e616d653a2022204b6f6c6962726920546f6b656e20436f6e7472616374222c20226465736372697074696f6e223a20224641312e3220496d706c656d656e746174696f6e206f66206b555344222c2022617574686f72223a2022486f766572204c616273222c2022686f6d6570616765223a20202268747470733a2f2f6b6f6c696272692e66696e616e6365222c2022696e7465726661636573223a205b2022545a49502d3030372d323032312d30312d3239225d207d\") 43))) (bigmap \"string\" \"bytes\") 45)) (paused (literal (bool False) 56)) (token_metadata (type_annotation (big_map 33 ((literal (nat 0) 20) (tuple 509 (literal (nat 0) 20) (type_annotation (map 22 ((literal (string \"name\") 509) (literal (bytes \"0x4b6f6c6962726920555344\") 24)) ((literal (string \"decimals\") 509) (literal (bytes \"0x3138\") 25)) ((literal (string \"symbol\") 509) (literal (bytes \"0x6b555344\") 26)) ((literal (string \"icon\") 509) (literal (bytes \"0x2068747470733a2f2f6b6f6c696272692d646174612e73332e616d617a6f6e6177732e636f6d2f6c6f676f2e706e67\") 27))) (map \"string\" \"bytes\") 22)))) (bigmap \"nat\" (tuple \"nat\" (map \"string\" \"bytes\"))) 33)) (totalSupply (literal (intOrNat 0) 56)))\nstorage_type (())\nmessages ((approve True ((set_type (params 80) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 81) (verify (invert (attr (data) \"paused\" 151) 82) False 82) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 83) (sender) 83) \"approvals\" 83) (attr (params 80) \"spender\" 83) (literal (intOrNat 0) 83) 83) (literal (intOrNat 0) 84) 84) (eq (attr (params 80) \"value\" 84) (literal (intOrNat 0) 84) 84) 84) False (literal (intOrNat 23) 84) 84) (set (getItem (attr (getItem (attr (data) \"balances\" 83) (sender) 85) \"approvals\" 85) (attr (params 80) \"spender\" 83) 85) (attr (params 80) \"value\" 84) 85))) (burn True ((set_type (params 125) (record ((address \"address\") (value \"nat\")) None) 126) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 127) 127) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 128) \"balance\" 128) (attr (params 125) \"value\" 128) 128) False (literal (intOrNat 23) 128) 128) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (attr (params 125) \"value\" 128) 129) 129) \"Some\" \"None\" 129) 129) (set (attr (data) \"totalSupply\" 130) (openVariant (isNat (sub (attr (data) \"totalSupply\" 130) (attr (params 125) \"value\" 128) 130) 130) \"Some\" \"None\" 130) 130))) (getAdministrator True ((bind \"__s33\" ((set_type (first (params 145) 509) \"unit\" 146) (result (attr (data) \"administrator\" 134) 147))) (set_type (second (params 145) 509) (contract \"address\") 509) (set (operations 509) (cons (transfer (getLocal \"__s33\" 509) (literal (mutez 0) 509) (second (params 145) 509) 145) (operations 509) 509) 509))) (getAllowance True ((bind \"__s34\" ((result (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (first (params 96) 509) \"owner\" 97) 97) \"approvals\" 97) (attr (first (params 96) 509) \"spender\" 97) 97) 97))) (set_type (second (params 96) 509) (contract \"nat\") 509) (set (operations 509) (cons (transfer (getLocal \"__s34\" 509) (literal (mutez 0) 509) (second (params 96) 509) 96) (operations 509) 509) 509))) (getBalance True ((bind \"__s35\" ((result (attr (getItem (attr (data) \"balances\" 83) (first (params 92) 509) 93) \"balance\" 93) 93))) (set_type (second (params 92) 509) (contract \"nat\") 509) (set (operations 509) (cons (transfer (getLocal \"__s35\" 509) (literal (mutez 0) 509) (second (params 92) 509) 92) (operations 509) 509) 509))) (getTotalSupply True ((bind \"__s36\" ((set_type (first (params 100) 509) \"unit\" 101) (result (attr (data) \"totalSupply\" 130) 102))) (set_type (second (params 100) 509) (contract \"nat\") 509) (set (operations 509) (cons (transfer (getLocal \"__s36\" 509) (literal (mutez 0) 509) (second (params 100) 509) 100) (operations 509) 509) 509))) (mint True ((set_type (params 114) (record ((address \"address\") (value \"nat\")) None) 115) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 116) 116) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (attr (params 114) \"value\" 118) 118) 118) (set (attr (data) \"totalSupply\" 130) (add (attr (data) \"totalSupply\" 130) (attr (params 114) \"value\" 118) 119) 119) (verify (le (attr (data) \"totalSupply\" 130) (attr (data) \"debtCeiling\" 122) 122) False (literal (intOrNat 20) 122) 122))) (setAdministrator True ((set_type (params 137) \"address\" 138) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 141) False (literal (intOrNat 4) 141) 141) (set (attr (data) \"administrator\" 134) (params 137) 142))) (setDebtCeiling True ((set_type (params 190) \"nat\" 191) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 193) False (literal (intOrNat 4) 193) 193) (set (attr (data) \"debtCeiling\" 122) (params 190) 194))) (setGovernorContract True ((set_type (params 182) \"address\" 183) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 185) False (literal (intOrNat 4) 185) 185) (set (attr (data) \"governorContractAddress\" 141) (params 182) 186))) (setPause True ((set_type (params 154) \"bool\" 155) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 156) 156) (set (attr (data) \"paused\" 151) (params 154) 157))) (transfer True ((set_type (params 66) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) (Some ((\"from_ as from\") ((\"to_ as to\") (\"value\"))))) 67) (verify (or (eq (sender) (attr (data) \"administrator\" 134) 134) (and (invert (attr (data) \"paused\" 151) 69) (or (eq (attr (params 66) \"from_\" 70) (sender) 70) (ge (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 71) \"approvals\" 71) (sender) 71) (attr (params 66) \"value\" 71) 71) 70) 69) 68) False (literal (intOrNat 22) 68) 68) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 73) \"balance\" 73) (attr (params 66) \"value\" 71) 73) False (literal (intOrNat 23) 73) 73) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (attr (params 66) \"value\" 71) 74) 74) \"Some\" \"None\" 74) 74) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (attr (params 66) \"value\" 71) 75) 75) (ifBlock (and (neq (attr (params 66) \"from_\" 70) (sender) 76) (invert (eq (sender) (attr (data) \"administrator\" 134) 134) 76) 76) ((set (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (attr (params 66) \"value\" 71) 77) 77) \"Some\" \"None\" 77) 77)) 76))) (updateContractMetadata True ((set_type (params 198) (tuple \"string\" \"bytes\") 199) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 201) False (literal (intOrNat 4) 201) 201) (set (getItem (attr (data) \"metadata\" 204) (first (params 198) 202) 204) (second (params 198) 203) 204))) (updateTokenMetadata True ((set_type (params 208) (tuple \"nat\" (map \"string\" \"bytes\")) 209) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 211) False (literal (intOrNat 4) 211) 211) (set (getItem (attr (data) \"token_metadata\" 212) (literal (intOrNat 0) 212) 212) (params 208) 212))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 509, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setAdministrator", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 512, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 512)", "show": true, "valid": "(literal (bool True) 512)", "voting_powers": "(map 512 )"}, {"action": "verify", "condition": "(eq (attr (contractData 0 512) \"administrator\" 517) (literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48) 517)", "line_no": 517}]}, {"shortname": "setAdministrator_-_fails_when_not_called_by_governor", "longname": "setAdministrator - fails when not called by governor", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 56 (administrator (literal (address \"tz1VmiY38m3y95HqQLjMwqnMS7sdMfGomzKi\") 39)) (balances (type_annotation (big_map 57 ) (bigmap (unknown 14) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 57)) (debtCeiling (literal (nat 1000000000000000000000000000000000000000000000000000000000000000000000000) 169)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (metadata (type_annotation (big_map 45 ((literal (string \"\") 528) (literal (bytes \"0x74657a6f732d73746f726167653a64617461\") 47)) ((literal (string \"data\") 528) (literal (bytes \"0x7b206e616d653a2022204b6f6c6962726920546f6b656e20436f6e7472616374222c20226465736372697074696f6e223a20224641312e3220496d706c656d656e746174696f6e206f66206b555344222c2022617574686f72223a2022486f766572204c616273222c2022686f6d6570616765223a20202268747470733a2f2f6b6f6c696272692e66696e616e6365222c2022696e7465726661636573223a205b2022545a49502d3030372d323032312d30312d3239225d207d\") 43))) (bigmap \"string\" \"bytes\") 45)) (paused (literal (bool False) 56)) (token_metadata (type_annotation (big_map 33 ((literal (nat 0) 20) (tuple 528 (literal (nat 0) 20) (type_annotation (map 22 ((literal (string \"name\") 528) (literal (bytes \"0x4b6f6c6962726920555344\") 24)) ((literal (string \"decimals\") 528) (literal (bytes \"0x3138\") 25)) ((literal (string \"symbol\") 528) (literal (bytes \"0x6b555344\") 26)) ((literal (string \"icon\") 528) (literal (bytes \"0x2068747470733a2f2f6b6f6c696272692d646174612e73332e616d617a6f6e6177732e636f6d2f6c6f676f2e706e67\") 27))) (map \"string\" \"bytes\") 22)))) (bigmap \"nat\" (tuple \"nat\" (map \"string\" \"bytes\"))) 33)) (totalSupply (literal (intOrNat 0) 56)))\nstorage_type (())\nmessages ((approve True ((set_type (params 80) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 81) (verify (invert (attr (data) \"paused\" 151) 82) False 82) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 83) (sender) 83) \"approvals\" 83) (attr (params 80) \"spender\" 83) (literal (intOrNat 0) 83) 83) (literal (intOrNat 0) 84) 84) (eq (attr (params 80) \"value\" 84) (literal (intOrNat 0) 84) 84) 84) False (literal (intOrNat 23) 84) 84) (set (getItem (attr (getItem (attr (data) \"balances\" 83) (sender) 85) \"approvals\" 85) (attr (params 80) \"spender\" 83) 85) (attr (params 80) \"value\" 84) 85))) (burn True ((set_type (params 125) (record ((address \"address\") (value \"nat\")) None) 126) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 127) 127) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 128) \"balance\" 128) (attr (params 125) \"value\" 128) 128) False (literal (intOrNat 23) 128) 128) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (attr (params 125) \"value\" 128) 129) 129) \"Some\" \"None\" 129) 129) (set (attr (data) \"totalSupply\" 130) (openVariant (isNat (sub (attr (data) \"totalSupply\" 130) (attr (params 125) \"value\" 128) 130) 130) \"Some\" \"None\" 130) 130))) (getAdministrator True ((bind \"__s37\" ((set_type (first (params 145) 528) \"unit\" 146) (result (attr (data) \"administrator\" 134) 147))) (set_type (second (params 145) 528) (contract \"address\") 528) (set (operations 528) (cons (transfer (getLocal \"__s37\" 528) (literal (mutez 0) 528) (second (params 145) 528) 145) (operations 528) 528) 528))) (getAllowance True ((bind \"__s38\" ((result (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (first (params 96) 528) \"owner\" 97) 97) \"approvals\" 97) (attr (first (params 96) 528) \"spender\" 97) 97) 97))) (set_type (second (params 96) 528) (contract \"nat\") 528) (set (operations 528) (cons (transfer (getLocal \"__s38\" 528) (literal (mutez 0) 528) (second (params 96) 528) 96) (operations 528) 528) 528))) (getBalance True ((bind \"__s39\" ((result (attr (getItem (attr (data) \"balances\" 83) (first (params 92) 528) 93) \"balance\" 93) 93))) (set_type (second (params 92) 528) (contract \"nat\") 528) (set (operations 528) (cons (transfer (getLocal \"__s39\" 528) (literal (mutez 0) 528) (second (params 92) 528) 92) (operations 528) 528) 528))) (getTotalSupply True ((bind \"__s40\" ((set_type (first (params 100) 528) \"unit\" 101) (result (attr (data) \"totalSupply\" 130) 102))) (set_type (second (params 100) 528) (contract \"nat\") 528) (set (operations 528) (cons (transfer (getLocal \"__s40\" 528) (literal (mutez 0) 528) (second (params 100) 528) 100) (operations 528) 528) 528))) (mint True ((set_type (params 114) (record ((address \"address\") (value \"nat\")) None) 115) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 116) 116) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (attr (params 114) \"value\" 118) 118) 118) (set (attr (data) \"totalSupply\" 130) (add (attr (data) \"totalSupply\" 130) (attr (params 114) \"value\" 118) 119) 119) (verify (le (attr (data) \"totalSupply\" 130) (attr (data) \"debtCeiling\" 122) 122) False (literal (intOrNat 20) 122) 122))) (setAdministrator True ((set_type (params 137) \"address\" 138) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 141) False (literal (intOrNat 4) 141) 141) (set (attr (data) \"administrator\" 134) (params 137) 142))) (setDebtCeiling True ((set_type (params 190) \"nat\" 191) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 193) False (literal (intOrNat 4) 193) 193) (set (attr (data) \"debtCeiling\" 122) (params 190) 194))) (setGovernorContract True ((set_type (params 182) \"address\" 183) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 185) False (literal (intOrNat 4) 185) 185) (set (attr (data) \"governorContractAddress\" 141) (params 182) 186))) (setPause True ((set_type (params 154) \"bool\" 155) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 156) 156) (set (attr (data) \"paused\" 151) (params 154) 157))) (transfer True ((set_type (params 66) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) (Some ((\"from_ as from\") ((\"to_ as to\") (\"value\"))))) 67) (verify (or (eq (sender) (attr (data) \"administrator\" 134) 134) (and (invert (attr (data) \"paused\" 151) 69) (or (eq (attr (params 66) \"from_\" 70) (sender) 70) (ge (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 71) \"approvals\" 71) (sender) 71) (attr (params 66) \"value\" 71) 71) 70) 69) 68) False (literal (intOrNat 22) 68) 68) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 73) \"balance\" 73) (attr (params 66) \"value\" 71) 73) False (literal (intOrNat 23) 73) 73) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (attr (params 66) \"value\" 71) 74) 74) \"Some\" \"None\" 74) 74) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (attr (params 66) \"value\" 71) 75) 75) (ifBlock (and (neq (attr (params 66) \"from_\" 70) (sender) 76) (invert (eq (sender) (attr (data) \"administrator\" 134) 134) 76) 76) ((set (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (attr (params 66) \"value\" 71) 77) 77) \"Some\" \"None\" 77) 77)) 76))) (updateContractMetadata True ((set_type (params 198) (tuple \"string\" \"bytes\") 199) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 201) False (literal (intOrNat 4) 201) 201) (set (getItem (attr (data) \"metadata\" 204) (first (params 198) 202) 204) (second (params 198) 203) 204))) (updateTokenMetadata True ((set_type (params 208) (tuple \"nat\" (map \"string\" \"bytes\")) 209) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 211) False (literal (intOrNat 4) 211) 211) (set (getItem (attr (data) \"token_metadata\" 212) (literal (intOrNat 0) 212) 212) (params 208) 212))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 528, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setAdministrator", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 531, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 531)", "show": true, "valid": "(literal (bool False) 531)", "voting_powers": "(map 531 )"}]}, {"shortname": "setGovernorContract_-_succeeds_when_called_by_governor", "longname": "setGovernorContract - succeeds when called by governor", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 56 (administrator (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (balances (type_annotation (big_map 57 ) (bigmap (unknown 15) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 57)) (debtCeiling (literal (nat 1000000000000000000000000000000000000000000000000000000000000000000000000) 169)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (metadata (type_annotation (big_map 45 ((literal (string \"\") 549) (literal (bytes \"0x74657a6f732d73746f726167653a64617461\") 47)) ((literal (string \"data\") 549) (literal (bytes \"0x7b206e616d653a2022204b6f6c6962726920546f6b656e20436f6e7472616374222c20226465736372697074696f6e223a20224641312e3220496d706c656d656e746174696f6e206f66206b555344222c2022617574686f72223a2022486f766572204c616273222c2022686f6d6570616765223a20202268747470733a2f2f6b6f6c696272692e66696e616e6365222c2022696e7465726661636573223a205b2022545a49502d3030372d323032312d30312d3239225d207d\") 43))) (bigmap \"string\" \"bytes\") 45)) (paused (literal (bool False) 56)) (token_metadata (type_annotation (big_map 33 ((literal (nat 0) 20) (tuple 549 (literal (nat 0) 20) (type_annotation (map 22 ((literal (string \"name\") 549) (literal (bytes \"0x4b6f6c6962726920555344\") 24)) ((literal (string \"decimals\") 549) (literal (bytes \"0x3138\") 25)) ((literal (string \"symbol\") 549) (literal (bytes \"0x6b555344\") 26)) ((literal (string \"icon\") 549) (literal (bytes \"0x2068747470733a2f2f6b6f6c696272692d646174612e73332e616d617a6f6e6177732e636f6d2f6c6f676f2e706e67\") 27))) (map \"string\" \"bytes\") 22)))) (bigmap \"nat\" (tuple \"nat\" (map \"string\" \"bytes\"))) 33)) (totalSupply (literal (intOrNat 0) 56)))\nstorage_type (())\nmessages ((approve True ((set_type (params 80) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 81) (verify (invert (attr (data) \"paused\" 151) 82) False 82) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 83) (sender) 83) \"approvals\" 83) (attr (params 80) \"spender\" 83) (literal (intOrNat 0) 83) 83) (literal (intOrNat 0) 84) 84) (eq (attr (params 80) \"value\" 84) (literal (intOrNat 0) 84) 84) 84) False (literal (intOrNat 23) 84) 84) (set (getItem (attr (getItem (attr (data) \"balances\" 83) (sender) 85) \"approvals\" 85) (attr (params 80) \"spender\" 83) 85) (attr (params 80) \"value\" 84) 85))) (burn True ((set_type (params 125) (record ((address \"address\") (value \"nat\")) None) 126) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 127) 127) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 128) \"balance\" 128) (attr (params 125) \"value\" 128) 128) False (literal (intOrNat 23) 128) 128) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (attr (params 125) \"value\" 128) 129) 129) \"Some\" \"None\" 129) 129) (set (attr (data) \"totalSupply\" 130) (openVariant (isNat (sub (attr (data) \"totalSupply\" 130) (attr (params 125) \"value\" 128) 130) 130) \"Some\" \"None\" 130) 130))) (getAdministrator True ((bind \"__s41\" ((set_type (first (params 145) 549) \"unit\" 146) (result (attr (data) \"administrator\" 134) 147))) (set_type (second (params 145) 549) (contract \"address\") 549) (set (operations 549) (cons (transfer (getLocal \"__s41\" 549) (literal (mutez 0) 549) (second (params 145) 549) 145) (operations 549) 549) 549))) (getAllowance True ((bind \"__s42\" ((result (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (first (params 96) 549) \"owner\" 97) 97) \"approvals\" 97) (attr (first (params 96) 549) \"spender\" 97) 97) 97))) (set_type (second (params 96) 549) (contract \"nat\") 549) (set (operations 549) (cons (transfer (getLocal \"__s42\" 549) (literal (mutez 0) 549) (second (params 96) 549) 96) (operations 549) 549) 549))) (getBalance True ((bind \"__s43\" ((result (attr (getItem (attr (data) \"balances\" 83) (first (params 92) 549) 93) \"balance\" 93) 93))) (set_type (second (params 92) 549) (contract \"nat\") 549) (set (operations 549) (cons (transfer (getLocal \"__s43\" 549) (literal (mutez 0) 549) (second (params 92) 549) 92) (operations 549) 549) 549))) (getTotalSupply True ((bind \"__s44\" ((set_type (first (params 100) 549) \"unit\" 101) (result (attr (data) \"totalSupply\" 130) 102))) (set_type (second (params 100) 549) (contract \"nat\") 549) (set (operations 549) (cons (transfer (getLocal \"__s44\" 549) (literal (mutez 0) 549) (second (params 100) 549) 100) (operations 549) 549) 549))) (mint True ((set_type (params 114) (record ((address \"address\") (value \"nat\")) None) 115) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 116) 116) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (attr (params 114) \"value\" 118) 118) 118) (set (attr (data) \"totalSupply\" 130) (add (attr (data) \"totalSupply\" 130) (attr (params 114) \"value\" 118) 119) 119) (verify (le (attr (data) \"totalSupply\" 130) (attr (data) \"debtCeiling\" 122) 122) False (literal (intOrNat 20) 122) 122))) (setAdministrator True ((set_type (params 137) \"address\" 138) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 141) False (literal (intOrNat 4) 141) 141) (set (attr (data) \"administrator\" 134) (params 137) 142))) (setDebtCeiling True ((set_type (params 190) \"nat\" 191) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 193) False (literal (intOrNat 4) 193) 193) (set (attr (data) \"debtCeiling\" 122) (params 190) 194))) (setGovernorContract True ((set_type (params 182) \"address\" 183) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 185) False (literal (intOrNat 4) 185) 185) (set (attr (data) \"governorContractAddress\" 141) (params 182) 186))) (setPause True ((set_type (params 154) \"bool\" 155) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 156) 156) (set (attr (data) \"paused\" 151) (params 154) 157))) (transfer True ((set_type (params 66) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) (Some ((\"from_ as from\") ((\"to_ as to\") (\"value\"))))) 67) (verify (or (eq (sender) (attr (data) \"administrator\" 134) 134) (and (invert (attr (data) \"paused\" 151) 69) (or (eq (attr (params 66) \"from_\" 70) (sender) 70) (ge (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 71) \"approvals\" 71) (sender) 71) (attr (params 66) \"value\" 71) 71) 70) 69) 68) False (literal (intOrNat 22) 68) 68) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 73) \"balance\" 73) (attr (params 66) \"value\" 71) 73) False (literal (intOrNat 23) 73) 73) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (attr (params 66) \"value\" 71) 74) 74) \"Some\" \"None\" 74) 74) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (attr (params 66) \"value\" 71) 75) 75) (ifBlock (and (neq (attr (params 66) \"from_\" 70) (sender) 76) (invert (eq (sender) (attr (data) \"administrator\" 134) 134) 76) 76) ((set (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (attr (params 66) \"value\" 71) 77) 77) \"Some\" \"None\" 77) 77)) 76))) (updateContractMetadata True ((set_type (params 198) (tuple \"string\" \"bytes\") 199) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 201) False (literal (intOrNat 4) 201) 201) (set (getItem (attr (data) \"metadata\" 204) (first (params 198) 202) 204) (second (params 198) 203) 204))) (updateTokenMetadata True ((set_type (params 208) (tuple \"nat\" (map \"string\" \"bytes\")) 209) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 211) False (literal (intOrNat 4) 211) 211) (set (getItem (attr (data) \"token_metadata\" 212) (literal (intOrNat 0) 212) 212) (params 208) 212))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 549, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setGovernorContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 552, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 552)", "show": true, "valid": "(literal (bool True) 552)", "voting_powers": "(map 552 )"}, {"action": "verify", "condition": "(eq (attr (contractData 0 552) \"governorContractAddress\" 557) (literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48) 557)", "line_no": 557}]}, {"shortname": "setGovernorContract_-_fails_when_not_called_by_governor", "longname": "setGovernorContract - fails when not called by governor", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 56 (administrator (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (balances (type_annotation (big_map 57 ) (bigmap (unknown 16) (record ((approvals (map \"address\" \"nat\")) (balance \"nat\")) None)) 57)) (debtCeiling (literal (nat 1000000000000000000000000000000000000000000000000000000000000000000000000) 169)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (metadata (type_annotation (big_map 45 ((literal (string \"\") 567) (literal (bytes \"0x74657a6f732d73746f726167653a64617461\") 47)) ((literal (string \"data\") 567) (literal (bytes \"0x7b206e616d653a2022204b6f6c6962726920546f6b656e20436f6e7472616374222c20226465736372697074696f6e223a20224641312e3220496d706c656d656e746174696f6e206f66206b555344222c2022617574686f72223a2022486f766572204c616273222c2022686f6d6570616765223a20202268747470733a2f2f6b6f6c696272692e66696e616e6365222c2022696e7465726661636573223a205b2022545a49502d3030372d323032312d30312d3239225d207d\") 43))) (bigmap \"string\" \"bytes\") 45)) (paused (literal (bool False) 56)) (token_metadata (type_annotation (big_map 33 ((literal (nat 0) 20) (tuple 567 (literal (nat 0) 20) (type_annotation (map 22 ((literal (string \"name\") 567) (literal (bytes \"0x4b6f6c6962726920555344\") 24)) ((literal (string \"decimals\") 567) (literal (bytes \"0x3138\") 25)) ((literal (string \"symbol\") 567) (literal (bytes \"0x6b555344\") 26)) ((literal (string \"icon\") 567) (literal (bytes \"0x2068747470733a2f2f6b6f6c696272692d646174612e73332e616d617a6f6e6177732e636f6d2f6c6f676f2e706e67\") 27))) (map \"string\" \"bytes\") 22)))) (bigmap \"nat\" (tuple \"nat\" (map \"string\" \"bytes\"))) 33)) (totalSupply (literal (intOrNat 0) 56)))\nstorage_type (())\nmessages ((approve True ((set_type (params 80) (record ((spender \"address\") (value \"nat\")) (Some ((\"spender\") (\"value\")))) 81) (verify (invert (attr (data) \"paused\" 151) 82) False 82) (verify (or (eq (getItemDefault (attr (getItem (attr (data) \"balances\" 83) (sender) 83) \"approvals\" 83) (attr (params 80) \"spender\" 83) (literal (intOrNat 0) 83) 83) (literal (intOrNat 0) 84) 84) (eq (attr (params 80) \"value\" 84) (literal (intOrNat 0) 84) 84) 84) False (literal (intOrNat 23) 84) 84) (set (getItem (attr (getItem (attr (data) \"balances\" 83) (sender) 85) \"approvals\" 85) (attr (params 80) \"spender\" 83) 85) (attr (params 80) \"value\" 84) 85))) (burn True ((set_type (params 125) (record ((address \"address\") (value \"nat\")) None) 126) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 127) 127) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 128) \"balance\" 128) (attr (params 125) \"value\" 128) 128) False (literal (intOrNat 23) 128) 128) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 125) \"address\" 128) 129) \"balance\" 129) (attr (params 125) \"value\" 128) 129) 129) \"Some\" \"None\" 129) 129) (set (attr (data) \"totalSupply\" 130) (openVariant (isNat (sub (attr (data) \"totalSupply\" 130) (attr (params 125) \"value\" 128) 130) 130) \"Some\" \"None\" 130) 130))) (getAdministrator True ((bind \"__s45\" ((set_type (first (params 145) 567) \"unit\" 146) (result (attr (data) \"administrator\" 134) 147))) (set_type (second (params 145) 567) (contract \"address\") 567) (set (operations 567) (cons (transfer (getLocal \"__s45\" 567) (literal (mutez 0) 567) (second (params 145) 567) 145) (operations 567) 567) 567))) (getAllowance True ((bind \"__s46\" ((result (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (first (params 96) 567) \"owner\" 97) 97) \"approvals\" 97) (attr (first (params 96) 567) \"spender\" 97) 97) 97))) (set_type (second (params 96) 567) (contract \"nat\") 567) (set (operations 567) (cons (transfer (getLocal \"__s46\" 567) (literal (mutez 0) 567) (second (params 96) 567) 96) (operations 567) 567) 567))) (getBalance True ((bind \"__s47\" ((result (attr (getItem (attr (data) \"balances\" 83) (first (params 92) 567) 93) \"balance\" 93) 93))) (set_type (second (params 92) 567) (contract \"nat\") 567) (set (operations 567) (cons (transfer (getLocal \"__s47\" 567) (literal (mutez 0) 567) (second (params 92) 567) 92) (operations 567) 567) 567))) (getTotalSupply True ((bind \"__s48\" ((set_type (first (params 100) 567) \"unit\" 101) (result (attr (data) \"totalSupply\" 130) 102))) (set_type (second (params 100) 567) (contract \"nat\") 567) (set (operations 567) (cons (transfer (getLocal \"__s48\" 567) (literal (mutez 0) 567) (second (params 100) 567) 100) (operations 567) 567) 567))) (mint True ((set_type (params 114) (record ((address \"address\") (value \"nat\")) None) 115) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 116) 116) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 114) \"address\" 117) 118) \"balance\" 118) (attr (params 114) \"value\" 118) 118) 118) (set (attr (data) \"totalSupply\" 130) (add (attr (data) \"totalSupply\" 130) (attr (params 114) \"value\" 118) 119) 119) (verify (le (attr (data) \"totalSupply\" 130) (attr (data) \"debtCeiling\" 122) 122) False (literal (intOrNat 20) 122) 122))) (setAdministrator True ((set_type (params 137) \"address\" 138) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 141) False (literal (intOrNat 4) 141) 141) (set (attr (data) \"administrator\" 134) (params 137) 142))) (setDebtCeiling True ((set_type (params 190) \"nat\" 191) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 193) False (literal (intOrNat 4) 193) 193) (set (attr (data) \"debtCeiling\" 122) (params 190) 194))) (setGovernorContract True ((set_type (params 182) \"address\" 183) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 185) False (literal (intOrNat 4) 185) 185) (set (attr (data) \"governorContractAddress\" 141) (params 182) 186))) (setPause True ((set_type (params 154) \"bool\" 155) (verify (eq (sender) (attr (data) \"administrator\" 134) 134) False (literal (intOrNat 24) 156) 156) (set (attr (data) \"paused\" 151) (params 154) 157))) (transfer True ((set_type (params 66) (record ((from_ \"address\") (to_ \"address\") (value \"nat\")) (Some ((\"from_ as from\") ((\"to_ as to\") (\"value\"))))) 67) (verify (or (eq (sender) (attr (data) \"administrator\" 134) 134) (and (invert (attr (data) \"paused\" 151) 69) (or (eq (attr (params 66) \"from_\" 70) (sender) 70) (ge (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 71) \"approvals\" 71) (sender) 71) (attr (params 66) \"value\" 71) 71) 70) 69) 68) False (literal (intOrNat 22) 68) 68) (ifBlock (invert (contains (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 88) 88) ((set (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 89) (record 89 (approvals (map 89 )) (balance (literal (intOrNat 0) 89))) 89)) 88) (verify (ge (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 73) \"balance\" 73) (attr (params 66) \"value\" 71) 73) False (literal (intOrNat 23) 73) 73) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (openVariant (isNat (sub (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 74) \"balance\" 74) (attr (params 66) \"value\" 71) 74) 74) \"Some\" \"None\" 74) 74) (set (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (add (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"to_\" 72) 75) \"balance\" 75) (attr (params 66) \"value\" 71) 75) 75) (ifBlock (and (neq (attr (params 66) \"from_\" 70) (sender) 76) (invert (eq (sender) (attr (data) \"administrator\" 134) 134) 76) 76) ((set (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (openVariant (isNat (sub (getItem (attr (getItem (attr (data) \"balances\" 83) (attr (params 66) \"from_\" 70) 77) \"approvals\" 77) (sender) 77) (attr (params 66) \"value\" 71) 77) 77) \"Some\" \"None\" 77) 77)) 76))) (updateContractMetadata True ((set_type (params 198) (tuple \"string\" \"bytes\") 199) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 201) False (literal (intOrNat 4) 201) 201) (set (getItem (attr (data) \"metadata\" 204) (first (params 198) 202) 204) (second (params 198) 203) 204))) (updateTokenMetadata True ((set_type (params 208) (tuple \"nat\" (map \"string\" \"bytes\")) 209) (verify (eq (sender) (attr (data) \"governorContractAddress\" 141) 211) False (literal (intOrNat 4) 211) 211) (set (getItem (attr (data) \"token_metadata\" 212) (literal (intOrNat 0) 212) 212) (params 208) 212))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 567, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setGovernorContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 570, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 56)", "amount": "(literal (mutez 0) 7)", "level": "(literal (intOrNat 0) 570)", "show": true, "valid": "(literal (bool False) 570)", "voting_powers": "(map 570 )"}]}]