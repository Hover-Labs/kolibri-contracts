[{"shortname": "makeOven_succeeds", "longname": "makeOven succeeds", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 18 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (ovenFactoryContractAddress (literal (address \"tz1irJKkXS2DBWkU1NnmFQx1c1L7pbGg4yhk\") 15)) (ovenMap (type_annotation (big_map 21 ) (bigmap \"address\" \"address\") 21)))\nstorage_type (())\nmessages ((addOven True ((set_type (params 51) (tuple \"address\" \"address\") 52) (verify (eq (sender) (attr (data) \"ovenFactoryContractAddress\" 54) 54) False (literal (intOrNat 7) 54) 54) (set (getItem (attr (data) \"ovenMap\" 59) (first (params 51) 56) 59) (second (params 51) 57) 59))) (default True ((set_type (params 41) \"unit\" 42) (failwith (literal (intOrNat 19) 43) 43))) (isOven True ((verify (contains (attr (data) \"ovenMap\" 59) (params 33) 34) False (literal (intOrNat 1) 34) 34) (verify (eq (amount) (literal (mutez 0) 37) 37) False (literal (intOrNat 15) 37) 37))) (setGovernorContract True ((set_type (params 67) \"address\" 68) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 70) False (literal (intOrNat 4) 70) 70) (set (attr (data) \"governorContractAddress\" 70) (params 67) 71))) (setOvenFactoryContract True ((set_type (params 75) \"address\" 76) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 78) False (literal (intOrNat 4) 78) 78) (set (attr (data) \"ovenFactoryContractAddress\" 54) (params 75) 79))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 186, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 1, "export": "(storage (record 31 (collateralizationPercentage (literal (nat 200000000000000000000) 20)) (developerFundContractAddress (literal (address \"tz1R6Ej25VSerE3MkSoEEeBjKHCDTFbpKuSX\") 45)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (interestIndex (literal (intOrNat 1000000000000000000) 31)) (lastInterestIndexUpdateTime (literal (timestamp 1601871456) 22)) (liquidationFeePercent (literal (nat 80000000000000000) 25)) (ovenMax (variant \"Some\" (literal (mutez 100000000) 26) 26)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (stabilityDevFundSplit (literal (nat 100000000000000000) 24)) (stabilityFee (literal (nat 0) 21)) (stabilityFundContractAddress (literal (address \"tz1W5VkdB5s7ENMESVBtwyt9kyvLqPcUczRT\") 42)) (tokenContractAddress (literal (address \"tz1cYufsxHXJcvANhvS55h3aY32a9BAFB494\") 27)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 78) (tuple \"nat\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\")))))))) 79) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 82) 82) False (literal (intOrNat 2) 82) 82) (match_tuple 85 (params 78) \"match_pair_85_fst\" \"match_pair_85_snd\") (match_tuple 86 (variant_arg \"match_pair_85_snd\" 85) \"match_pair_86_fst\" \"match_pair_86_snd\") (match_tuple 87 (variant_arg \"match_pair_86_snd\" 86) \"match_pair_87_fst\" \"match_pair_87_snd\") (match_tuple 88 (variant_arg \"match_pair_87_snd\" 87) \"match_pair_88_fst\" \"match_pair_88_snd\") (match_tuple 89 (variant_arg \"match_pair_88_snd\" 88) \"match_pair_89_fst\" \"match_pair_89_snd\") (match_tuple 90 (variant_arg \"match_pair_89_snd\" 89) \"match_pair_90_fst\" \"match_pair_90_snd\") (match_tuple 91 (variant_arg \"match_pair_90_snd\" 90) \"match_pair_91_fst\" \"match_pair_91_snd\") (set_type (variant_arg \"match_pair_85_fst\" 85) \"nat\" 97) (set_type (variant_arg \"match_pair_86_fst\" 86) \"address\" 98) (set_type (variant_arg \"match_pair_87_fst\" 87) \"address\" 99) (set_type (variant_arg \"match_pair_88_fst\" 88) \"nat\" 100) (set_type (variant_arg \"match_pair_89_fst\" 89) \"nat\" 101) (set_type (variant_arg \"match_pair_90_fst\" 90) \"bool\" 102) (set_type (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) \"nat\" 103) (set_type (first (variant_arg \"match_pair_91_snd\" 91) 92) \"int\" 104) (set_type (second (variant_arg \"match_pair_91_snd\" 91) 93) \"nat\" 105) (verify (eq (variant_arg \"match_pair_90_fst\" 90) (literal (bool False) 113) 113) False (literal (intOrNat 16) 113) 113) (set_type (add (variant_arg \"match_pair_89_fst\" 89) (second (variant_arg \"match_pair_91_snd\" 91) 93) 120) \"nat\" 121) (set_type (add (add (variant_arg \"match_pair_89_fst\" 89) (second (variant_arg \"match_pair_91_snd\" 91) 93) 120) (add (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 116 (first (variant_arg \"match_pair_91_snd\" 91) 92) (tuple 116 (variant_arg \"match_pair_89_fst\" 89) (tuple 116 (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110)))) 116) 117) 124) \"nat\" 125) (ifBlock (gt (add (add (variant_arg \"match_pair_89_fst\" 89) (second (variant_arg \"match_pair_91_snd\" 91) 93) 120) (add (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 116 (first (variant_arg \"match_pair_91_snd\" 91) 92) (tuple 116 (variant_arg \"match_pair_89_fst\" 89) (tuple 116 (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110)))) 116) 117) 124) (literal (intOrNat 0) 126) 126) ((verify (ge (call_lambda (global \"computeCollateralizationPercentage\" 1 192) (tuple 127 (variant_arg \"match_pair_88_fst\" 88) (tuple 127 (variant_arg \"match_pair_85_fst\" 85) (add (add (variant_arg \"match_pair_89_fst\" 89) (second (variant_arg \"match_pair_91_snd\" 91) 93) 120) (add (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 116 (first (variant_arg \"match_pair_91_snd\" 91) 92) (tuple 116 (variant_arg \"match_pair_89_fst\" 89) (tuple 116 (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110)))) 116) 117) 124))) 127) (attr (data) \"collateralizationPercentage\" 128) 128) False (literal (intOrNat 11) 128) 128)) 126) (set_type (second (variant_arg \"match_pair_91_snd\" 91) 93) \"nat\" 462) (set_type (variant_arg \"match_pair_87_fst\" 87) \"address\" 463) (set (operations 471) (cons (transfer (record 465 (address (variant_arg \"match_pair_87_fst\" 87)) (value (second (variant_arg \"match_pair_91_snd\" 91) 93))) (literal (mutez 0) 471) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 466) \"Some\" \"None\" 466) 471) (operations 471) 471) 471) (set_type (variant_arg \"match_pair_86_fst\" 86) \"address\" 516) (set_type (add (variant_arg \"match_pair_89_fst\" 89) (second (variant_arg \"match_pair_91_snd\" 91) 93) 120) \"nat\" 517) (set_type (add (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 116 (first (variant_arg \"match_pair_91_snd\" 91) 92) (tuple 116 (variant_arg \"match_pair_89_fst\" 89) (tuple 116 (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110)))) 116) 117) \"nat\" 518) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110) \"nat\" 519) (set_type (variant_arg \"match_pair_90_fst\" 90) \"bool\" 520) (set_type (balance) \"mutez\" 521) (set (operations 532) (cons (transfer (tuple 532 (variant_arg \"match_pair_86_fst\" 86) (tuple 532 (add (variant_arg \"match_pair_89_fst\" 89) (second (variant_arg \"match_pair_91_snd\" 91) 93) 120) (tuple 532 (toInt (add (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 116 (first (variant_arg \"match_pair_91_snd\" 91) 92) (tuple 116 (variant_arg \"match_pair_89_fst\" 89) (tuple 116 (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110)))) 116) 117) 524) (tuple 532 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110) 524) (variant_arg \"match_pair_90_fst\" 90))))) (balance) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 82) 526) \"Some\" \"None\" 526) 532) (operations 532) 532) 532) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110) 137) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109) (literal (intOrNat 60) 138) 138) 138) 138) 138))) (deposit True ((set_type (params 208) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) 209) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 82) 212) False (literal (intOrNat 2) 212) 212) (ifBlock (isVariant (attr (data) \"ovenMax\" 215) \"Some\" 215) ((verify (le (balance) (openVariant (attr (data) \"ovenMax\" 215) \"Some\" \"None\" 216) 216) False (literal (intOrNat 21) 216) 216)) 215) (match_tuple 219 (params 208) \"match_pair_219_fst\" \"match_pair_219_snd\") (match_tuple 220 (variant_arg \"match_pair_219_snd\" 219) \"match_pair_220_fst\" \"match_pair_220_snd\") (match_tuple 221 (variant_arg \"match_pair_220_snd\" 220) \"match_pair_221_fst\" \"match_pair_221_snd\") (match_tuple 222 (variant_arg \"match_pair_221_snd\" 221) \"match_pair_222_fst\" \"match_pair_222_snd\") (match_tuple 223 (variant_arg \"match_pair_222_snd\" 222) \"match_pair_223_fst\" \"match_pair_223_snd\") (set_type (variant_arg \"match_pair_219_fst\" 219) \"address\" 229) (set_type (variant_arg \"match_pair_220_fst\" 220) \"address\" 230) (set_type (variant_arg \"match_pair_221_fst\" 221) \"nat\" 231) (set_type (variant_arg \"match_pair_222_fst\" 222) \"nat\" 232) (set_type (variant_arg \"match_pair_223_fst\" 223) \"bool\" 233) (set_type (openVariant (isNat (first (variant_arg \"match_pair_223_snd\" 223) 224) 227) \"Some\" \"None\" 227) \"nat\" 234) (set_type (second (variant_arg \"match_pair_223_snd\" 223) 225) \"int\" 235) (verify (eq (variant_arg \"match_pair_223_fst\" 223) (literal (bool False) 243) 243) False (literal (intOrNat 16) 243) 243) (set_type (variant_arg \"match_pair_219_fst\" 219) \"address\" 516) (set_type (variant_arg \"match_pair_222_fst\" 222) \"nat\" 517) (set_type (add (openVariant (isNat (first (variant_arg \"match_pair_223_snd\" 223) 224) 227) \"Some\" \"None\" 227) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 246 (second (variant_arg \"match_pair_223_snd\" 223) 225) (tuple 246 (variant_arg \"match_pair_222_fst\" 222) (tuple 246 (openVariant (isNat (first (variant_arg \"match_pair_223_snd\" 223) 224) 227) \"Some\" \"None\" 227) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 240 (attr (data) \"interestIndex\" 110) (tuple 240 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 238) 238) \"Some\" \"None\" 238) (literal (intOrNat 60) 239) 239))) 240)))) 246) 247) \"nat\" 518) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 240 (attr (data) \"interestIndex\" 110) (tuple 240 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 238) 238) \"Some\" \"None\" 238) (literal (intOrNat 60) 239) 239))) 240) \"nat\" 519) (set_type (variant_arg \"match_pair_223_fst\" 223) \"bool\" 520) (set_type (balance) \"mutez\" 521) (set (operations 532) (cons (transfer (tuple 532 (variant_arg \"match_pair_219_fst\" 219) (tuple 532 (variant_arg \"match_pair_222_fst\" 222) (tuple 532 (toInt (add (openVariant (isNat (first (variant_arg \"match_pair_223_snd\" 223) 224) 227) \"Some\" \"None\" 227) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 246 (second (variant_arg \"match_pair_223_snd\" 223) 225) (tuple 246 (variant_arg \"match_pair_222_fst\" 222) (tuple 246 (openVariant (isNat (first (variant_arg \"match_pair_223_snd\" 223) 224) 227) \"Some\" \"None\" 227) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 240 (attr (data) \"interestIndex\" 110) (tuple 240 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 238) 238) \"Some\" \"None\" 238) (literal (intOrNat 60) 239) 239))) 240)))) 246) 247) 524) (tuple 532 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 240 (attr (data) \"interestIndex\" 110) (tuple 240 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 238) 238) \"Some\" \"None\" 238) (literal (intOrNat 60) 239) 239))) 240) 524) (variant_arg \"match_pair_223_fst\" 223))))) (balance) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 82) 526) \"Some\" \"None\" 526) 532) (operations 532) 532) 532) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 240 (attr (data) \"interestIndex\" 110) (tuple 240 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 238) 238) \"Some\" \"None\" 238) (literal (intOrNat 60) 239) 239))) 240) 253) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 238) 238) \"Some\" \"None\" 238) (literal (intOrNat 60) 239) 239) (literal (intOrNat 60) 254) 254) 254) 254) 254))) (getInterestIndex True ((set_type (params 54) (contract \"nat\") 55) (verify (eq (amount) (literal (mutez 0) 58) 58) False (literal (intOrNat 15) 58) 58) (set (operations 66) (cons (transfer (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 63 (attr (data) \"interestIndex\" 110) (tuple 63 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 61) 61) \"Some\" \"None\" 61) (literal (intOrNat 60) 62) 62))) 63) (literal (mutez 0) 66) (params 54) 66) (operations 66) 66) 66) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 63 (attr (data) \"interestIndex\" 110) (tuple 63 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 61) 61) \"Some\" \"None\" 61) (literal (intOrNat 60) 62) 62))) 63) 69) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 61) 61) \"Some\" \"None\" 61) (literal (intOrNat 60) 62) 62) (literal (intOrNat 60) 70) 70) 70) 70) 70))) (liquidate True ((set_type (params 316) (tuple \"nat\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\")))))))) 317) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 82) 320) False (literal (intOrNat 2) 320) 320) (match_tuple 323 (params 316) \"match_pair_323_fst\" \"match_pair_323_snd\") (match_tuple 324 (variant_arg \"match_pair_323_snd\" 323) \"match_pair_324_fst\" \"match_pair_324_snd\") (match_tuple 325 (variant_arg \"match_pair_324_snd\" 324) \"match_pair_325_fst\" \"match_pair_325_snd\") (match_tuple 326 (variant_arg \"match_pair_325_snd\" 325) \"match_pair_326_fst\" \"match_pair_326_snd\") (match_tuple 327 (variant_arg \"match_pair_326_snd\" 326) \"match_pair_327_fst\" \"match_pair_327_snd\") (match_tuple 328 (variant_arg \"match_pair_327_snd\" 327) \"match_pair_328_fst\" \"match_pair_328_snd\") (match_tuple 329 (variant_arg \"match_pair_328_snd\" 328) \"match_pair_329_fst\" \"match_pair_329_snd\") (set_type (variant_arg \"match_pair_323_fst\" 323) \"nat\" 335) (set_type (variant_arg \"match_pair_324_fst\" 324) \"address\" 336) (set_type (variant_arg \"match_pair_325_fst\" 325) \"address\" 337) (set_type (variant_arg \"match_pair_326_fst\" 326) \"nat\" 338) (set_type (variant_arg \"match_pair_327_fst\" 327) \"nat\" 339) (set_type (variant_arg \"match_pair_328_fst\" 328) \"bool\" 340) (set_type (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) \"nat\" 341) (set_type (first (variant_arg \"match_pair_329_snd\" 329) 330) \"int\" 342) (set_type (second (variant_arg \"match_pair_329_snd\" 329) 331) \"address\" 343) (verify (eq (variant_arg \"match_pair_328_fst\" 328) (literal (bool False) 351) 351) False (literal (intOrNat 16) 351) 351) (verify (lt (call_lambda (global \"computeCollateralizationPercentage\" 1 192) (tuple 359 (variant_arg \"match_pair_326_fst\" 326) (tuple 359 (variant_arg \"match_pair_323_fst\" 323) (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358))) 359) (attr (data) \"collateralizationPercentage\" 128) 360) False (literal (intOrNat 10) 360) 360) (set_type (add (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 366) \"nat\" 450) (set_type (second (variant_arg \"match_pair_329_snd\" 329) 331) \"address\" 451) (set (operations 459) (cons (transfer (record 453 (address (second (variant_arg \"match_pair_329_snd\" 329) 331)) (value (add (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 366))) (literal (mutez 0) 459) (openVariant (contract \"burn\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 454) \"Some\" \"None\" 454) 459) (operations 459) 459) 459) (set_type (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) \"nat\" 439) (set_type (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442) \"nat\" 462) (set_type (attr (data) \"developerFundContractAddress\" 446) \"address\" 463) (set (operations 471) (cons (transfer (record 465 (address (attr (data) \"developerFundContractAddress\" 446)) (value (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442))) (literal (mutez 0) 471) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 466) \"Some\" \"None\" 466) 471) (operations 471) 471) 471) (set_type (openVariant (isNat (sub (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442) 443) 443) \"Some\" \"None\" 443) \"nat\" 462) (set_type (attr (data) \"stabilityFundContractAddress\" 447) \"address\" 463) (set (operations 471) (cons (transfer (record 465 (address (attr (data) \"stabilityFundContractAddress\" 447)) (value (openVariant (isNat (sub (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442) 443) 443) \"Some\" \"None\" 443))) (literal (mutez 0) 471) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 466) \"Some\" \"None\" 466) 471) (operations 471) 471) 471) (set (operations 372) (cons (transfer (unit) (split_tokens (literal (mutez 1) 372) (floordiv (variant_arg \"match_pair_326_fst\" 326) (literal (intOrNat 1000000000000) 372) 372) (literal (intOrNat 1) 372) 372) (openVariant (contract \"\" \"unit\" (second (variant_arg \"match_pair_329_snd\" 329) 331) 372) \"Some\" \"None\" 372) 372) (operations 372) 372) 372) (set_type (variant_arg \"match_pair_324_fst\" 324) \"address\" 516) (set_type (literal (nat 0) 375) \"nat\" 517) (set_type (literal (nat 0) 375) \"nat\" 518) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348) \"nat\" 519) (set_type (literal (bool True) 520) \"bool\" 520) (set_type (literal (mutez 0) 375) \"mutez\" 521) (set (operations 532) (cons (transfer (tuple 532 (variant_arg \"match_pair_324_fst\" 324) (tuple 532 (literal (nat 0) 375) (tuple 532 (toInt (literal (nat 0) 375) 524) (tuple 532 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348) 524) (literal (bool True) 532))))) (literal (mutez 0) 375) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 82) 526) \"Some\" \"None\" 526) 532) (operations 532) 532) 532) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348) 378) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347) (literal (intOrNat 60) 379) 379) 379) 379) 379))) (repay True ((set_type (params 142) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) 143) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 82) 146) False (literal (intOrNat 2) 146) 146) (match_tuple 149 (params 142) \"match_pair_149_fst\" \"match_pair_149_snd\") (match_tuple 150 (variant_arg \"match_pair_149_snd\" 149) \"match_pair_150_fst\" \"match_pair_150_snd\") (match_tuple 151 (variant_arg \"match_pair_150_snd\" 150) \"match_pair_151_fst\" \"match_pair_151_snd\") (match_tuple 152 (variant_arg \"match_pair_151_snd\" 151) \"match_pair_152_fst\" \"match_pair_152_snd\") (match_tuple 153 (variant_arg \"match_pair_152_snd\" 152) \"match_pair_153_fst\" \"match_pair_153_snd\") (match_tuple 154 (variant_arg \"match_pair_153_snd\" 153) \"match_pair_154_fst\" \"match_pair_154_snd\") (set_type (variant_arg \"match_pair_149_fst\" 149) \"address\" 160) (set_type (variant_arg \"match_pair_150_fst\" 150) \"address\" 161) (set_type (variant_arg \"match_pair_151_fst\" 151) \"nat\" 162) (set_type (variant_arg \"match_pair_152_fst\" 152) \"nat\" 163) (set_type (variant_arg \"match_pair_153_fst\" 153) \"bool\" 164) (set_type (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) \"nat\" 165) (set_type (first (variant_arg \"match_pair_154_snd\" 154) 155) \"int\" 166) (set_type (second (variant_arg \"match_pair_154_snd\" 154) 156) \"nat\" 167) (verify (eq (variant_arg \"match_pair_153_fst\" 153) (literal (bool False) 175) 175) False (literal (intOrNat 16) 175) 175) (defineLocal \"stabilityFeeTokensRepaid\" (literal (intOrNat 0) 183) 183) (defineLocal \"remainingStabilityFeeTokens\" (literal (intOrNat 0) 184) 184) (defineLocal \"remainingBorrowedTokenBalance\" (literal (intOrNat 0) 185) 185) (ifBlock (lt (second (variant_arg \"match_pair_154_snd\" 154) 156) (add (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 178 (first (variant_arg \"match_pair_154_snd\" 154) 155) (tuple 178 (variant_arg \"match_pair_152_fst\" 152) (tuple 178 (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172)))) 178) 179) 186) ((set (getLocal \"stabilityFeeTokensRepaid\" 192) (second (variant_arg \"match_pair_154_snd\" 154) 156) 187) (set (getLocal \"remainingStabilityFeeTokens\" 192) (openVariant (isNat (sub (add (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 178 (first (variant_arg \"match_pair_154_snd\" 154) 155) (tuple 178 (variant_arg \"match_pair_152_fst\" 152) (tuple 178 (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172)))) 178) 179) (second (variant_arg \"match_pair_154_snd\" 154) 156) 188) 188) \"Some\" \"None\" 188) 188) (set (getLocal \"remainingBorrowedTokenBalance\" 192) (variant_arg \"match_pair_152_fst\" 152) 189)) 186) (elseBlock ((set (getLocal \"stabilityFeeTokensRepaid\" 192) (add (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 178 (first (variant_arg \"match_pair_154_snd\" 154) 155) (tuple 178 (variant_arg \"match_pair_152_fst\" 152) (tuple 178 (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172)))) 178) 179) 191) (set (getLocal \"remainingStabilityFeeTokens\" 192) (literal (nat 0) 192) 192) (set (getLocal \"remainingBorrowedTokenBalance\" 192) (openVariant (isNat (sub (variant_arg \"match_pair_152_fst\" 152) (openVariant (isNat (sub (second (variant_arg \"match_pair_154_snd\" 154) 156) (add (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 178 (first (variant_arg \"match_pair_154_snd\" 154) 155) (tuple 178 (variant_arg \"match_pair_152_fst\" 152) (tuple 178 (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172)))) 178) 179) 193) 193) \"Some\" \"None\" 193) 193) 193) \"Some\" \"None\" 193) 193))) (set_type (getLocal \"stabilityFeeTokensRepaid\" 196) \"nat\" 439) (set_type (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 196) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442) \"nat\" 462) (set_type (attr (data) \"developerFundContractAddress\" 446) \"address\" 463) (set (operations 471) (cons (transfer (record 465 (address (attr (data) \"developerFundContractAddress\" 446)) (value (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 196) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442))) (literal (mutez 0) 471) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 466) \"Some\" \"None\" 466) 471) (operations 471) 471) 471) (set_type (openVariant (isNat (sub (getLocal \"stabilityFeeTokensRepaid\" 196) (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 196) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442) 443) 443) \"Some\" \"None\" 443) \"nat\" 462) (set_type (attr (data) \"stabilityFundContractAddress\" 447) \"address\" 463) (set (operations 471) (cons (transfer (record 465 (address (attr (data) \"stabilityFundContractAddress\" 447)) (value (openVariant (isNat (sub (getLocal \"stabilityFeeTokensRepaid\" 196) (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 196) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442) 443) 443) \"Some\" \"None\" 443))) (literal (mutez 0) 471) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 466) \"Some\" \"None\" 466) 471) (operations 471) 471) 471) (set_type (second (variant_arg \"match_pair_154_snd\" 154) 156) \"nat\" 450) (set_type (variant_arg \"match_pair_150_fst\" 150) \"address\" 451) (set (operations 459) (cons (transfer (record 453 (address (variant_arg \"match_pair_150_fst\" 150)) (value (second (variant_arg \"match_pair_154_snd\" 154) 156))) (literal (mutez 0) 459) (openVariant (contract \"burn\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 454) \"Some\" \"None\" 454) 459) (operations 459) 459) 459) (set_type (variant_arg \"match_pair_149_fst\" 149) \"address\" 516) (set_type (getLocal \"remainingBorrowedTokenBalance\" 200) \"nat\" 517) (set_type (getLocal \"remainingStabilityFeeTokens\" 200) \"nat\" 518) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172) \"nat\" 519) (set_type (variant_arg \"match_pair_153_fst\" 153) \"bool\" 520) (set_type (balance) \"mutez\" 521) (set (operations 532) (cons (transfer (tuple 532 (variant_arg \"match_pair_149_fst\" 149) (tuple 532 (getLocal \"remainingBorrowedTokenBalance\" 200) (tuple 532 (toInt (getLocal \"remainingStabilityFeeTokens\" 200) 524) (tuple 532 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172) 524) (variant_arg \"match_pair_153_fst\" 153))))) (balance) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 82) 526) \"Some\" \"None\" 526) 532) (operations 532) 532) 532) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172) 203) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171) (literal (intOrNat 60) 204) 204) 204) 204) 204))) (updateContracts True ((set_type (params 414) (tuple \"address\" (tuple \"address\" (tuple \"address\" (tuple \"address\" \"address\")))) 415) (verify (eq (sender) (attr (data) \"governorContractAddress\" 417) 417) False (literal (intOrNat 4) 417) 417) (match_tuple 419 (params 414) \"match_pair_419_fst\" \"match_pair_419_snd\") (match_tuple 420 (variant_arg \"match_pair_419_snd\" 419) \"match_pair_420_fst\" \"match_pair_420_snd\") (match_tuple 421 (variant_arg \"match_pair_420_snd\" 420) \"match_pair_421_fst\" \"match_pair_421_snd\") (match_tuple 422 (variant_arg \"match_pair_421_snd\" 421) \"match_pair_422_fst\" \"match_pair_422_snd\") (set (attr (data) \"governorContractAddress\" 417) (variant_arg \"match_pair_419_fst\" 419) 424) (set (attr (data) \"tokenContractAddress\" 468) (variant_arg \"match_pair_420_fst\" 420) 425) (set (attr (data) \"ovenProxyContractAddress\" 82) (variant_arg \"match_pair_421_fst\" 421) 426) (set (attr (data) \"stabilityFundContractAddress\" 447) (variant_arg \"match_pair_422_fst\" 422) 427) (set (attr (data) \"developerFundContractAddress\" 446) (variant_arg \"match_pair_422_snd\" 422) 428))) (updateParams True ((set_type (params 390) (tuple \"nat\" (tuple \"nat\" (tuple \"nat\" (option \"mutez\")))) 391) (verify (eq (sender) (attr (data) \"governorContractAddress\" 417) 393) False (literal (intOrNat 4) 393) 393) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 398 (attr (data) \"interestIndex\" 110) (tuple 398 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 396) 396) \"Some\" \"None\" 396) (literal (intOrNat 60) 397) 397))) 398) 399) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 396) 396) \"Some\" \"None\" 396) (literal (intOrNat 60) 397) 397) (literal (intOrNat 60) 400) 400) 400) 400) 400) (match_tuple 403 (params 390) \"match_pair_403_fst\" \"match_pair_403_snd\") (match_tuple 404 (variant_arg \"match_pair_403_snd\" 403) \"match_pair_404_fst\" \"match_pair_404_snd\") (match_tuple 405 (variant_arg \"match_pair_404_snd\" 404) \"match_pair_405_fst\" \"match_pair_405_snd\") (set (attr (data) \"stabilityFee\" 110) (variant_arg \"match_pair_403_fst\" 403) 407) (set (attr (data) \"liquidationFeePercent\" 363) (variant_arg \"match_pair_404_fst\" 404) 408) (set (attr (data) \"collateralizationPercentage\" 128) (variant_arg \"match_pair_405_fst\" 405) 409) (set (attr (data) \"ovenMax\" 215) (variant_arg \"match_pair_405_snd\" 405) 410))) (withdraw True ((set_type (params 257) (tuple \"nat\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\")))))))) 258) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 82) 261) False (literal (intOrNat 2) 261) 261) (match_tuple 264 (params 257) \"match_pair_264_fst\" \"match_pair_264_snd\") (match_tuple 265 (variant_arg \"match_pair_264_snd\" 264) \"match_pair_265_fst\" \"match_pair_265_snd\") (match_tuple 266 (variant_arg \"match_pair_265_snd\" 265) \"match_pair_266_fst\" \"match_pair_266_snd\") (match_tuple 267 (variant_arg \"match_pair_266_snd\" 266) \"match_pair_267_fst\" \"match_pair_267_snd\") (match_tuple 268 (variant_arg \"match_pair_267_snd\" 267) \"match_pair_268_fst\" \"match_pair_268_snd\") (match_tuple 269 (variant_arg \"match_pair_268_snd\" 268) \"match_pair_269_fst\" \"match_pair_269_snd\") (match_tuple 270 (variant_arg \"match_pair_269_snd\" 269) \"match_pair_270_fst\" \"match_pair_270_snd\") (set_type (variant_arg \"match_pair_264_fst\" 264) \"nat\" 276) (set_type (variant_arg \"match_pair_265_fst\" 265) \"address\" 277) (set_type (variant_arg \"match_pair_266_fst\" 266) \"address\" 278) (set_type (variant_arg \"match_pair_267_fst\" 267) \"nat\" 279) (set_type (variant_arg \"match_pair_268_fst\" 268) \"nat\" 280) (set_type (variant_arg \"match_pair_269_fst\" 269) \"bool\" 281) (set_type (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) \"nat\" 282) (set_type (first (variant_arg \"match_pair_270_snd\" 270) 271) \"int\" 283) (set_type (second (variant_arg \"match_pair_270_snd\" 270) 272) \"mutez\" 284) (ifBlock (gt (add (variant_arg \"match_pair_268_fst\" 268) (add (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 292 (first (variant_arg \"match_pair_270_snd\" 270) 271) (tuple 292 (variant_arg \"match_pair_268_fst\" 268) (tuple 292 (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289)))) 292) 293) 296) (literal (intOrNat 0) 297) 297) ((verify (ge (call_lambda (global \"computeCollateralizationPercentage\" 1 192) (tuple 300 (openVariant (isNat (sub (variant_arg \"match_pair_267_fst\" 267) (mul (first (openVariant (ediv (second (variant_arg \"match_pair_270_snd\" 270) 272) (literal (mutez 1) 298) 298) \"Some\" \"None\" 298) 298) (literal (intOrNat 1000000000000) 298) 298) 299) 299) \"Some\" \"None\" 299) (tuple 300 (variant_arg \"match_pair_264_fst\" 264) (add (variant_arg \"match_pair_268_fst\" 268) (add (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 292 (first (variant_arg \"match_pair_270_snd\" 270) 271) (tuple 292 (variant_arg \"match_pair_268_fst\" 268) (tuple 292 (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289)))) 292) 293) 296))) 300) (attr (data) \"collateralizationPercentage\" 128) 301) False (literal (intOrNat 11) 301) 301)) 297) (set (operations 304) (cons (transfer (unit) (second (variant_arg \"match_pair_270_snd\" 270) 272) (openVariant (contract \"\" \"unit\" (variant_arg \"match_pair_266_fst\" 266) 304) \"Some\" \"None\" 304) 304) (operations 304) 304) 304) (set_type (variant_arg \"match_pair_265_fst\" 265) \"address\" 516) (set_type (variant_arg \"match_pair_268_fst\" 268) \"nat\" 517) (set_type (add (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 292 (first (variant_arg \"match_pair_270_snd\" 270) 271) (tuple 292 (variant_arg \"match_pair_268_fst\" 268) (tuple 292 (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289)))) 292) 293) \"nat\" 518) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289) \"nat\" 519) (set_type (variant_arg \"match_pair_269_fst\" 269) \"bool\" 520) (set_type (sub (split_tokens (literal (mutez 1) 307) (floordiv (variant_arg \"match_pair_267_fst\" 267) (literal (intOrNat 1000000000000) 307) 307) (literal (intOrNat 1) 307) 307) (second (variant_arg \"match_pair_270_snd\" 270) 272) 307) \"mutez\" 521) (set (operations 532) (cons (transfer (tuple 532 (variant_arg \"match_pair_265_fst\" 265) (tuple 532 (variant_arg \"match_pair_268_fst\" 268) (tuple 532 (toInt (add (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 292 (first (variant_arg \"match_pair_270_snd\" 270) 271) (tuple 292 (variant_arg \"match_pair_268_fst\" 268) (tuple 292 (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289)))) 292) 293) 524) (tuple 532 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289) 524) (variant_arg \"match_pair_269_fst\" 269))))) (sub (split_tokens (literal (mutez 1) 307) (floordiv (variant_arg \"match_pair_267_fst\" 267) (literal (intOrNat 1000000000000) 307) 307) (literal (intOrNat 1) 307) 307) (second (variant_arg \"match_pair_270_snd\" 270) 272) 307) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 82) 526) \"Some\" \"None\" 526) 532) (operations 532) 532) 532) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289) 311) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288) (literal (intOrNat 60) 312) 312) 312) 312) 312))))\nflags (Exception_DefaultUnit no_comment)\nglobals ((calculateNewAccruedInterest (lambda 0 \"\" 192 ((set_type (lambdaParams 0 \"\" 192 (unknown 1)) (tuple \"int\" (tuple \"nat\" (tuple \"nat\" \"nat\"))) 476) (result (openVariant (isNat (sub (first (openVariant (ediv (mul (first (openVariant (ediv (mul (second (second (second (lambdaParams 0 \"\" 192 (unknown 1)) 481) 481) 481) (literal (nat 1000000000000000000) 4) 483) (openVariant (isNat (first (lambdaParams 0 \"\" 192 (unknown 1)) 478) 478) \"Some\" \"None\" 478) 483) \"Some\" \"None\" 483) 483) (add (first (second (lambdaParams 0 \"\" 192 (unknown 1)) 479) 479) (first (second (second (lambdaParams 0 \"\" 192 (unknown 1)) 480) 480) 480) 484) 485) (literal (nat 1000000000000000000) 4) 485) \"Some\" \"None\" 485) 485) (add (first (second (lambdaParams 0 \"\" 192 (unknown 1)) 479) 479) (first (second (second (lambdaParams 0 \"\" 192 (unknown 1)) 480) 480) 480) 484) 486) 486) \"Some\" \"None\" 486) 487)))) (compoundWithLinearApproximation (lambda 1 \"\" 192 ((set_type (lambdaParams 1 \"\" 192 (unknown 2)) (tuple \"nat\" (tuple \"nat\" \"nat\")) 492) (result (floordiv (mul (first (lambdaParams 1 \"\" 192 (unknown 2)) 494) (add (literal (nat 1000000000000000000) 4) (mul (second (second (lambdaParams 1 \"\" 192 (unknown 2)) 496) 496) (first (second (lambdaParams 1 \"\" 192 (unknown 2)) 495) 495) 498) 498) 498) (literal (nat 1000000000000000000) 4) 498) 498)))) (computeCollateralizationPercentage (lambda 2 \"\" 192 ((set_type (lambdaParams 2 \"\" 192 (unknown 3)) (tuple \"nat\" (tuple \"nat\" \"nat\")) 504) (result (mul (floordiv (mul (floordiv (mul (first (lambdaParams 2 \"\" 192 (unknown 3)) 506) (first (second (lambdaParams 2 \"\" 192 (unknown 3)) 507) 507) 511) (literal (nat 1000000000000000000) 4) 511) (literal (nat 1000000000000000000) 4) 512) (second (second (lambdaParams 2 \"\" 192 (unknown 3)) 508) 508) 512) (literal (intOrNat 100) 513) 513) 513)))))\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 192, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 3, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (local-address 1) 192)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (local-address 0) 18)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 201, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setOvenFactoryContract", "params": "(literal (local-address 3) 33)", "line_no": 204, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 18)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 204)", "show": true, "valid": "(literal (bool True) 204)", "voting_powers": "(map 204 )"}, {"action": "message", "id": 3, "message": "makeOven", "params": "(unit)", "line_no": 212, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)", "chain_id": "", "time": "(literal (timestamp 1632261255) 213)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 212)", "show": true, "valid": "(literal (bool True) 212)", "voting_powers": "(map 212 )"}]}, {"shortname": "makeOven_-_fails_in_bad_state", "longname": "makeOven - fails in bad state", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 18 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (ovenFactoryContractAddress (literal (address \"tz1irJKkXS2DBWkU1NnmFQx1c1L7pbGg4yhk\") 15)) (ovenMap (type_annotation (big_map 21 ) (bigmap \"address\" \"address\") 21)))\nstorage_type (())\nmessages ((addOven True ((set_type (params 51) (tuple \"address\" \"address\") 52) (verify (eq (sender) (attr (data) \"ovenFactoryContractAddress\" 54) 54) False (literal (intOrNat 7) 54) 54) (set (getItem (attr (data) \"ovenMap\" 59) (first (params 51) 56) 59) (second (params 51) 57) 59))) (default True ((set_type (params 41) \"unit\" 42) (failwith (literal (intOrNat 19) 43) 43))) (isOven True ((verify (contains (attr (data) \"ovenMap\" 59) (params 33) 34) False (literal (intOrNat 1) 34) 34) (verify (eq (amount) (literal (mutez 0) 37) 37) False (literal (intOrNat 15) 37) 37))) (setGovernorContract True ((set_type (params 67) \"address\" 68) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 70) False (literal (intOrNat 4) 70) 70) (set (attr (data) \"governorContractAddress\" 70) (params 67) 71))) (setOvenFactoryContract True ((set_type (params 75) \"address\" 76) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 78) False (literal (intOrNat 4) 78) 78) (set (attr (data) \"ovenFactoryContractAddress\" 54) (params 75) 79))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 226, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 1, "export": "(storage (record 31 (collateralizationPercentage (literal (nat 200000000000000000000) 20)) (developerFundContractAddress (literal (address \"tz1R6Ej25VSerE3MkSoEEeBjKHCDTFbpKuSX\") 45)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (interestIndex (literal (intOrNat 1000000000000000000) 31)) (lastInterestIndexUpdateTime (literal (timestamp 1601871456) 22)) (liquidationFeePercent (literal (nat 80000000000000000) 25)) (ovenMax (variant \"Some\" (literal (mutez 100000000) 26) 26)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (stabilityDevFundSplit (literal (nat 100000000000000000) 24)) (stabilityFee (literal (nat 0) 21)) (stabilityFundContractAddress (literal (address \"tz1W5VkdB5s7ENMESVBtwyt9kyvLqPcUczRT\") 42)) (tokenContractAddress (literal (address \"tz1cYufsxHXJcvANhvS55h3aY32a9BAFB494\") 27)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 78) (tuple \"nat\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\")))))))) 79) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 82) 82) False (literal (intOrNat 2) 82) 82) (match_tuple 85 (params 78) \"match_pair_85_fst\" \"match_pair_85_snd\") (match_tuple 86 (variant_arg \"match_pair_85_snd\" 85) \"match_pair_86_fst\" \"match_pair_86_snd\") (match_tuple 87 (variant_arg \"match_pair_86_snd\" 86) \"match_pair_87_fst\" \"match_pair_87_snd\") (match_tuple 88 (variant_arg \"match_pair_87_snd\" 87) \"match_pair_88_fst\" \"match_pair_88_snd\") (match_tuple 89 (variant_arg \"match_pair_88_snd\" 88) \"match_pair_89_fst\" \"match_pair_89_snd\") (match_tuple 90 (variant_arg \"match_pair_89_snd\" 89) \"match_pair_90_fst\" \"match_pair_90_snd\") (match_tuple 91 (variant_arg \"match_pair_90_snd\" 90) \"match_pair_91_fst\" \"match_pair_91_snd\") (set_type (variant_arg \"match_pair_85_fst\" 85) \"nat\" 97) (set_type (variant_arg \"match_pair_86_fst\" 86) \"address\" 98) (set_type (variant_arg \"match_pair_87_fst\" 87) \"address\" 99) (set_type (variant_arg \"match_pair_88_fst\" 88) \"nat\" 100) (set_type (variant_arg \"match_pair_89_fst\" 89) \"nat\" 101) (set_type (variant_arg \"match_pair_90_fst\" 90) \"bool\" 102) (set_type (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) \"nat\" 103) (set_type (first (variant_arg \"match_pair_91_snd\" 91) 92) \"int\" 104) (set_type (second (variant_arg \"match_pair_91_snd\" 91) 93) \"nat\" 105) (verify (eq (variant_arg \"match_pair_90_fst\" 90) (literal (bool False) 113) 113) False (literal (intOrNat 16) 113) 113) (set_type (add (variant_arg \"match_pair_89_fst\" 89) (second (variant_arg \"match_pair_91_snd\" 91) 93) 120) \"nat\" 121) (set_type (add (add (variant_arg \"match_pair_89_fst\" 89) (second (variant_arg \"match_pair_91_snd\" 91) 93) 120) (add (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 116 (first (variant_arg \"match_pair_91_snd\" 91) 92) (tuple 116 (variant_arg \"match_pair_89_fst\" 89) (tuple 116 (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110)))) 116) 117) 124) \"nat\" 125) (ifBlock (gt (add (add (variant_arg \"match_pair_89_fst\" 89) (second (variant_arg \"match_pair_91_snd\" 91) 93) 120) (add (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 116 (first (variant_arg \"match_pair_91_snd\" 91) 92) (tuple 116 (variant_arg \"match_pair_89_fst\" 89) (tuple 116 (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110)))) 116) 117) 124) (literal (intOrNat 0) 126) 126) ((verify (ge (call_lambda (global \"computeCollateralizationPercentage\" 1 232) (tuple 127 (variant_arg \"match_pair_88_fst\" 88) (tuple 127 (variant_arg \"match_pair_85_fst\" 85) (add (add (variant_arg \"match_pair_89_fst\" 89) (second (variant_arg \"match_pair_91_snd\" 91) 93) 120) (add (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 116 (first (variant_arg \"match_pair_91_snd\" 91) 92) (tuple 116 (variant_arg \"match_pair_89_fst\" 89) (tuple 116 (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110)))) 116) 117) 124))) 127) (attr (data) \"collateralizationPercentage\" 128) 128) False (literal (intOrNat 11) 128) 128)) 126) (set_type (second (variant_arg \"match_pair_91_snd\" 91) 93) \"nat\" 462) (set_type (variant_arg \"match_pair_87_fst\" 87) \"address\" 463) (set (operations 471) (cons (transfer (record 465 (address (variant_arg \"match_pair_87_fst\" 87)) (value (second (variant_arg \"match_pair_91_snd\" 91) 93))) (literal (mutez 0) 471) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 466) \"Some\" \"None\" 466) 471) (operations 471) 471) 471) (set_type (variant_arg \"match_pair_86_fst\" 86) \"address\" 516) (set_type (add (variant_arg \"match_pair_89_fst\" 89) (second (variant_arg \"match_pair_91_snd\" 91) 93) 120) \"nat\" 517) (set_type (add (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 116 (first (variant_arg \"match_pair_91_snd\" 91) 92) (tuple 116 (variant_arg \"match_pair_89_fst\" 89) (tuple 116 (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110)))) 116) 117) \"nat\" 518) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110) \"nat\" 519) (set_type (variant_arg \"match_pair_90_fst\" 90) \"bool\" 520) (set_type (balance) \"mutez\" 521) (set (operations 532) (cons (transfer (tuple 532 (variant_arg \"match_pair_86_fst\" 86) (tuple 532 (add (variant_arg \"match_pair_89_fst\" 89) (second (variant_arg \"match_pair_91_snd\" 91) 93) 120) (tuple 532 (toInt (add (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 116 (first (variant_arg \"match_pair_91_snd\" 91) 92) (tuple 116 (variant_arg \"match_pair_89_fst\" 89) (tuple 116 (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110)))) 116) 117) 524) (tuple 532 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110) 524) (variant_arg \"match_pair_90_fst\" 90))))) (balance) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 82) 526) \"Some\" \"None\" 526) 532) (operations 532) 532) 532) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110) 137) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109) (literal (intOrNat 60) 138) 138) 138) 138) 138))) (deposit True ((set_type (params 208) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) 209) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 82) 212) False (literal (intOrNat 2) 212) 212) (ifBlock (isVariant (attr (data) \"ovenMax\" 215) \"Some\" 215) ((verify (le (balance) (openVariant (attr (data) \"ovenMax\" 215) \"Some\" \"None\" 216) 216) False (literal (intOrNat 21) 216) 216)) 215) (match_tuple 219 (params 208) \"match_pair_219_fst\" \"match_pair_219_snd\") (match_tuple 220 (variant_arg \"match_pair_219_snd\" 219) \"match_pair_220_fst\" \"match_pair_220_snd\") (match_tuple 221 (variant_arg \"match_pair_220_snd\" 220) \"match_pair_221_fst\" \"match_pair_221_snd\") (match_tuple 222 (variant_arg \"match_pair_221_snd\" 221) \"match_pair_222_fst\" \"match_pair_222_snd\") (match_tuple 223 (variant_arg \"match_pair_222_snd\" 222) \"match_pair_223_fst\" \"match_pair_223_snd\") (set_type (variant_arg \"match_pair_219_fst\" 219) \"address\" 229) (set_type (variant_arg \"match_pair_220_fst\" 220) \"address\" 230) (set_type (variant_arg \"match_pair_221_fst\" 221) \"nat\" 231) (set_type (variant_arg \"match_pair_222_fst\" 222) \"nat\" 232) (set_type (variant_arg \"match_pair_223_fst\" 223) \"bool\" 233) (set_type (openVariant (isNat (first (variant_arg \"match_pair_223_snd\" 223) 224) 227) \"Some\" \"None\" 227) \"nat\" 234) (set_type (second (variant_arg \"match_pair_223_snd\" 223) 225) \"int\" 235) (verify (eq (variant_arg \"match_pair_223_fst\" 223) (literal (bool False) 243) 243) False (literal (intOrNat 16) 243) 243) (set_type (variant_arg \"match_pair_219_fst\" 219) \"address\" 516) (set_type (variant_arg \"match_pair_222_fst\" 222) \"nat\" 517) (set_type (add (openVariant (isNat (first (variant_arg \"match_pair_223_snd\" 223) 224) 227) \"Some\" \"None\" 227) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 246 (second (variant_arg \"match_pair_223_snd\" 223) 225) (tuple 246 (variant_arg \"match_pair_222_fst\" 222) (tuple 246 (openVariant (isNat (first (variant_arg \"match_pair_223_snd\" 223) 224) 227) \"Some\" \"None\" 227) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 240 (attr (data) \"interestIndex\" 110) (tuple 240 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 238) 238) \"Some\" \"None\" 238) (literal (intOrNat 60) 239) 239))) 240)))) 246) 247) \"nat\" 518) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 240 (attr (data) \"interestIndex\" 110) (tuple 240 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 238) 238) \"Some\" \"None\" 238) (literal (intOrNat 60) 239) 239))) 240) \"nat\" 519) (set_type (variant_arg \"match_pair_223_fst\" 223) \"bool\" 520) (set_type (balance) \"mutez\" 521) (set (operations 532) (cons (transfer (tuple 532 (variant_arg \"match_pair_219_fst\" 219) (tuple 532 (variant_arg \"match_pair_222_fst\" 222) (tuple 532 (toInt (add (openVariant (isNat (first (variant_arg \"match_pair_223_snd\" 223) 224) 227) \"Some\" \"None\" 227) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 246 (second (variant_arg \"match_pair_223_snd\" 223) 225) (tuple 246 (variant_arg \"match_pair_222_fst\" 222) (tuple 246 (openVariant (isNat (first (variant_arg \"match_pair_223_snd\" 223) 224) 227) \"Some\" \"None\" 227) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 240 (attr (data) \"interestIndex\" 110) (tuple 240 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 238) 238) \"Some\" \"None\" 238) (literal (intOrNat 60) 239) 239))) 240)))) 246) 247) 524) (tuple 532 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 240 (attr (data) \"interestIndex\" 110) (tuple 240 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 238) 238) \"Some\" \"None\" 238) (literal (intOrNat 60) 239) 239))) 240) 524) (variant_arg \"match_pair_223_fst\" 223))))) (balance) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 82) 526) \"Some\" \"None\" 526) 532) (operations 532) 532) 532) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 240 (attr (data) \"interestIndex\" 110) (tuple 240 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 238) 238) \"Some\" \"None\" 238) (literal (intOrNat 60) 239) 239))) 240) 253) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 238) 238) \"Some\" \"None\" 238) (literal (intOrNat 60) 239) 239) (literal (intOrNat 60) 254) 254) 254) 254) 254))) (getInterestIndex True ((set_type (params 54) (contract \"nat\") 55) (verify (eq (amount) (literal (mutez 0) 58) 58) False (literal (intOrNat 15) 58) 58) (set (operations 66) (cons (transfer (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 63 (attr (data) \"interestIndex\" 110) (tuple 63 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 61) 61) \"Some\" \"None\" 61) (literal (intOrNat 60) 62) 62))) 63) (literal (mutez 0) 66) (params 54) 66) (operations 66) 66) 66) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 63 (attr (data) \"interestIndex\" 110) (tuple 63 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 61) 61) \"Some\" \"None\" 61) (literal (intOrNat 60) 62) 62))) 63) 69) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 61) 61) \"Some\" \"None\" 61) (literal (intOrNat 60) 62) 62) (literal (intOrNat 60) 70) 70) 70) 70) 70))) (liquidate True ((set_type (params 316) (tuple \"nat\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\")))))))) 317) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 82) 320) False (literal (intOrNat 2) 320) 320) (match_tuple 323 (params 316) \"match_pair_323_fst\" \"match_pair_323_snd\") (match_tuple 324 (variant_arg \"match_pair_323_snd\" 323) \"match_pair_324_fst\" \"match_pair_324_snd\") (match_tuple 325 (variant_arg \"match_pair_324_snd\" 324) \"match_pair_325_fst\" \"match_pair_325_snd\") (match_tuple 326 (variant_arg \"match_pair_325_snd\" 325) \"match_pair_326_fst\" \"match_pair_326_snd\") (match_tuple 327 (variant_arg \"match_pair_326_snd\" 326) \"match_pair_327_fst\" \"match_pair_327_snd\") (match_tuple 328 (variant_arg \"match_pair_327_snd\" 327) \"match_pair_328_fst\" \"match_pair_328_snd\") (match_tuple 329 (variant_arg \"match_pair_328_snd\" 328) \"match_pair_329_fst\" \"match_pair_329_snd\") (set_type (variant_arg \"match_pair_323_fst\" 323) \"nat\" 335) (set_type (variant_arg \"match_pair_324_fst\" 324) \"address\" 336) (set_type (variant_arg \"match_pair_325_fst\" 325) \"address\" 337) (set_type (variant_arg \"match_pair_326_fst\" 326) \"nat\" 338) (set_type (variant_arg \"match_pair_327_fst\" 327) \"nat\" 339) (set_type (variant_arg \"match_pair_328_fst\" 328) \"bool\" 340) (set_type (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) \"nat\" 341) (set_type (first (variant_arg \"match_pair_329_snd\" 329) 330) \"int\" 342) (set_type (second (variant_arg \"match_pair_329_snd\" 329) 331) \"address\" 343) (verify (eq (variant_arg \"match_pair_328_fst\" 328) (literal (bool False) 351) 351) False (literal (intOrNat 16) 351) 351) (verify (lt (call_lambda (global \"computeCollateralizationPercentage\" 1 232) (tuple 359 (variant_arg \"match_pair_326_fst\" 326) (tuple 359 (variant_arg \"match_pair_323_fst\" 323) (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358))) 359) (attr (data) \"collateralizationPercentage\" 128) 360) False (literal (intOrNat 10) 360) 360) (set_type (add (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 366) \"nat\" 450) (set_type (second (variant_arg \"match_pair_329_snd\" 329) 331) \"address\" 451) (set (operations 459) (cons (transfer (record 453 (address (second (variant_arg \"match_pair_329_snd\" 329) 331)) (value (add (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 366))) (literal (mutez 0) 459) (openVariant (contract \"burn\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 454) \"Some\" \"None\" 454) 459) (operations 459) 459) 459) (set_type (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) \"nat\" 439) (set_type (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442) \"nat\" 462) (set_type (attr (data) \"developerFundContractAddress\" 446) \"address\" 463) (set (operations 471) (cons (transfer (record 465 (address (attr (data) \"developerFundContractAddress\" 446)) (value (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442))) (literal (mutez 0) 471) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 466) \"Some\" \"None\" 466) 471) (operations 471) 471) 471) (set_type (openVariant (isNat (sub (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442) 443) 443) \"Some\" \"None\" 443) \"nat\" 462) (set_type (attr (data) \"stabilityFundContractAddress\" 447) \"address\" 463) (set (operations 471) (cons (transfer (record 465 (address (attr (data) \"stabilityFundContractAddress\" 447)) (value (openVariant (isNat (sub (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442) 443) 443) \"Some\" \"None\" 443))) (literal (mutez 0) 471) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 466) \"Some\" \"None\" 466) 471) (operations 471) 471) 471) (set (operations 372) (cons (transfer (unit) (split_tokens (literal (mutez 1) 372) (floordiv (variant_arg \"match_pair_326_fst\" 326) (literal (intOrNat 1000000000000) 372) 372) (literal (intOrNat 1) 372) 372) (openVariant (contract \"\" \"unit\" (second (variant_arg \"match_pair_329_snd\" 329) 331) 372) \"Some\" \"None\" 372) 372) (operations 372) 372) 372) (set_type (variant_arg \"match_pair_324_fst\" 324) \"address\" 516) (set_type (literal (nat 0) 375) \"nat\" 517) (set_type (literal (nat 0) 375) \"nat\" 518) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348) \"nat\" 519) (set_type (literal (bool True) 520) \"bool\" 520) (set_type (literal (mutez 0) 375) \"mutez\" 521) (set (operations 532) (cons (transfer (tuple 532 (variant_arg \"match_pair_324_fst\" 324) (tuple 532 (literal (nat 0) 375) (tuple 532 (toInt (literal (nat 0) 375) 524) (tuple 532 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348) 524) (literal (bool True) 532))))) (literal (mutez 0) 375) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 82) 526) \"Some\" \"None\" 526) 532) (operations 532) 532) 532) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348) 378) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347) (literal (intOrNat 60) 379) 379) 379) 379) 379))) (repay True ((set_type (params 142) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) 143) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 82) 146) False (literal (intOrNat 2) 146) 146) (match_tuple 149 (params 142) \"match_pair_149_fst\" \"match_pair_149_snd\") (match_tuple 150 (variant_arg \"match_pair_149_snd\" 149) \"match_pair_150_fst\" \"match_pair_150_snd\") (match_tuple 151 (variant_arg \"match_pair_150_snd\" 150) \"match_pair_151_fst\" \"match_pair_151_snd\") (match_tuple 152 (variant_arg \"match_pair_151_snd\" 151) \"match_pair_152_fst\" \"match_pair_152_snd\") (match_tuple 153 (variant_arg \"match_pair_152_snd\" 152) \"match_pair_153_fst\" \"match_pair_153_snd\") (match_tuple 154 (variant_arg \"match_pair_153_snd\" 153) \"match_pair_154_fst\" \"match_pair_154_snd\") (set_type (variant_arg \"match_pair_149_fst\" 149) \"address\" 160) (set_type (variant_arg \"match_pair_150_fst\" 150) \"address\" 161) (set_type (variant_arg \"match_pair_151_fst\" 151) \"nat\" 162) (set_type (variant_arg \"match_pair_152_fst\" 152) \"nat\" 163) (set_type (variant_arg \"match_pair_153_fst\" 153) \"bool\" 164) (set_type (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) \"nat\" 165) (set_type (first (variant_arg \"match_pair_154_snd\" 154) 155) \"int\" 166) (set_type (second (variant_arg \"match_pair_154_snd\" 154) 156) \"nat\" 167) (verify (eq (variant_arg \"match_pair_153_fst\" 153) (literal (bool False) 175) 175) False (literal (intOrNat 16) 175) 175) (defineLocal \"stabilityFeeTokensRepaid\" (literal (intOrNat 0) 183) 183) (defineLocal \"remainingStabilityFeeTokens\" (literal (intOrNat 0) 184) 184) (defineLocal \"remainingBorrowedTokenBalance\" (literal (intOrNat 0) 185) 185) (ifBlock (lt (second (variant_arg \"match_pair_154_snd\" 154) 156) (add (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 178 (first (variant_arg \"match_pair_154_snd\" 154) 155) (tuple 178 (variant_arg \"match_pair_152_fst\" 152) (tuple 178 (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172)))) 178) 179) 186) ((set (getLocal \"stabilityFeeTokensRepaid\" 232) (second (variant_arg \"match_pair_154_snd\" 154) 156) 187) (set (getLocal \"remainingStabilityFeeTokens\" 232) (openVariant (isNat (sub (add (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 178 (first (variant_arg \"match_pair_154_snd\" 154) 155) (tuple 178 (variant_arg \"match_pair_152_fst\" 152) (tuple 178 (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172)))) 178) 179) (second (variant_arg \"match_pair_154_snd\" 154) 156) 188) 188) \"Some\" \"None\" 188) 188) (set (getLocal \"remainingBorrowedTokenBalance\" 232) (variant_arg \"match_pair_152_fst\" 152) 189)) 186) (elseBlock ((set (getLocal \"stabilityFeeTokensRepaid\" 232) (add (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 178 (first (variant_arg \"match_pair_154_snd\" 154) 155) (tuple 178 (variant_arg \"match_pair_152_fst\" 152) (tuple 178 (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172)))) 178) 179) 191) (set (getLocal \"remainingStabilityFeeTokens\" 232) (literal (nat 0) 192) 192) (set (getLocal \"remainingBorrowedTokenBalance\" 232) (openVariant (isNat (sub (variant_arg \"match_pair_152_fst\" 152) (openVariant (isNat (sub (second (variant_arg \"match_pair_154_snd\" 154) 156) (add (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 178 (first (variant_arg \"match_pair_154_snd\" 154) 155) (tuple 178 (variant_arg \"match_pair_152_fst\" 152) (tuple 178 (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172)))) 178) 179) 193) 193) \"Some\" \"None\" 193) 193) 193) \"Some\" \"None\" 193) 193))) (set_type (getLocal \"stabilityFeeTokensRepaid\" 196) \"nat\" 439) (set_type (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 196) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442) \"nat\" 462) (set_type (attr (data) \"developerFundContractAddress\" 446) \"address\" 463) (set (operations 471) (cons (transfer (record 465 (address (attr (data) \"developerFundContractAddress\" 446)) (value (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 196) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442))) (literal (mutez 0) 471) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 466) \"Some\" \"None\" 466) 471) (operations 471) 471) 471) (set_type (openVariant (isNat (sub (getLocal \"stabilityFeeTokensRepaid\" 196) (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 196) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442) 443) 443) \"Some\" \"None\" 443) \"nat\" 462) (set_type (attr (data) \"stabilityFundContractAddress\" 447) \"address\" 463) (set (operations 471) (cons (transfer (record 465 (address (attr (data) \"stabilityFundContractAddress\" 447)) (value (openVariant (isNat (sub (getLocal \"stabilityFeeTokensRepaid\" 196) (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 196) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442) 443) 443) \"Some\" \"None\" 443))) (literal (mutez 0) 471) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 466) \"Some\" \"None\" 466) 471) (operations 471) 471) 471) (set_type (second (variant_arg \"match_pair_154_snd\" 154) 156) \"nat\" 450) (set_type (variant_arg \"match_pair_150_fst\" 150) \"address\" 451) (set (operations 459) (cons (transfer (record 453 (address (variant_arg \"match_pair_150_fst\" 150)) (value (second (variant_arg \"match_pair_154_snd\" 154) 156))) (literal (mutez 0) 459) (openVariant (contract \"burn\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 454) \"Some\" \"None\" 454) 459) (operations 459) 459) 459) (set_type (variant_arg \"match_pair_149_fst\" 149) \"address\" 516) (set_type (getLocal \"remainingBorrowedTokenBalance\" 200) \"nat\" 517) (set_type (getLocal \"remainingStabilityFeeTokens\" 200) \"nat\" 518) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172) \"nat\" 519) (set_type (variant_arg \"match_pair_153_fst\" 153) \"bool\" 520) (set_type (balance) \"mutez\" 521) (set (operations 532) (cons (transfer (tuple 532 (variant_arg \"match_pair_149_fst\" 149) (tuple 532 (getLocal \"remainingBorrowedTokenBalance\" 200) (tuple 532 (toInt (getLocal \"remainingStabilityFeeTokens\" 200) 524) (tuple 532 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172) 524) (variant_arg \"match_pair_153_fst\" 153))))) (balance) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 82) 526) \"Some\" \"None\" 526) 532) (operations 532) 532) 532) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172) 203) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171) (literal (intOrNat 60) 204) 204) 204) 204) 204))) (updateContracts True ((set_type (params 414) (tuple \"address\" (tuple \"address\" (tuple \"address\" (tuple \"address\" \"address\")))) 415) (verify (eq (sender) (attr (data) \"governorContractAddress\" 417) 417) False (literal (intOrNat 4) 417) 417) (match_tuple 419 (params 414) \"match_pair_419_fst\" \"match_pair_419_snd\") (match_tuple 420 (variant_arg \"match_pair_419_snd\" 419) \"match_pair_420_fst\" \"match_pair_420_snd\") (match_tuple 421 (variant_arg \"match_pair_420_snd\" 420) \"match_pair_421_fst\" \"match_pair_421_snd\") (match_tuple 422 (variant_arg \"match_pair_421_snd\" 421) \"match_pair_422_fst\" \"match_pair_422_snd\") (set (attr (data) \"governorContractAddress\" 417) (variant_arg \"match_pair_419_fst\" 419) 424) (set (attr (data) \"tokenContractAddress\" 468) (variant_arg \"match_pair_420_fst\" 420) 425) (set (attr (data) \"ovenProxyContractAddress\" 82) (variant_arg \"match_pair_421_fst\" 421) 426) (set (attr (data) \"stabilityFundContractAddress\" 447) (variant_arg \"match_pair_422_fst\" 422) 427) (set (attr (data) \"developerFundContractAddress\" 446) (variant_arg \"match_pair_422_snd\" 422) 428))) (updateParams True ((set_type (params 390) (tuple \"nat\" (tuple \"nat\" (tuple \"nat\" (option \"mutez\")))) 391) (verify (eq (sender) (attr (data) \"governorContractAddress\" 417) 393) False (literal (intOrNat 4) 393) 393) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 398 (attr (data) \"interestIndex\" 110) (tuple 398 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 396) 396) \"Some\" \"None\" 396) (literal (intOrNat 60) 397) 397))) 398) 399) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 396) 396) \"Some\" \"None\" 396) (literal (intOrNat 60) 397) 397) (literal (intOrNat 60) 400) 400) 400) 400) 400) (match_tuple 403 (params 390) \"match_pair_403_fst\" \"match_pair_403_snd\") (match_tuple 404 (variant_arg \"match_pair_403_snd\" 403) \"match_pair_404_fst\" \"match_pair_404_snd\") (match_tuple 405 (variant_arg \"match_pair_404_snd\" 404) \"match_pair_405_fst\" \"match_pair_405_snd\") (set (attr (data) \"stabilityFee\" 110) (variant_arg \"match_pair_403_fst\" 403) 407) (set (attr (data) \"liquidationFeePercent\" 363) (variant_arg \"match_pair_404_fst\" 404) 408) (set (attr (data) \"collateralizationPercentage\" 128) (variant_arg \"match_pair_405_fst\" 405) 409) (set (attr (data) \"ovenMax\" 215) (variant_arg \"match_pair_405_snd\" 405) 410))) (withdraw True ((set_type (params 257) (tuple \"nat\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\")))))))) 258) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 82) 261) False (literal (intOrNat 2) 261) 261) (match_tuple 264 (params 257) \"match_pair_264_fst\" \"match_pair_264_snd\") (match_tuple 265 (variant_arg \"match_pair_264_snd\" 264) \"match_pair_265_fst\" \"match_pair_265_snd\") (match_tuple 266 (variant_arg \"match_pair_265_snd\" 265) \"match_pair_266_fst\" \"match_pair_266_snd\") (match_tuple 267 (variant_arg \"match_pair_266_snd\" 266) \"match_pair_267_fst\" \"match_pair_267_snd\") (match_tuple 268 (variant_arg \"match_pair_267_snd\" 267) \"match_pair_268_fst\" \"match_pair_268_snd\") (match_tuple 269 (variant_arg \"match_pair_268_snd\" 268) \"match_pair_269_fst\" \"match_pair_269_snd\") (match_tuple 270 (variant_arg \"match_pair_269_snd\" 269) \"match_pair_270_fst\" \"match_pair_270_snd\") (set_type (variant_arg \"match_pair_264_fst\" 264) \"nat\" 276) (set_type (variant_arg \"match_pair_265_fst\" 265) \"address\" 277) (set_type (variant_arg \"match_pair_266_fst\" 266) \"address\" 278) (set_type (variant_arg \"match_pair_267_fst\" 267) \"nat\" 279) (set_type (variant_arg \"match_pair_268_fst\" 268) \"nat\" 280) (set_type (variant_arg \"match_pair_269_fst\" 269) \"bool\" 281) (set_type (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) \"nat\" 282) (set_type (first (variant_arg \"match_pair_270_snd\" 270) 271) \"int\" 283) (set_type (second (variant_arg \"match_pair_270_snd\" 270) 272) \"mutez\" 284) (ifBlock (gt (add (variant_arg \"match_pair_268_fst\" 268) (add (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 292 (first (variant_arg \"match_pair_270_snd\" 270) 271) (tuple 292 (variant_arg \"match_pair_268_fst\" 268) (tuple 292 (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289)))) 292) 293) 296) (literal (intOrNat 0) 297) 297) ((verify (ge (call_lambda (global \"computeCollateralizationPercentage\" 1 232) (tuple 300 (openVariant (isNat (sub (variant_arg \"match_pair_267_fst\" 267) (mul (first (openVariant (ediv (second (variant_arg \"match_pair_270_snd\" 270) 272) (literal (mutez 1) 298) 298) \"Some\" \"None\" 298) 298) (literal (intOrNat 1000000000000) 298) 298) 299) 299) \"Some\" \"None\" 299) (tuple 300 (variant_arg \"match_pair_264_fst\" 264) (add (variant_arg \"match_pair_268_fst\" 268) (add (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 292 (first (variant_arg \"match_pair_270_snd\" 270) 271) (tuple 292 (variant_arg \"match_pair_268_fst\" 268) (tuple 292 (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289)))) 292) 293) 296))) 300) (attr (data) \"collateralizationPercentage\" 128) 301) False (literal (intOrNat 11) 301) 301)) 297) (set (operations 304) (cons (transfer (unit) (second (variant_arg \"match_pair_270_snd\" 270) 272) (openVariant (contract \"\" \"unit\" (variant_arg \"match_pair_266_fst\" 266) 304) \"Some\" \"None\" 304) 304) (operations 304) 304) 304) (set_type (variant_arg \"match_pair_265_fst\" 265) \"address\" 516) (set_type (variant_arg \"match_pair_268_fst\" 268) \"nat\" 517) (set_type (add (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 292 (first (variant_arg \"match_pair_270_snd\" 270) 271) (tuple 292 (variant_arg \"match_pair_268_fst\" 268) (tuple 292 (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289)))) 292) 293) \"nat\" 518) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289) \"nat\" 519) (set_type (variant_arg \"match_pair_269_fst\" 269) \"bool\" 520) (set_type (sub (split_tokens (literal (mutez 1) 307) (floordiv (variant_arg \"match_pair_267_fst\" 267) (literal (intOrNat 1000000000000) 307) 307) (literal (intOrNat 1) 307) 307) (second (variant_arg \"match_pair_270_snd\" 270) 272) 307) \"mutez\" 521) (set (operations 532) (cons (transfer (tuple 532 (variant_arg \"match_pair_265_fst\" 265) (tuple 532 (variant_arg \"match_pair_268_fst\" 268) (tuple 532 (toInt (add (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 292 (first (variant_arg \"match_pair_270_snd\" 270) 271) (tuple 292 (variant_arg \"match_pair_268_fst\" 268) (tuple 292 (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289)))) 292) 293) 524) (tuple 532 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289) 524) (variant_arg \"match_pair_269_fst\" 269))))) (sub (split_tokens (literal (mutez 1) 307) (floordiv (variant_arg \"match_pair_267_fst\" 267) (literal (intOrNat 1000000000000) 307) 307) (literal (intOrNat 1) 307) 307) (second (variant_arg \"match_pair_270_snd\" 270) 272) 307) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 82) 526) \"Some\" \"None\" 526) 532) (operations 532) 532) 532) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289) 311) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288) (literal (intOrNat 60) 312) 312) 312) 312) 312))))\nflags (Exception_DefaultUnit no_comment)\nglobals ((calculateNewAccruedInterest (lambda 0 \"\" 232 ((set_type (lambdaParams 0 \"\" 232 (unknown 8)) (tuple \"int\" (tuple \"nat\" (tuple \"nat\" \"nat\"))) 476) (result (openVariant (isNat (sub (first (openVariant (ediv (mul (first (openVariant (ediv (mul (second (second (second (lambdaParams 0 \"\" 232 (unknown 8)) 481) 481) 481) (literal (nat 1000000000000000000) 4) 483) (openVariant (isNat (first (lambdaParams 0 \"\" 232 (unknown 8)) 478) 478) \"Some\" \"None\" 478) 483) \"Some\" \"None\" 483) 483) (add (first (second (lambdaParams 0 \"\" 232 (unknown 8)) 479) 479) (first (second (second (lambdaParams 0 \"\" 232 (unknown 8)) 480) 480) 480) 484) 485) (literal (nat 1000000000000000000) 4) 485) \"Some\" \"None\" 485) 485) (add (first (second (lambdaParams 0 \"\" 232 (unknown 8)) 479) 479) (first (second (second (lambdaParams 0 \"\" 232 (unknown 8)) 480) 480) 480) 484) 486) 486) \"Some\" \"None\" 486) 487)))) (compoundWithLinearApproximation (lambda 1 \"\" 232 ((set_type (lambdaParams 1 \"\" 232 (unknown 9)) (tuple \"nat\" (tuple \"nat\" \"nat\")) 492) (result (floordiv (mul (first (lambdaParams 1 \"\" 232 (unknown 9)) 494) (add (literal (nat 1000000000000000000) 4) (mul (second (second (lambdaParams 1 \"\" 232 (unknown 9)) 496) 496) (first (second (lambdaParams 1 \"\" 232 (unknown 9)) 495) 495) 498) 498) 498) (literal (nat 1000000000000000000) 4) 498) 498)))) (computeCollateralizationPercentage (lambda 2 \"\" 232 ((set_type (lambdaParams 2 \"\" 232 (unknown 10)) (tuple \"nat\" (tuple \"nat\" \"nat\")) 504) (result (mul (floordiv (mul (floordiv (mul (first (lambdaParams 2 \"\" 232 (unknown 10)) 506) (first (second (lambdaParams 2 \"\" 232 (unknown 10)) 507) 507) 511) (literal (nat 1000000000000000000) 4) 511) (literal (nat 1000000000000000000) 4) 512) (second (second (lambdaParams 2 \"\" 232 (unknown 10)) 508) 508) 512) (literal (intOrNat 100) 513) 513) 513)))))\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 232, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 3, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (local-address 1) 232)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (local-address 0) 18)) (state (literal (intOrNat 1) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 241, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setOvenFactoryContract", "params": "(literal (local-address 3) 33)", "line_no": 244, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 18)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 244)", "show": true, "valid": "(literal (bool True) 244)", "voting_powers": "(map 244 )"}, {"action": "message", "id": 3, "message": "makeOven", "params": "(unit)", "line_no": 252, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)", "chain_id": "", "time": "(literal (timestamp 1632261257) 254)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 252)", "show": true, "valid": "(literal (bool False) 252)", "voting_powers": "(map 252 )"}]}, {"shortname": "makeOven_-_fails_with_amount_attached", "longname": "makeOven - fails with amount attached", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 18 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (ovenFactoryContractAddress (literal (address \"tz1irJKkXS2DBWkU1NnmFQx1c1L7pbGg4yhk\") 15)) (ovenMap (type_annotation (big_map 21 ) (bigmap \"address\" \"address\") 21)))\nstorage_type (())\nmessages ((addOven True ((set_type (params 51) (tuple \"address\" \"address\") 52) (verify (eq (sender) (attr (data) \"ovenFactoryContractAddress\" 54) 54) False (literal (intOrNat 7) 54) 54) (set (getItem (attr (data) \"ovenMap\" 59) (first (params 51) 56) 59) (second (params 51) 57) 59))) (default True ((set_type (params 41) \"unit\" 42) (failwith (literal (intOrNat 19) 43) 43))) (isOven True ((verify (contains (attr (data) \"ovenMap\" 59) (params 33) 34) False (literal (intOrNat 1) 34) 34) (verify (eq (amount) (literal (mutez 0) 37) 37) False (literal (intOrNat 15) 37) 37))) (setGovernorContract True ((set_type (params 67) \"address\" 68) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 70) False (literal (intOrNat 4) 70) 70) (set (attr (data) \"governorContractAddress\" 70) (params 67) 71))) (setOvenFactoryContract True ((set_type (params 75) \"address\" 76) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 78) False (literal (intOrNat 4) 78) 78) (set (attr (data) \"ovenFactoryContractAddress\" 54) (params 75) 79))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 267, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 1, "export": "(storage (record 31 (collateralizationPercentage (literal (nat 200000000000000000000) 20)) (developerFundContractAddress (literal (address \"tz1R6Ej25VSerE3MkSoEEeBjKHCDTFbpKuSX\") 45)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (interestIndex (literal (intOrNat 1000000000000000000) 31)) (lastInterestIndexUpdateTime (literal (timestamp 1601871456) 22)) (liquidationFeePercent (literal (nat 80000000000000000) 25)) (ovenMax (variant \"Some\" (literal (mutez 100000000) 26) 26)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (stabilityDevFundSplit (literal (nat 100000000000000000) 24)) (stabilityFee (literal (nat 0) 21)) (stabilityFundContractAddress (literal (address \"tz1W5VkdB5s7ENMESVBtwyt9kyvLqPcUczRT\") 42)) (tokenContractAddress (literal (address \"tz1cYufsxHXJcvANhvS55h3aY32a9BAFB494\") 27)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 78) (tuple \"nat\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\")))))))) 79) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 82) 82) False (literal (intOrNat 2) 82) 82) (match_tuple 85 (params 78) \"match_pair_85_fst\" \"match_pair_85_snd\") (match_tuple 86 (variant_arg \"match_pair_85_snd\" 85) \"match_pair_86_fst\" \"match_pair_86_snd\") (match_tuple 87 (variant_arg \"match_pair_86_snd\" 86) \"match_pair_87_fst\" \"match_pair_87_snd\") (match_tuple 88 (variant_arg \"match_pair_87_snd\" 87) \"match_pair_88_fst\" \"match_pair_88_snd\") (match_tuple 89 (variant_arg \"match_pair_88_snd\" 88) \"match_pair_89_fst\" \"match_pair_89_snd\") (match_tuple 90 (variant_arg \"match_pair_89_snd\" 89) \"match_pair_90_fst\" \"match_pair_90_snd\") (match_tuple 91 (variant_arg \"match_pair_90_snd\" 90) \"match_pair_91_fst\" \"match_pair_91_snd\") (set_type (variant_arg \"match_pair_85_fst\" 85) \"nat\" 97) (set_type (variant_arg \"match_pair_86_fst\" 86) \"address\" 98) (set_type (variant_arg \"match_pair_87_fst\" 87) \"address\" 99) (set_type (variant_arg \"match_pair_88_fst\" 88) \"nat\" 100) (set_type (variant_arg \"match_pair_89_fst\" 89) \"nat\" 101) (set_type (variant_arg \"match_pair_90_fst\" 90) \"bool\" 102) (set_type (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) \"nat\" 103) (set_type (first (variant_arg \"match_pair_91_snd\" 91) 92) \"int\" 104) (set_type (second (variant_arg \"match_pair_91_snd\" 91) 93) \"nat\" 105) (verify (eq (variant_arg \"match_pair_90_fst\" 90) (literal (bool False) 113) 113) False (literal (intOrNat 16) 113) 113) (set_type (add (variant_arg \"match_pair_89_fst\" 89) (second (variant_arg \"match_pair_91_snd\" 91) 93) 120) \"nat\" 121) (set_type (add (add (variant_arg \"match_pair_89_fst\" 89) (second (variant_arg \"match_pair_91_snd\" 91) 93) 120) (add (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 116 (first (variant_arg \"match_pair_91_snd\" 91) 92) (tuple 116 (variant_arg \"match_pair_89_fst\" 89) (tuple 116 (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110)))) 116) 117) 124) \"nat\" 125) (ifBlock (gt (add (add (variant_arg \"match_pair_89_fst\" 89) (second (variant_arg \"match_pair_91_snd\" 91) 93) 120) (add (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 116 (first (variant_arg \"match_pair_91_snd\" 91) 92) (tuple 116 (variant_arg \"match_pair_89_fst\" 89) (tuple 116 (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110)))) 116) 117) 124) (literal (intOrNat 0) 126) 126) ((verify (ge (call_lambda (global \"computeCollateralizationPercentage\" 1 273) (tuple 127 (variant_arg \"match_pair_88_fst\" 88) (tuple 127 (variant_arg \"match_pair_85_fst\" 85) (add (add (variant_arg \"match_pair_89_fst\" 89) (second (variant_arg \"match_pair_91_snd\" 91) 93) 120) (add (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 116 (first (variant_arg \"match_pair_91_snd\" 91) 92) (tuple 116 (variant_arg \"match_pair_89_fst\" 89) (tuple 116 (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110)))) 116) 117) 124))) 127) (attr (data) \"collateralizationPercentage\" 128) 128) False (literal (intOrNat 11) 128) 128)) 126) (set_type (second (variant_arg \"match_pair_91_snd\" 91) 93) \"nat\" 462) (set_type (variant_arg \"match_pair_87_fst\" 87) \"address\" 463) (set (operations 471) (cons (transfer (record 465 (address (variant_arg \"match_pair_87_fst\" 87)) (value (second (variant_arg \"match_pair_91_snd\" 91) 93))) (literal (mutez 0) 471) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 466) \"Some\" \"None\" 466) 471) (operations 471) 471) 471) (set_type (variant_arg \"match_pair_86_fst\" 86) \"address\" 516) (set_type (add (variant_arg \"match_pair_89_fst\" 89) (second (variant_arg \"match_pair_91_snd\" 91) 93) 120) \"nat\" 517) (set_type (add (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 116 (first (variant_arg \"match_pair_91_snd\" 91) 92) (tuple 116 (variant_arg \"match_pair_89_fst\" 89) (tuple 116 (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110)))) 116) 117) \"nat\" 518) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110) \"nat\" 519) (set_type (variant_arg \"match_pair_90_fst\" 90) \"bool\" 520) (set_type (balance) \"mutez\" 521) (set (operations 532) (cons (transfer (tuple 532 (variant_arg \"match_pair_86_fst\" 86) (tuple 532 (add (variant_arg \"match_pair_89_fst\" 89) (second (variant_arg \"match_pair_91_snd\" 91) 93) 120) (tuple 532 (toInt (add (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 116 (first (variant_arg \"match_pair_91_snd\" 91) 92) (tuple 116 (variant_arg \"match_pair_89_fst\" 89) (tuple 116 (openVariant (isNat (variant_arg \"match_pair_91_fst\" 91) 95) \"Some\" \"None\" 95) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110)))) 116) 117) 524) (tuple 532 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110) 524) (variant_arg \"match_pair_90_fst\" 90))))) (balance) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 82) 526) \"Some\" \"None\" 526) 532) (operations 532) 532) 532) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 110 (attr (data) \"interestIndex\" 110) (tuple 110 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109))) 110) 137) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 108) 108) \"Some\" \"None\" 108) (literal (intOrNat 60) 109) 109) (literal (intOrNat 60) 138) 138) 138) 138) 138))) (deposit True ((set_type (params 208) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) 209) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 82) 212) False (literal (intOrNat 2) 212) 212) (ifBlock (isVariant (attr (data) \"ovenMax\" 215) \"Some\" 215) ((verify (le (balance) (openVariant (attr (data) \"ovenMax\" 215) \"Some\" \"None\" 216) 216) False (literal (intOrNat 21) 216) 216)) 215) (match_tuple 219 (params 208) \"match_pair_219_fst\" \"match_pair_219_snd\") (match_tuple 220 (variant_arg \"match_pair_219_snd\" 219) \"match_pair_220_fst\" \"match_pair_220_snd\") (match_tuple 221 (variant_arg \"match_pair_220_snd\" 220) \"match_pair_221_fst\" \"match_pair_221_snd\") (match_tuple 222 (variant_arg \"match_pair_221_snd\" 221) \"match_pair_222_fst\" \"match_pair_222_snd\") (match_tuple 223 (variant_arg \"match_pair_222_snd\" 222) \"match_pair_223_fst\" \"match_pair_223_snd\") (set_type (variant_arg \"match_pair_219_fst\" 219) \"address\" 229) (set_type (variant_arg \"match_pair_220_fst\" 220) \"address\" 230) (set_type (variant_arg \"match_pair_221_fst\" 221) \"nat\" 231) (set_type (variant_arg \"match_pair_222_fst\" 222) \"nat\" 232) (set_type (variant_arg \"match_pair_223_fst\" 223) \"bool\" 233) (set_type (openVariant (isNat (first (variant_arg \"match_pair_223_snd\" 223) 224) 227) \"Some\" \"None\" 227) \"nat\" 234) (set_type (second (variant_arg \"match_pair_223_snd\" 223) 225) \"int\" 235) (verify (eq (variant_arg \"match_pair_223_fst\" 223) (literal (bool False) 243) 243) False (literal (intOrNat 16) 243) 243) (set_type (variant_arg \"match_pair_219_fst\" 219) \"address\" 516) (set_type (variant_arg \"match_pair_222_fst\" 222) \"nat\" 517) (set_type (add (openVariant (isNat (first (variant_arg \"match_pair_223_snd\" 223) 224) 227) \"Some\" \"None\" 227) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 246 (second (variant_arg \"match_pair_223_snd\" 223) 225) (tuple 246 (variant_arg \"match_pair_222_fst\" 222) (tuple 246 (openVariant (isNat (first (variant_arg \"match_pair_223_snd\" 223) 224) 227) \"Some\" \"None\" 227) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 240 (attr (data) \"interestIndex\" 110) (tuple 240 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 238) 238) \"Some\" \"None\" 238) (literal (intOrNat 60) 239) 239))) 240)))) 246) 247) \"nat\" 518) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 240 (attr (data) \"interestIndex\" 110) (tuple 240 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 238) 238) \"Some\" \"None\" 238) (literal (intOrNat 60) 239) 239))) 240) \"nat\" 519) (set_type (variant_arg \"match_pair_223_fst\" 223) \"bool\" 520) (set_type (balance) \"mutez\" 521) (set (operations 532) (cons (transfer (tuple 532 (variant_arg \"match_pair_219_fst\" 219) (tuple 532 (variant_arg \"match_pair_222_fst\" 222) (tuple 532 (toInt (add (openVariant (isNat (first (variant_arg \"match_pair_223_snd\" 223) 224) 227) \"Some\" \"None\" 227) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 246 (second (variant_arg \"match_pair_223_snd\" 223) 225) (tuple 246 (variant_arg \"match_pair_222_fst\" 222) (tuple 246 (openVariant (isNat (first (variant_arg \"match_pair_223_snd\" 223) 224) 227) \"Some\" \"None\" 227) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 240 (attr (data) \"interestIndex\" 110) (tuple 240 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 238) 238) \"Some\" \"None\" 238) (literal (intOrNat 60) 239) 239))) 240)))) 246) 247) 524) (tuple 532 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 240 (attr (data) \"interestIndex\" 110) (tuple 240 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 238) 238) \"Some\" \"None\" 238) (literal (intOrNat 60) 239) 239))) 240) 524) (variant_arg \"match_pair_223_fst\" 223))))) (balance) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 82) 526) \"Some\" \"None\" 526) 532) (operations 532) 532) 532) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 240 (attr (data) \"interestIndex\" 110) (tuple 240 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 238) 238) \"Some\" \"None\" 238) (literal (intOrNat 60) 239) 239))) 240) 253) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 238) 238) \"Some\" \"None\" 238) (literal (intOrNat 60) 239) 239) (literal (intOrNat 60) 254) 254) 254) 254) 254))) (getInterestIndex True ((set_type (params 54) (contract \"nat\") 55) (verify (eq (amount) (literal (mutez 0) 58) 58) False (literal (intOrNat 15) 58) 58) (set (operations 66) (cons (transfer (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 63 (attr (data) \"interestIndex\" 110) (tuple 63 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 61) 61) \"Some\" \"None\" 61) (literal (intOrNat 60) 62) 62))) 63) (literal (mutez 0) 66) (params 54) 66) (operations 66) 66) 66) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 63 (attr (data) \"interestIndex\" 110) (tuple 63 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 61) 61) \"Some\" \"None\" 61) (literal (intOrNat 60) 62) 62))) 63) 69) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 61) 61) \"Some\" \"None\" 61) (literal (intOrNat 60) 62) 62) (literal (intOrNat 60) 70) 70) 70) 70) 70))) (liquidate True ((set_type (params 316) (tuple \"nat\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\")))))))) 317) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 82) 320) False (literal (intOrNat 2) 320) 320) (match_tuple 323 (params 316) \"match_pair_323_fst\" \"match_pair_323_snd\") (match_tuple 324 (variant_arg \"match_pair_323_snd\" 323) \"match_pair_324_fst\" \"match_pair_324_snd\") (match_tuple 325 (variant_arg \"match_pair_324_snd\" 324) \"match_pair_325_fst\" \"match_pair_325_snd\") (match_tuple 326 (variant_arg \"match_pair_325_snd\" 325) \"match_pair_326_fst\" \"match_pair_326_snd\") (match_tuple 327 (variant_arg \"match_pair_326_snd\" 326) \"match_pair_327_fst\" \"match_pair_327_snd\") (match_tuple 328 (variant_arg \"match_pair_327_snd\" 327) \"match_pair_328_fst\" \"match_pair_328_snd\") (match_tuple 329 (variant_arg \"match_pair_328_snd\" 328) \"match_pair_329_fst\" \"match_pair_329_snd\") (set_type (variant_arg \"match_pair_323_fst\" 323) \"nat\" 335) (set_type (variant_arg \"match_pair_324_fst\" 324) \"address\" 336) (set_type (variant_arg \"match_pair_325_fst\" 325) \"address\" 337) (set_type (variant_arg \"match_pair_326_fst\" 326) \"nat\" 338) (set_type (variant_arg \"match_pair_327_fst\" 327) \"nat\" 339) (set_type (variant_arg \"match_pair_328_fst\" 328) \"bool\" 340) (set_type (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) \"nat\" 341) (set_type (first (variant_arg \"match_pair_329_snd\" 329) 330) \"int\" 342) (set_type (second (variant_arg \"match_pair_329_snd\" 329) 331) \"address\" 343) (verify (eq (variant_arg \"match_pair_328_fst\" 328) (literal (bool False) 351) 351) False (literal (intOrNat 16) 351) 351) (verify (lt (call_lambda (global \"computeCollateralizationPercentage\" 1 273) (tuple 359 (variant_arg \"match_pair_326_fst\" 326) (tuple 359 (variant_arg \"match_pair_323_fst\" 323) (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358))) 359) (attr (data) \"collateralizationPercentage\" 128) 360) False (literal (intOrNat 10) 360) 360) (set_type (add (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 366) \"nat\" 450) (set_type (second (variant_arg \"match_pair_329_snd\" 329) 331) \"address\" 451) (set (operations 459) (cons (transfer (record 453 (address (second (variant_arg \"match_pair_329_snd\" 329) 331)) (value (add (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 366))) (literal (mutez 0) 459) (openVariant (contract \"burn\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 454) \"Some\" \"None\" 454) 459) (operations 459) 459) 459) (set_type (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) \"nat\" 439) (set_type (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442) \"nat\" 462) (set_type (attr (data) \"developerFundContractAddress\" 446) \"address\" 463) (set (operations 471) (cons (transfer (record 465 (address (attr (data) \"developerFundContractAddress\" 446)) (value (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442))) (literal (mutez 0) 471) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 466) \"Some\" \"None\" 466) 471) (operations 471) 471) 471) (set_type (openVariant (isNat (sub (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442) 443) 443) \"Some\" \"None\" 443) \"nat\" 462) (set_type (attr (data) \"stabilityFundContractAddress\" 447) \"address\" 463) (set (operations 471) (cons (transfer (record 465 (address (attr (data) \"stabilityFundContractAddress\" 447)) (value (openVariant (isNat (sub (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) (floordiv (mul (add (variant_arg \"match_pair_327_fst\" 327) (add (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 354 (first (variant_arg \"match_pair_329_snd\" 329) 330) (tuple 354 (variant_arg \"match_pair_327_fst\" 327) (tuple 354 (openVariant (isNat (variant_arg \"match_pair_329_fst\" 329) 333) \"Some\" \"None\" 333) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348)))) 354) 355) 358) (attr (data) \"liquidationFeePercent\" 363) 363) (literal (nat 1000000000000000000) 4) 363) 369) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442) 443) 443) \"Some\" \"None\" 443))) (literal (mutez 0) 471) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 466) \"Some\" \"None\" 466) 471) (operations 471) 471) 471) (set (operations 372) (cons (transfer (unit) (split_tokens (literal (mutez 1) 372) (floordiv (variant_arg \"match_pair_326_fst\" 326) (literal (intOrNat 1000000000000) 372) 372) (literal (intOrNat 1) 372) 372) (openVariant (contract \"\" \"unit\" (second (variant_arg \"match_pair_329_snd\" 329) 331) 372) \"Some\" \"None\" 372) 372) (operations 372) 372) 372) (set_type (variant_arg \"match_pair_324_fst\" 324) \"address\" 516) (set_type (literal (nat 0) 375) \"nat\" 517) (set_type (literal (nat 0) 375) \"nat\" 518) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348) \"nat\" 519) (set_type (literal (bool True) 520) \"bool\" 520) (set_type (literal (mutez 0) 375) \"mutez\" 521) (set (operations 532) (cons (transfer (tuple 532 (variant_arg \"match_pair_324_fst\" 324) (tuple 532 (literal (nat 0) 375) (tuple 532 (toInt (literal (nat 0) 375) 524) (tuple 532 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348) 524) (literal (bool True) 532))))) (literal (mutez 0) 375) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 82) 526) \"Some\" \"None\" 526) 532) (operations 532) 532) 532) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 348 (attr (data) \"interestIndex\" 110) (tuple 348 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347))) 348) 378) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 346) 346) \"Some\" \"None\" 346) (literal (intOrNat 60) 347) 347) (literal (intOrNat 60) 379) 379) 379) 379) 379))) (repay True ((set_type (params 142) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) 143) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 82) 146) False (literal (intOrNat 2) 146) 146) (match_tuple 149 (params 142) \"match_pair_149_fst\" \"match_pair_149_snd\") (match_tuple 150 (variant_arg \"match_pair_149_snd\" 149) \"match_pair_150_fst\" \"match_pair_150_snd\") (match_tuple 151 (variant_arg \"match_pair_150_snd\" 150) \"match_pair_151_fst\" \"match_pair_151_snd\") (match_tuple 152 (variant_arg \"match_pair_151_snd\" 151) \"match_pair_152_fst\" \"match_pair_152_snd\") (match_tuple 153 (variant_arg \"match_pair_152_snd\" 152) \"match_pair_153_fst\" \"match_pair_153_snd\") (match_tuple 154 (variant_arg \"match_pair_153_snd\" 153) \"match_pair_154_fst\" \"match_pair_154_snd\") (set_type (variant_arg \"match_pair_149_fst\" 149) \"address\" 160) (set_type (variant_arg \"match_pair_150_fst\" 150) \"address\" 161) (set_type (variant_arg \"match_pair_151_fst\" 151) \"nat\" 162) (set_type (variant_arg \"match_pair_152_fst\" 152) \"nat\" 163) (set_type (variant_arg \"match_pair_153_fst\" 153) \"bool\" 164) (set_type (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) \"nat\" 165) (set_type (first (variant_arg \"match_pair_154_snd\" 154) 155) \"int\" 166) (set_type (second (variant_arg \"match_pair_154_snd\" 154) 156) \"nat\" 167) (verify (eq (variant_arg \"match_pair_153_fst\" 153) (literal (bool False) 175) 175) False (literal (intOrNat 16) 175) 175) (defineLocal \"stabilityFeeTokensRepaid\" (literal (intOrNat 0) 183) 183) (defineLocal \"remainingStabilityFeeTokens\" (literal (intOrNat 0) 184) 184) (defineLocal \"remainingBorrowedTokenBalance\" (literal (intOrNat 0) 185) 185) (ifBlock (lt (second (variant_arg \"match_pair_154_snd\" 154) 156) (add (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 178 (first (variant_arg \"match_pair_154_snd\" 154) 155) (tuple 178 (variant_arg \"match_pair_152_fst\" 152) (tuple 178 (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172)))) 178) 179) 186) ((set (getLocal \"stabilityFeeTokensRepaid\" 273) (second (variant_arg \"match_pair_154_snd\" 154) 156) 187) (set (getLocal \"remainingStabilityFeeTokens\" 273) (openVariant (isNat (sub (add (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 178 (first (variant_arg \"match_pair_154_snd\" 154) 155) (tuple 178 (variant_arg \"match_pair_152_fst\" 152) (tuple 178 (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172)))) 178) 179) (second (variant_arg \"match_pair_154_snd\" 154) 156) 188) 188) \"Some\" \"None\" 188) 188) (set (getLocal \"remainingBorrowedTokenBalance\" 273) (variant_arg \"match_pair_152_fst\" 152) 189)) 186) (elseBlock ((set (getLocal \"stabilityFeeTokensRepaid\" 273) (add (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 178 (first (variant_arg \"match_pair_154_snd\" 154) 155) (tuple 178 (variant_arg \"match_pair_152_fst\" 152) (tuple 178 (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172)))) 178) 179) 191) (set (getLocal \"remainingStabilityFeeTokens\" 273) (literal (nat 0) 192) 192) (set (getLocal \"remainingBorrowedTokenBalance\" 273) (openVariant (isNat (sub (variant_arg \"match_pair_152_fst\" 152) (openVariant (isNat (sub (second (variant_arg \"match_pair_154_snd\" 154) 156) (add (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 178 (first (variant_arg \"match_pair_154_snd\" 154) 155) (tuple 178 (variant_arg \"match_pair_152_fst\" 152) (tuple 178 (openVariant (isNat (variant_arg \"match_pair_154_fst\" 154) 158) \"Some\" \"None\" 158) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172)))) 178) 179) 193) 193) \"Some\" \"None\" 193) 193) 193) \"Some\" \"None\" 193) 193))) (set_type (getLocal \"stabilityFeeTokensRepaid\" 196) \"nat\" 439) (set_type (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 196) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442) \"nat\" 462) (set_type (attr (data) \"developerFundContractAddress\" 446) \"address\" 463) (set (operations 471) (cons (transfer (record 465 (address (attr (data) \"developerFundContractAddress\" 446)) (value (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 196) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442))) (literal (mutez 0) 471) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 466) \"Some\" \"None\" 466) 471) (operations 471) 471) 471) (set_type (openVariant (isNat (sub (getLocal \"stabilityFeeTokensRepaid\" 196) (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 196) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442) 443) 443) \"Some\" \"None\" 443) \"nat\" 462) (set_type (attr (data) \"stabilityFundContractAddress\" 447) \"address\" 463) (set (operations 471) (cons (transfer (record 465 (address (attr (data) \"stabilityFundContractAddress\" 447)) (value (openVariant (isNat (sub (getLocal \"stabilityFeeTokensRepaid\" 196) (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 196) (attr (data) \"stabilityDevFundSplit\" 442) 442) (literal (nat 1000000000000000000) 4) 442) 443) 443) \"Some\" \"None\" 443))) (literal (mutez 0) 471) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 466) \"Some\" \"None\" 466) 471) (operations 471) 471) 471) (set_type (second (variant_arg \"match_pair_154_snd\" 154) 156) \"nat\" 450) (set_type (variant_arg \"match_pair_150_fst\" 150) \"address\" 451) (set (operations 459) (cons (transfer (record 453 (address (variant_arg \"match_pair_150_fst\" 150)) (value (second (variant_arg \"match_pair_154_snd\" 154) 156))) (literal (mutez 0) 459) (openVariant (contract \"burn\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 468) 454) \"Some\" \"None\" 454) 459) (operations 459) 459) 459) (set_type (variant_arg \"match_pair_149_fst\" 149) \"address\" 516) (set_type (getLocal \"remainingBorrowedTokenBalance\" 200) \"nat\" 517) (set_type (getLocal \"remainingStabilityFeeTokens\" 200) \"nat\" 518) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172) \"nat\" 519) (set_type (variant_arg \"match_pair_153_fst\" 153) \"bool\" 520) (set_type (balance) \"mutez\" 521) (set (operations 532) (cons (transfer (tuple 532 (variant_arg \"match_pair_149_fst\" 149) (tuple 532 (getLocal \"remainingBorrowedTokenBalance\" 200) (tuple 532 (toInt (getLocal \"remainingStabilityFeeTokens\" 200) 524) (tuple 532 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172) 524) (variant_arg \"match_pair_153_fst\" 153))))) (balance) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 82) 526) \"Some\" \"None\" 526) 532) (operations 532) 532) 532) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 172 (attr (data) \"interestIndex\" 110) (tuple 172 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171))) 172) 203) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 170) 170) \"Some\" \"None\" 170) (literal (intOrNat 60) 171) 171) (literal (intOrNat 60) 204) 204) 204) 204) 204))) (updateContracts True ((set_type (params 414) (tuple \"address\" (tuple \"address\" (tuple \"address\" (tuple \"address\" \"address\")))) 415) (verify (eq (sender) (attr (data) \"governorContractAddress\" 417) 417) False (literal (intOrNat 4) 417) 417) (match_tuple 419 (params 414) \"match_pair_419_fst\" \"match_pair_419_snd\") (match_tuple 420 (variant_arg \"match_pair_419_snd\" 419) \"match_pair_420_fst\" \"match_pair_420_snd\") (match_tuple 421 (variant_arg \"match_pair_420_snd\" 420) \"match_pair_421_fst\" \"match_pair_421_snd\") (match_tuple 422 (variant_arg \"match_pair_421_snd\" 421) \"match_pair_422_fst\" \"match_pair_422_snd\") (set (attr (data) \"governorContractAddress\" 417) (variant_arg \"match_pair_419_fst\" 419) 424) (set (attr (data) \"tokenContractAddress\" 468) (variant_arg \"match_pair_420_fst\" 420) 425) (set (attr (data) \"ovenProxyContractAddress\" 82) (variant_arg \"match_pair_421_fst\" 421) 426) (set (attr (data) \"stabilityFundContractAddress\" 447) (variant_arg \"match_pair_422_fst\" 422) 427) (set (attr (data) \"developerFundContractAddress\" 446) (variant_arg \"match_pair_422_snd\" 422) 428))) (updateParams True ((set_type (params 390) (tuple \"nat\" (tuple \"nat\" (tuple \"nat\" (option \"mutez\")))) 391) (verify (eq (sender) (attr (data) \"governorContractAddress\" 417) 393) False (literal (intOrNat 4) 393) 393) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 398 (attr (data) \"interestIndex\" 110) (tuple 398 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 396) 396) \"Some\" \"None\" 396) (literal (intOrNat 60) 397) 397))) 398) 399) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 396) 396) \"Some\" \"None\" 396) (literal (intOrNat 60) 397) 397) (literal (intOrNat 60) 400) 400) 400) 400) 400) (match_tuple 403 (params 390) \"match_pair_403_fst\" \"match_pair_403_snd\") (match_tuple 404 (variant_arg \"match_pair_403_snd\" 403) \"match_pair_404_fst\" \"match_pair_404_snd\") (match_tuple 405 (variant_arg \"match_pair_404_snd\" 404) \"match_pair_405_fst\" \"match_pair_405_snd\") (set (attr (data) \"stabilityFee\" 110) (variant_arg \"match_pair_403_fst\" 403) 407) (set (attr (data) \"liquidationFeePercent\" 363) (variant_arg \"match_pair_404_fst\" 404) 408) (set (attr (data) \"collateralizationPercentage\" 128) (variant_arg \"match_pair_405_fst\" 405) 409) (set (attr (data) \"ovenMax\" 215) (variant_arg \"match_pair_405_snd\" 405) 410))) (withdraw True ((set_type (params 257) (tuple \"nat\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\")))))))) 258) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 82) 261) False (literal (intOrNat 2) 261) 261) (match_tuple 264 (params 257) \"match_pair_264_fst\" \"match_pair_264_snd\") (match_tuple 265 (variant_arg \"match_pair_264_snd\" 264) \"match_pair_265_fst\" \"match_pair_265_snd\") (match_tuple 266 (variant_arg \"match_pair_265_snd\" 265) \"match_pair_266_fst\" \"match_pair_266_snd\") (match_tuple 267 (variant_arg \"match_pair_266_snd\" 266) \"match_pair_267_fst\" \"match_pair_267_snd\") (match_tuple 268 (variant_arg \"match_pair_267_snd\" 267) \"match_pair_268_fst\" \"match_pair_268_snd\") (match_tuple 269 (variant_arg \"match_pair_268_snd\" 268) \"match_pair_269_fst\" \"match_pair_269_snd\") (match_tuple 270 (variant_arg \"match_pair_269_snd\" 269) \"match_pair_270_fst\" \"match_pair_270_snd\") (set_type (variant_arg \"match_pair_264_fst\" 264) \"nat\" 276) (set_type (variant_arg \"match_pair_265_fst\" 265) \"address\" 277) (set_type (variant_arg \"match_pair_266_fst\" 266) \"address\" 278) (set_type (variant_arg \"match_pair_267_fst\" 267) \"nat\" 279) (set_type (variant_arg \"match_pair_268_fst\" 268) \"nat\" 280) (set_type (variant_arg \"match_pair_269_fst\" 269) \"bool\" 281) (set_type (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) \"nat\" 282) (set_type (first (variant_arg \"match_pair_270_snd\" 270) 271) \"int\" 283) (set_type (second (variant_arg \"match_pair_270_snd\" 270) 272) \"mutez\" 284) (ifBlock (gt (add (variant_arg \"match_pair_268_fst\" 268) (add (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 292 (first (variant_arg \"match_pair_270_snd\" 270) 271) (tuple 292 (variant_arg \"match_pair_268_fst\" 268) (tuple 292 (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289)))) 292) 293) 296) (literal (intOrNat 0) 297) 297) ((verify (ge (call_lambda (global \"computeCollateralizationPercentage\" 1 273) (tuple 300 (openVariant (isNat (sub (variant_arg \"match_pair_267_fst\" 267) (mul (first (openVariant (ediv (second (variant_arg \"match_pair_270_snd\" 270) 272) (literal (mutez 1) 298) 298) \"Some\" \"None\" 298) 298) (literal (intOrNat 1000000000000) 298) 298) 299) 299) \"Some\" \"None\" 299) (tuple 300 (variant_arg \"match_pair_264_fst\" 264) (add (variant_arg \"match_pair_268_fst\" 268) (add (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 292 (first (variant_arg \"match_pair_270_snd\" 270) 271) (tuple 292 (variant_arg \"match_pair_268_fst\" 268) (tuple 292 (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289)))) 292) 293) 296))) 300) (attr (data) \"collateralizationPercentage\" 128) 301) False (literal (intOrNat 11) 301) 301)) 297) (set (operations 304) (cons (transfer (unit) (second (variant_arg \"match_pair_270_snd\" 270) 272) (openVariant (contract \"\" \"unit\" (variant_arg \"match_pair_266_fst\" 266) 304) \"Some\" \"None\" 304) 304) (operations 304) 304) 304) (set_type (variant_arg \"match_pair_265_fst\" 265) \"address\" 516) (set_type (variant_arg \"match_pair_268_fst\" 268) \"nat\" 517) (set_type (add (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 292 (first (variant_arg \"match_pair_270_snd\" 270) 271) (tuple 292 (variant_arg \"match_pair_268_fst\" 268) (tuple 292 (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289)))) 292) 293) \"nat\" 518) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289) \"nat\" 519) (set_type (variant_arg \"match_pair_269_fst\" 269) \"bool\" 520) (set_type (sub (split_tokens (literal (mutez 1) 307) (floordiv (variant_arg \"match_pair_267_fst\" 267) (literal (intOrNat 1000000000000) 307) 307) (literal (intOrNat 1) 307) 307) (second (variant_arg \"match_pair_270_snd\" 270) 272) 307) \"mutez\" 521) (set (operations 532) (cons (transfer (tuple 532 (variant_arg \"match_pair_265_fst\" 265) (tuple 532 (variant_arg \"match_pair_268_fst\" 268) (tuple 532 (toInt (add (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 292 (first (variant_arg \"match_pair_270_snd\" 270) 271) (tuple 292 (variant_arg \"match_pair_268_fst\" 268) (tuple 292 (openVariant (isNat (variant_arg \"match_pair_270_fst\" 270) 274) \"Some\" \"None\" 274) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289)))) 292) 293) 524) (tuple 532 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289) 524) (variant_arg \"match_pair_269_fst\" 269))))) (sub (split_tokens (literal (mutez 1) 307) (floordiv (variant_arg \"match_pair_267_fst\" 267) (literal (intOrNat 1000000000000) 307) 307) (literal (intOrNat 1) 307) 307) (second (variant_arg \"match_pair_270_snd\" 270) 272) 307) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 82) 526) \"Some\" \"None\" 526) 532) (operations 532) 532) 532) (set (attr (data) \"interestIndex\" 110) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 289 (attr (data) \"interestIndex\" 110) (tuple 289 (attr (data) \"stabilityFee\" 110) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288))) 289) 311) (set (attr (data) \"lastInterestIndexUpdateTime\" 108) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 108) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 108) 287) 287) \"Some\" \"None\" 287) (literal (intOrNat 60) 288) 288) (literal (intOrNat 60) 312) 312) 312) 312) 312))))\nflags (Exception_DefaultUnit no_comment)\nglobals ((calculateNewAccruedInterest (lambda 0 \"\" 273 ((set_type (lambdaParams 0 \"\" 273 (unknown 15)) (tuple \"int\" (tuple \"nat\" (tuple \"nat\" \"nat\"))) 476) (result (openVariant (isNat (sub (first (openVariant (ediv (mul (first (openVariant (ediv (mul (second (second (second (lambdaParams 0 \"\" 273 (unknown 15)) 481) 481) 481) (literal (nat 1000000000000000000) 4) 483) (openVariant (isNat (first (lambdaParams 0 \"\" 273 (unknown 15)) 478) 478) \"Some\" \"None\" 478) 483) \"Some\" \"None\" 483) 483) (add (first (second (lambdaParams 0 \"\" 273 (unknown 15)) 479) 479) (first (second (second (lambdaParams 0 \"\" 273 (unknown 15)) 480) 480) 480) 484) 485) (literal (nat 1000000000000000000) 4) 485) \"Some\" \"None\" 485) 485) (add (first (second (lambdaParams 0 \"\" 273 (unknown 15)) 479) 479) (first (second (second (lambdaParams 0 \"\" 273 (unknown 15)) 480) 480) 480) 484) 486) 486) \"Some\" \"None\" 486) 487)))) (compoundWithLinearApproximation (lambda 1 \"\" 273 ((set_type (lambdaParams 1 \"\" 273 (unknown 16)) (tuple \"nat\" (tuple \"nat\" \"nat\")) 492) (result (floordiv (mul (first (lambdaParams 1 \"\" 273 (unknown 16)) 494) (add (literal (nat 1000000000000000000) 4) (mul (second (second (lambdaParams 1 \"\" 273 (unknown 16)) 496) 496) (first (second (lambdaParams 1 \"\" 273 (unknown 16)) 495) 495) 498) 498) 498) (literal (nat 1000000000000000000) 4) 498) 498)))) (computeCollateralizationPercentage (lambda 2 \"\" 273 ((set_type (lambdaParams 2 \"\" 273 (unknown 17)) (tuple \"nat\" (tuple \"nat\" \"nat\")) 504) (result (mul (floordiv (mul (floordiv (mul (first (lambdaParams 2 \"\" 273 (unknown 17)) 506) (first (second (lambdaParams 2 \"\" 273 (unknown 17)) 507) 507) 511) (literal (nat 1000000000000000000) 4) 511) (literal (nat 1000000000000000000) 4) 512) (second (second (lambdaParams 2 \"\" 273 (unknown 17)) 508) 508) 512) (literal (intOrNat 100) 513) 513) 513)))))\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 273, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 3, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (local-address 1) 273)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (local-address 0) 18)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 282, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setOvenFactoryContract", "params": "(literal (local-address 3) 33)", "line_no": 285, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 18)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 285)", "show": true, "valid": "(literal (bool True) 285)", "voting_powers": "(map 285 )"}, {"action": "message", "id": 3, "message": "makeOven", "params": "(unit)", "line_no": 293, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)", "chain_id": "", "time": "(literal (timestamp 1632261259) 296)", "amount": "(literal (mutez 1) 295)", "level": "(literal (intOrNat 0) 293)", "show": true, "valid": "(literal (bool False) 293)", "voting_powers": "(map 293 )"}]}, {"shortname": "makeOven_minterCallback_-_fails_when_not_called_from_minter", "longname": "makeOven_minterCallback - fails when not called from minter", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 18 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (ovenFactoryContractAddress (literal (address \"tz1irJKkXS2DBWkU1NnmFQx1c1L7pbGg4yhk\") 15)) (ovenMap (type_annotation (big_map 21 ) (bigmap \"address\" \"address\") 21)))\nstorage_type (())\nmessages ((addOven True ((set_type (params 51) (tuple \"address\" \"address\") 52) (verify (eq (sender) (attr (data) \"ovenFactoryContractAddress\" 54) 54) False (literal (intOrNat 7) 54) 54) (set (getItem (attr (data) \"ovenMap\" 59) (first (params 51) 56) 59) (second (params 51) 57) 59))) (default True ((set_type (params 41) \"unit\" 42) (failwith (literal (intOrNat 19) 43) 43))) (isOven True ((verify (contains (attr (data) \"ovenMap\" 59) (params 33) 34) False (literal (intOrNat 1) 34) 34) (verify (eq (amount) (literal (mutez 0) 37) 37) False (literal (intOrNat 15) 37) 37))) (setGovernorContract True ((set_type (params 67) \"address\" 68) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 70) False (literal (intOrNat 4) 70) 70) (set (attr (data) \"governorContractAddress\" 70) (params 67) 71))) (setOvenFactoryContract True ((set_type (params 75) \"address\" 76) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 78) False (literal (intOrNat 4) 78) 78) (set (attr (data) \"ovenFactoryContractAddress\" 54) (params 75) 79))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 313, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 2, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"Some\" (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21) 316)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (local-address 0) 18)) (state (literal (intOrNat 1) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 324, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setOvenFactoryContract", "params": "(literal (local-address 2) 33)", "line_no": 327, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 18)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 327)", "show": true, "valid": "(literal (bool True) 327)", "voting_powers": "(map 327 )"}, {"action": "message", "id": 2, "message": "makeOven_minterCallback", "params": "(literal (intOrNat 1) 336)", "line_no": 336, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 336)", "show": true, "valid": "(literal (bool False) 336)", "voting_powers": "(map 336 )"}]}, {"shortname": "makeOven_minterCallback_-_fails_when_called_in_bad_state", "longname": "makeOven_minterCallback - fails when called in bad state", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 18 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (ovenFactoryContractAddress (literal (address \"tz1irJKkXS2DBWkU1NnmFQx1c1L7pbGg4yhk\") 15)) (ovenMap (type_annotation (big_map 21 ) (bigmap \"address\" \"address\") 21)))\nstorage_type (())\nmessages ((addOven True ((set_type (params 51) (tuple \"address\" \"address\") 52) (verify (eq (sender) (attr (data) \"ovenFactoryContractAddress\" 54) 54) False (literal (intOrNat 7) 54) 54) (set (getItem (attr (data) \"ovenMap\" 59) (first (params 51) 56) 59) (second (params 51) 57) 59))) (default True ((set_type (params 41) \"unit\" 42) (failwith (literal (intOrNat 19) 43) 43))) (isOven True ((verify (contains (attr (data) \"ovenMap\" 59) (params 33) 34) False (literal (intOrNat 1) 34) 34) (verify (eq (amount) (literal (mutez 0) 37) 37) False (literal (intOrNat 15) 37) 37))) (setGovernorContract True ((set_type (params 67) \"address\" 68) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 70) False (literal (intOrNat 4) 70) 70) (set (attr (data) \"governorContractAddress\" 70) (params 67) 71))) (setOvenFactoryContract True ((set_type (params 75) \"address\" 76) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 78) False (literal (intOrNat 4) 78) 78) (set (attr (data) \"ovenFactoryContractAddress\" 54) (params 75) 79))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 350, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 2, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"Some\" (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21) 354)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 360, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setOvenFactoryContract", "params": "(literal (local-address 2) 33)", "line_no": 363, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 18)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 363)", "show": true, "valid": "(literal (bool True) 363)", "voting_powers": "(map 363 )"}, {"action": "message", "id": 2, "message": "makeOven_minterCallback", "params": "(literal (intOrNat 1) 371)", "line_no": 371, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 371)", "show": true, "valid": "(literal (bool False) 371)", "voting_powers": "(map 371 )"}]}, {"shortname": "makeOven_minterCallback_-_succeeds_and_resets_state", "longname": "makeOven_minterCallback - succeeds and resets state", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 18 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (ovenFactoryContractAddress (literal (address \"tz1irJKkXS2DBWkU1NnmFQx1c1L7pbGg4yhk\") 15)) (ovenMap (type_annotation (big_map 21 ) (bigmap \"address\" \"address\") 21)))\nstorage_type (())\nmessages ((addOven True ((set_type (params 51) (tuple \"address\" \"address\") 52) (verify (eq (sender) (attr (data) \"ovenFactoryContractAddress\" 54) 54) False (literal (intOrNat 7) 54) 54) (set (getItem (attr (data) \"ovenMap\" 59) (first (params 51) 56) 59) (second (params 51) 57) 59))) (default True ((set_type (params 41) \"unit\" 42) (failwith (literal (intOrNat 19) 43) 43))) (isOven True ((verify (contains (attr (data) \"ovenMap\" 59) (params 33) 34) False (literal (intOrNat 1) 34) 34) (verify (eq (amount) (literal (mutez 0) 37) 37) False (literal (intOrNat 15) 37) 37))) (setGovernorContract True ((set_type (params 67) \"address\" 68) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 70) False (literal (intOrNat 4) 70) 70) (set (attr (data) \"governorContractAddress\" 70) (params 67) 71))) (setOvenFactoryContract True ((set_type (params 75) \"address\" 76) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 78) False (literal (intOrNat 4) 78) 78) (set (attr (data) \"ovenFactoryContractAddress\" 54) (params 75) 79))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 385, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 2, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"Some\" (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21) 389)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 1) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 395, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setOvenFactoryContract", "params": "(literal (local-address 2) 33)", "line_no": 398, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 18)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 398)", "show": true, "valid": "(literal (bool True) 398)", "voting_powers": "(map 398 )"}, {"action": "message", "id": 2, "message": "makeOven_minterCallback", "params": "(literal (nat 1) 405)", "line_no": 406, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 406)", "show": true, "valid": "(literal (bool True) 406)", "voting_powers": "(map 406 )"}, {"action": "verify", "condition": "(eq (attr (contractData 2 406) \"state\" 411) (literal (intOrNat 0) 411) 411)", "line_no": 411}, {"action": "verify", "condition": "(eq (isVariant (attr (contractData 2 406) \"makeOvenOwner\" 412) \"Some\" 412) (literal (bool False) 412) 412)", "line_no": 412}]}, {"shortname": "default_-_fails_with_calls_to_the_default_entrypoint", "longname": "default - fails with calls to the default entrypoint", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 427, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "default", "params": "(unit)", "line_no": 430, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 1) 431)", "level": "(literal (intOrNat 0) 430)", "show": true, "valid": "(literal (bool False) 430)", "voting_powers": "(map 430 )"}]}, {"shortname": "setGovernorContract_-_succeeds_when_called_by_governor", "longname": "setGovernorContract - succeeds when called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 448, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setGovernorContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 452, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 452)", "show": true, "valid": "(literal (bool True) 452)", "voting_powers": "(map 452 )"}, {"action": "verify", "condition": "(eq (attr (contractData 1 452) \"governorContractAddress\" 457) (literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48) 457)", "line_no": 457}]}, {"shortname": "setGovernorContract_-_fails_when_not_called_by_governor", "longname": "setGovernorContract - fails when not called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 468, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setGovernorContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 472, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 472)", "show": true, "valid": "(literal (bool False) 472)", "voting_powers": "(map 472 )"}]}, {"shortname": "setOvenRegistryContract_-_succeeds_when_called_by_governor", "longname": "setOvenRegistryContract - succeeds when called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 490, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setOvenRegistryContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 494, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 494)", "show": true, "valid": "(literal (bool True) 494)", "voting_powers": "(map 494 )"}, {"action": "verify", "condition": "(eq (attr (contractData 1 494) \"ovenRegistryContractAddress\" 499) (literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48) 499)", "line_no": 499}]}, {"shortname": "setOvenRegistryContract_-_fails_when_not_called_by_governor", "longname": "setOvenRegistryContract - fails when not called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 510, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setOvenRegistryContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 514, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 514)", "show": true, "valid": "(literal (bool False) 514)", "voting_powers": "(map 514 )"}]}, {"shortname": "setOvenProxyContract_-_succeeds_when_called_by_governor", "longname": "setOvenProxyContract - succeeds when called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 532, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setOvenProxyContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 536, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 536)", "show": true, "valid": "(literal (bool True) 536)", "voting_powers": "(map 536 )"}, {"action": "verify", "condition": "(eq (attr (contractData 1 536) \"ovenProxyContractAddress\" 541) (literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48) 541)", "line_no": 541}]}, {"shortname": "setOvenProxyContract_-_fails_when_not_called_by_governor", "longname": "setOvenProxyContract - fails when not called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 552, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setOvenProxyContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 556, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 556)", "show": true, "valid": "(literal (bool False) 556)", "voting_powers": "(map 556 )"}]}, {"shortname": "setMinterContract_-_succeeds_when_called_by_governor", "longname": "setMinterContract - succeeds when called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 574, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setMinterContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 578, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 578)", "show": true, "valid": "(literal (bool True) 578)", "voting_powers": "(map 578 )"}, {"action": "verify", "condition": "(eq (attr (contractData 1 578) \"minterContractAddress\" 583) (literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48) 583)", "line_no": 583}]}, {"shortname": "setMinterContract_-_fails_when_not_called_by_governor", "longname": "setMinterContract - fails when not called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 594, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setMinterContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 598, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 598)", "show": true, "valid": "(literal (bool False) 598)", "voting_powers": "(map 598 )"}]}, {"shortname": "setInitialDelegate_-_succeeds_when_called_by_governor", "longname": "setInitialDelegate - succeeds when called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"None\" (unit) -1)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 617, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setInitialDelegate", "params": "(variant \"Some\" (literal (key_hash \"tz1NRTQeqcuwybgrZfJavBY3of83u8uLpFBj\") 620) 620)", "line_no": 621, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 621)", "show": true, "valid": "(literal (bool True) 621)", "voting_powers": "(map 621 )"}, {"action": "verify", "condition": "(eq (openVariant (attr (contractData 1 621) \"initialDelegate\" 626) \"Some\" \"None\" 626) (openVariant (variant \"Some\" (literal (key_hash \"tz1NRTQeqcuwybgrZfJavBY3of83u8uLpFBj\") 620) 620) \"Some\" \"None\" 626) 626)", "line_no": 626}]}, {"shortname": "setInitialDelegate_-_fails_when_not_called_by_governor", "longname": "setInitialDelegate - fails when not called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 637, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setInitialDelegate", "params": "(variant \"Some\" (literal (key_hash \"tz1NRTQeqcuwybgrZfJavBY3of83u8uLpFBj\") 640) 640)", "line_no": 641, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 641)", "show": true, "valid": "(literal (bool False) 641)", "voting_powers": "(map 641 )"}]}]