[{"shortname": "makeOven_succeeds", "longname": "makeOven succeeds", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 18 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (ovenFactoryContractAddress (literal (address \"tz1irJKkXS2DBWkU1NnmFQx1c1L7pbGg4yhk\") 15)) (ovenMap (type_annotation (big_map 21 ) (bigmap \"address\" \"address\") 21)))\nstorage_type (())\nmessages ((addOven True ((set_type (params 51) (tuple \"address\" \"address\") 52) (verify (eq (sender) (attr (data) \"ovenFactoryContractAddress\" 54) 54) False (literal (intOrNat 7) 54) 54) (set (getItem (attr (data) \"ovenMap\" 59) (first (params 51) 56) 59) (second (params 51) 57) 59))) (default True ((set_type (params 41) \"unit\" 42) (failwith (literal (intOrNat 19) 43) 43))) (isOven True ((verify (contains (attr (data) \"ovenMap\" 59) (params 33) 34) False (literal (intOrNat 1) 34) 34) (verify (eq (amount) (literal (mutez 0) 37) 37) False (literal (intOrNat 15) 37) 37))) (setGovernorContract True ((set_type (params 67) \"address\" 68) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 70) False (literal (intOrNat 4) 70) 70) (set (attr (data) \"governorContractAddress\" 70) (params 67) 71))) (setOvenFactoryContract True ((set_type (params 75) \"address\" 76) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 78) False (literal (intOrNat 4) 78) 78) (set (attr (data) \"ovenFactoryContractAddress\" 54) (params 75) 79))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 186, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 1, "export": "(storage (record 34 (collateralizationPercentage (literal (nat 200000000000000000000) 21)) (devFundSplit (literal (nat 100000000000000000) 28)) (developerFundContractAddress (literal (address \"tz1R6Ej25VSerE3MkSoEEeBjKHCDTFbpKuSX\") 45)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (interestIndex (literal (intOrNat 1000000000000000000) 34)) (lastInterestIndexUpdateTime (literal (timestamp 1601871456) 24)) (liquidationFeePercent (literal (nat 80000000000000000) 29)) (liquidityPoolContractAddress (literal (address \"tz3QSGPoRp3Kn7n3vY24eYeu3Peuqo45LQ4D\") 57)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (privateOwnerLiquidationThreshold (literal (nat 20000000000000000000) 22)) (stabilityFee (literal (nat 0) 23)) (stabilityFundContractAddress (literal (address \"tz1W5VkdB5s7ENMESVBtwyt9kyvLqPcUczRT\") 42)) (tokenContractAddress (literal (address \"tz1cYufsxHXJcvANhvS55h3aY32a9BAFB494\") 27)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 85) (tuple \"nat\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\")))))))) 86) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 89) 89) False (literal (intOrNat 2) 89) 89) (match_tuple 92 (params 85) \"match_pair_92_fst\" \"match_pair_92_snd\") (match_tuple 93 (variant_arg \"match_pair_92_snd\" 92) \"match_pair_93_fst\" \"match_pair_93_snd\") (match_tuple 94 (variant_arg \"match_pair_93_snd\" 93) \"match_pair_94_fst\" \"match_pair_94_snd\") (match_tuple 95 (variant_arg \"match_pair_94_snd\" 94) \"match_pair_95_fst\" \"match_pair_95_snd\") (match_tuple 96 (variant_arg \"match_pair_95_snd\" 95) \"match_pair_96_fst\" \"match_pair_96_snd\") (match_tuple 97 (variant_arg \"match_pair_96_snd\" 96) \"match_pair_97_fst\" \"match_pair_97_snd\") (match_tuple 98 (variant_arg \"match_pair_97_snd\" 97) \"match_pair_98_fst\" \"match_pair_98_snd\") (set_type (variant_arg \"match_pair_92_fst\" 92) \"nat\" 104) (set_type (variant_arg \"match_pair_93_fst\" 93) \"address\" 105) (set_type (variant_arg \"match_pair_94_fst\" 94) \"address\" 106) (set_type (variant_arg \"match_pair_95_fst\" 95) \"nat\" 107) (set_type (variant_arg \"match_pair_96_fst\" 96) \"nat\" 108) (set_type (variant_arg \"match_pair_97_fst\" 97) \"bool\" 109) (set_type (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) \"nat\" 110) (set_type (first (variant_arg \"match_pair_98_snd\" 98) 99) \"int\" 111) (set_type (second (variant_arg \"match_pair_98_snd\" 98) 100) \"nat\" 112) (verify (eq (variant_arg \"match_pair_97_fst\" 97) (literal (bool False) 120) 120) False (literal (intOrNat 16) 120) 120) (set_type (add (variant_arg \"match_pair_96_fst\" 96) (second (variant_arg \"match_pair_98_snd\" 98) 100) 127) \"nat\" 128) (set_type (add (add (variant_arg \"match_pair_96_fst\" 96) (second (variant_arg \"match_pair_98_snd\" 98) 100) 127) (add (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 123 (first (variant_arg \"match_pair_98_snd\" 98) 99) (tuple 123 (variant_arg \"match_pair_96_fst\" 96) (tuple 123 (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117)))) 123) 124) 131) \"nat\" 132) (ifBlock (gt (add (add (variant_arg \"match_pair_96_fst\" 96) (second (variant_arg \"match_pair_98_snd\" 98) 100) 127) (add (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 123 (first (variant_arg \"match_pair_98_snd\" 98) 99) (tuple 123 (variant_arg \"match_pair_96_fst\" 96) (tuple 123 (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117)))) 123) 124) 131) (literal (intOrNat 0) 133) 133) ((verify (ge (call_lambda (global \"computeCollateralizationPercentage\" 1 192) (tuple 134 (variant_arg \"match_pair_95_fst\" 95) (tuple 134 (variant_arg \"match_pair_92_fst\" 92) (add (add (variant_arg \"match_pair_96_fst\" 96) (second (variant_arg \"match_pair_98_snd\" 98) 100) 127) (add (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 123 (first (variant_arg \"match_pair_98_snd\" 98) 99) (tuple 123 (variant_arg \"match_pair_96_fst\" 96) (tuple 123 (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117)))) 123) 124) 131))) 134) (attr (data) \"collateralizationPercentage\" 135) 135) False (literal (intOrNat 11) 135) 135)) 133) (set_type (second (variant_arg \"match_pair_98_snd\" 98) 100) \"nat\" 552) (set_type (variant_arg \"match_pair_94_fst\" 94) \"address\" 553) (set (operations 561) (cons (transfer (record 555 (address (variant_arg \"match_pair_94_fst\" 94)) (value (second (variant_arg \"match_pair_98_snd\" 98) 100))) (literal (mutez 0) 561) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 556) \"Some\" \"None\" 556) 561) (operations 561) 561) 561) (set_type (variant_arg \"match_pair_93_fst\" 93) \"address\" 606) (set_type (add (variant_arg \"match_pair_96_fst\" 96) (second (variant_arg \"match_pair_98_snd\" 98) 100) 127) \"nat\" 607) (set_type (add (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 123 (first (variant_arg \"match_pair_98_snd\" 98) 99) (tuple 123 (variant_arg \"match_pair_96_fst\" 96) (tuple 123 (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117)))) 123) 124) \"nat\" 608) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117) \"nat\" 609) (set_type (variant_arg \"match_pair_97_fst\" 97) \"bool\" 610) (set_type (balance) \"mutez\" 611) (set (operations 622) (cons (transfer (tuple 622 (variant_arg \"match_pair_93_fst\" 93) (tuple 622 (add (variant_arg \"match_pair_96_fst\" 96) (second (variant_arg \"match_pair_98_snd\" 98) 100) 127) (tuple 622 (toInt (add (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 123 (first (variant_arg \"match_pair_98_snd\" 98) 99) (tuple 123 (variant_arg \"match_pair_96_fst\" 96) (tuple 123 (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117)))) 123) 124) 614) (tuple 622 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117) 614) (variant_arg \"match_pair_97_fst\" 97))))) (balance) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 89) 616) \"Some\" \"None\" 616) 622) (operations 622) 622) 622) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117) 144) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116) (literal (intOrNat 60) 145) 145) 145) 145) 145))) (deposit True ((set_type (params 215) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) 216) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 89) 219) False (literal (intOrNat 2) 219) 219) (match_tuple 222 (params 215) \"match_pair_222_fst\" \"match_pair_222_snd\") (match_tuple 223 (variant_arg \"match_pair_222_snd\" 222) \"match_pair_223_fst\" \"match_pair_223_snd\") (match_tuple 224 (variant_arg \"match_pair_223_snd\" 223) \"match_pair_224_fst\" \"match_pair_224_snd\") (match_tuple 225 (variant_arg \"match_pair_224_snd\" 224) \"match_pair_225_fst\" \"match_pair_225_snd\") (match_tuple 226 (variant_arg \"match_pair_225_snd\" 225) \"match_pair_226_fst\" \"match_pair_226_snd\") (set_type (variant_arg \"match_pair_222_fst\" 222) \"address\" 232) (set_type (variant_arg \"match_pair_223_fst\" 223) \"address\" 233) (set_type (variant_arg \"match_pair_224_fst\" 224) \"nat\" 234) (set_type (variant_arg \"match_pair_225_fst\" 225) \"nat\" 235) (set_type (variant_arg \"match_pair_226_fst\" 226) \"bool\" 236) (set_type (openVariant (isNat (first (variant_arg \"match_pair_226_snd\" 226) 227) 230) \"Some\" \"None\" 230) \"nat\" 237) (set_type (second (variant_arg \"match_pair_226_snd\" 226) 228) \"int\" 238) (verify (eq (variant_arg \"match_pair_226_fst\" 226) (literal (bool False) 246) 246) False (literal (intOrNat 16) 246) 246) (set_type (variant_arg \"match_pair_222_fst\" 222) \"address\" 606) (set_type (variant_arg \"match_pair_225_fst\" 225) \"nat\" 607) (set_type (add (openVariant (isNat (first (variant_arg \"match_pair_226_snd\" 226) 227) 230) \"Some\" \"None\" 230) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 249 (second (variant_arg \"match_pair_226_snd\" 226) 228) (tuple 249 (variant_arg \"match_pair_225_fst\" 225) (tuple 249 (openVariant (isNat (first (variant_arg \"match_pair_226_snd\" 226) 227) 230) \"Some\" \"None\" 230) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 243 (attr (data) \"interestIndex\" 117) (tuple 243 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 241) 241) \"Some\" \"None\" 241) (literal (intOrNat 60) 242) 242))) 243)))) 249) 250) \"nat\" 608) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 243 (attr (data) \"interestIndex\" 117) (tuple 243 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 241) 241) \"Some\" \"None\" 241) (literal (intOrNat 60) 242) 242))) 243) \"nat\" 609) (set_type (variant_arg \"match_pair_226_fst\" 226) \"bool\" 610) (set_type (balance) \"mutez\" 611) (set (operations 622) (cons (transfer (tuple 622 (variant_arg \"match_pair_222_fst\" 222) (tuple 622 (variant_arg \"match_pair_225_fst\" 225) (tuple 622 (toInt (add (openVariant (isNat (first (variant_arg \"match_pair_226_snd\" 226) 227) 230) \"Some\" \"None\" 230) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 249 (second (variant_arg \"match_pair_226_snd\" 226) 228) (tuple 249 (variant_arg \"match_pair_225_fst\" 225) (tuple 249 (openVariant (isNat (first (variant_arg \"match_pair_226_snd\" 226) 227) 230) \"Some\" \"None\" 230) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 243 (attr (data) \"interestIndex\" 117) (tuple 243 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 241) 241) \"Some\" \"None\" 241) (literal (intOrNat 60) 242) 242))) 243)))) 249) 250) 614) (tuple 622 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 243 (attr (data) \"interestIndex\" 117) (tuple 243 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 241) 241) \"Some\" \"None\" 241) (literal (intOrNat 60) 242) 242))) 243) 614) (variant_arg \"match_pair_226_fst\" 226))))) (balance) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 89) 616) \"Some\" \"None\" 616) 622) (operations 622) 622) 622) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 243 (attr (data) \"interestIndex\" 117) (tuple 243 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 241) 241) \"Some\" \"None\" 241) (literal (intOrNat 60) 242) 242))) 243) 256) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 241) 241) \"Some\" \"None\" 241) (literal (intOrNat 60) 242) 242) (literal (intOrNat 60) 257) 257) 257) 257) 257))) (getInterestIndex True ((set_type (params 61) (contract \"nat\") 62) (verify (eq (amount) (literal (mutez 0) 65) 65) False (literal (intOrNat 15) 65) 65) (set (operations 73) (cons (transfer (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 70 (attr (data) \"interestIndex\" 117) (tuple 70 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 68) 68) \"Some\" \"None\" 68) (literal (intOrNat 60) 69) 69))) 70) (literal (mutez 0) 73) (params 61) 73) (operations 73) 73) 73) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 70 (attr (data) \"interestIndex\" 117) (tuple 70 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 68) 68) \"Some\" \"None\" 68) (literal (intOrNat 60) 69) 69))) 70) 76) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 68) 68) \"Some\" \"None\" 68) (literal (intOrNat 60) 69) 69) (literal (intOrNat 60) 77) 77) 77) 77) 77))) (liquidate True ((set_type (params 319) (tuple \"nat\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\")))))))) 320) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 89) 323) False (literal (intOrNat 2) 323) 323) (match_tuple 326 (params 319) \"match_pair_326_fst\" \"match_pair_326_snd\") (match_tuple 327 (variant_arg \"match_pair_326_snd\" 326) \"match_pair_327_fst\" \"match_pair_327_snd\") (match_tuple 328 (variant_arg \"match_pair_327_snd\" 327) \"match_pair_328_fst\" \"match_pair_328_snd\") (match_tuple 329 (variant_arg \"match_pair_328_snd\" 328) \"match_pair_329_fst\" \"match_pair_329_snd\") (match_tuple 330 (variant_arg \"match_pair_329_snd\" 329) \"match_pair_330_fst\" \"match_pair_330_snd\") (match_tuple 331 (variant_arg \"match_pair_330_snd\" 330) \"match_pair_331_fst\" \"match_pair_331_snd\") (match_tuple 332 (variant_arg \"match_pair_331_snd\" 331) \"match_pair_332_fst\" \"match_pair_332_snd\") (set_type (variant_arg \"match_pair_326_fst\" 326) \"nat\" 338) (set_type (variant_arg \"match_pair_327_fst\" 327) \"address\" 339) (set_type (variant_arg \"match_pair_328_fst\" 328) \"address\" 340) (set_type (variant_arg \"match_pair_329_fst\" 329) \"nat\" 341) (set_type (variant_arg \"match_pair_330_fst\" 330) \"nat\" 342) (set_type (variant_arg \"match_pair_331_fst\" 331) \"bool\" 343) (set_type (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) \"nat\" 344) (set_type (first (variant_arg \"match_pair_332_snd\" 332) 333) \"int\" 345) (set_type (second (variant_arg \"match_pair_332_snd\" 332) 334) \"address\" 346) (verify (eq (variant_arg \"match_pair_331_fst\" 331) (literal (bool False) 354) 354) False (literal (intOrNat 16) 354) 354) (verify (lt (call_lambda (global \"computeCollateralizationPercentage\" 1 192) (tuple 362 (variant_arg \"match_pair_329_fst\" 329) (tuple 362 (variant_arg \"match_pair_326_fst\" 326) (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361))) 362) (attr (data) \"collateralizationPercentage\" 135) 363) False (literal (intOrNat 10) 363) 363) (verify (or (or (eq (second (variant_arg \"match_pair_332_snd\" 332) 334) (attr (data) \"liquidityPoolContractAddress\" 370) 370) (eq (second (variant_arg \"match_pair_332_snd\" 332) 334) (attr (data) \"stabilityFundContractAddress\" 371) 371) 370) (lt (call_lambda (global \"computeCollateralizationPercentage\" 1 192) (tuple 362 (variant_arg \"match_pair_329_fst\" 329) (tuple 362 (variant_arg \"match_pair_326_fst\" 326) (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361))) 362) (openVariant (isNat (sub (attr (data) \"collateralizationPercentage\" 135) (attr (data) \"privateOwnerLiquidationThreshold\" 368) 368) 368) \"Some\" \"None\" 368) 372) 370) False (literal (intOrNat 26) 369) 369) (set_type (add (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 380) \"nat\" 540) (set_type (second (variant_arg \"match_pair_332_snd\" 332) 334) \"address\" 541) (set (operations 549) (cons (transfer (record 543 (address (second (variant_arg \"match_pair_332_snd\" 332) 334)) (value (add (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 380))) (literal (mutez 0) 549) (openVariant (contract \"burn\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 544) \"Some\" \"None\" 544) 549) (operations 549) 549) 549) (set_type (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) \"nat\" 529) (set_type (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532) \"nat\" 552) (set_type (attr (data) \"developerFundContractAddress\" 536) \"address\" 553) (set (operations 561) (cons (transfer (record 555 (address (attr (data) \"developerFundContractAddress\" 536)) (value (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532))) (literal (mutez 0) 561) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 556) \"Some\" \"None\" 556) 561) (operations 561) 561) 561) (set_type (openVariant (isNat (sub (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532) 533) 533) \"Some\" \"None\" 533) \"nat\" 552) (set_type (attr (data) \"stabilityFundContractAddress\" 371) \"address\" 553) (set (operations 561) (cons (transfer (record 555 (address (attr (data) \"stabilityFundContractAddress\" 371)) (value (openVariant (isNat (sub (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532) 533) 533) \"Some\" \"None\" 533))) (literal (mutez 0) 561) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 556) \"Some\" \"None\" 556) 561) (operations 561) 561) 561) (set (operations 386) (cons (transfer (unit) (split_tokens (literal (mutez 1) 386) (floordiv (variant_arg \"match_pair_329_fst\" 329) (literal (intOrNat 1000000000000) 386) 386) (literal (intOrNat 1) 386) 386) (openVariant (contract \"\" \"unit\" (second (variant_arg \"match_pair_332_snd\" 332) 334) 386) \"Some\" \"None\" 386) 386) (operations 386) 386) 386) (set_type (variant_arg \"match_pair_327_fst\" 327) \"address\" 606) (set_type (literal (nat 0) 389) \"nat\" 607) (set_type (literal (nat 0) 389) \"nat\" 608) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351) \"nat\" 609) (set_type (literal (bool True) 610) \"bool\" 610) (set_type (literal (mutez 0) 389) \"mutez\" 611) (set (operations 622) (cons (transfer (tuple 622 (variant_arg \"match_pair_327_fst\" 327) (tuple 622 (literal (nat 0) 389) (tuple 622 (toInt (literal (nat 0) 389) 614) (tuple 622 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351) 614) (literal (bool True) 622))))) (literal (mutez 0) 389) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 89) 616) \"Some\" \"None\" 616) 622) (operations 622) 622) 622) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351) 392) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350) (literal (intOrNat 60) 393) 393) 393) 393) 393))) (repay True ((set_type (params 149) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) 150) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 89) 153) False (literal (intOrNat 2) 153) 153) (match_tuple 156 (params 149) \"match_pair_156_fst\" \"match_pair_156_snd\") (match_tuple 157 (variant_arg \"match_pair_156_snd\" 156) \"match_pair_157_fst\" \"match_pair_157_snd\") (match_tuple 158 (variant_arg \"match_pair_157_snd\" 157) \"match_pair_158_fst\" \"match_pair_158_snd\") (match_tuple 159 (variant_arg \"match_pair_158_snd\" 158) \"match_pair_159_fst\" \"match_pair_159_snd\") (match_tuple 160 (variant_arg \"match_pair_159_snd\" 159) \"match_pair_160_fst\" \"match_pair_160_snd\") (match_tuple 161 (variant_arg \"match_pair_160_snd\" 160) \"match_pair_161_fst\" \"match_pair_161_snd\") (set_type (variant_arg \"match_pair_156_fst\" 156) \"address\" 167) (set_type (variant_arg \"match_pair_157_fst\" 157) \"address\" 168) (set_type (variant_arg \"match_pair_158_fst\" 158) \"nat\" 169) (set_type (variant_arg \"match_pair_159_fst\" 159) \"nat\" 170) (set_type (variant_arg \"match_pair_160_fst\" 160) \"bool\" 171) (set_type (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) \"nat\" 172) (set_type (first (variant_arg \"match_pair_161_snd\" 161) 162) \"int\" 173) (set_type (second (variant_arg \"match_pair_161_snd\" 161) 163) \"nat\" 174) (verify (eq (variant_arg \"match_pair_160_fst\" 160) (literal (bool False) 182) 182) False (literal (intOrNat 16) 182) 182) (defineLocal \"stabilityFeeTokensRepaid\" (literal (intOrNat 0) 190) 190) (defineLocal \"remainingStabilityFeeTokens\" (literal (intOrNat 0) 191) 191) (defineLocal \"remainingBorrowedTokenBalance\" (literal (intOrNat 0) 192) 192) (ifBlock (lt (second (variant_arg \"match_pair_161_snd\" 161) 163) (add (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 185 (first (variant_arg \"match_pair_161_snd\" 161) 162) (tuple 185 (variant_arg \"match_pair_159_fst\" 159) (tuple 185 (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179)))) 185) 186) 193) ((set (getLocal \"stabilityFeeTokensRepaid\" 192) (second (variant_arg \"match_pair_161_snd\" 161) 163) 194) (set (getLocal \"remainingStabilityFeeTokens\" 192) (openVariant (isNat (sub (add (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 185 (first (variant_arg \"match_pair_161_snd\" 161) 162) (tuple 185 (variant_arg \"match_pair_159_fst\" 159) (tuple 185 (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179)))) 185) 186) (second (variant_arg \"match_pair_161_snd\" 161) 163) 195) 195) \"Some\" \"None\" 195) 195) (set (getLocal \"remainingBorrowedTokenBalance\" 192) (variant_arg \"match_pair_159_fst\" 159) 196)) 193) (elseBlock ((set (getLocal \"stabilityFeeTokensRepaid\" 192) (add (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 185 (first (variant_arg \"match_pair_161_snd\" 161) 162) (tuple 185 (variant_arg \"match_pair_159_fst\" 159) (tuple 185 (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179)))) 185) 186) 198) (set (getLocal \"remainingStabilityFeeTokens\" 192) (literal (nat 0) 199) 199) (set (getLocal \"remainingBorrowedTokenBalance\" 192) (openVariant (isNat (sub (variant_arg \"match_pair_159_fst\" 159) (openVariant (isNat (sub (second (variant_arg \"match_pair_161_snd\" 161) 163) (add (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 185 (first (variant_arg \"match_pair_161_snd\" 161) 162) (tuple 185 (variant_arg \"match_pair_159_fst\" 159) (tuple 185 (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179)))) 185) 186) 200) 200) \"Some\" \"None\" 200) 200) 200) \"Some\" \"None\" 200) 200))) (set_type (getLocal \"stabilityFeeTokensRepaid\" 203) \"nat\" 529) (set_type (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 203) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532) \"nat\" 552) (set_type (attr (data) \"developerFundContractAddress\" 536) \"address\" 553) (set (operations 561) (cons (transfer (record 555 (address (attr (data) \"developerFundContractAddress\" 536)) (value (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 203) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532))) (literal (mutez 0) 561) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 556) \"Some\" \"None\" 556) 561) (operations 561) 561) 561) (set_type (openVariant (isNat (sub (getLocal \"stabilityFeeTokensRepaid\" 203) (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 203) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532) 533) 533) \"Some\" \"None\" 533) \"nat\" 552) (set_type (attr (data) \"stabilityFundContractAddress\" 371) \"address\" 553) (set (operations 561) (cons (transfer (record 555 (address (attr (data) \"stabilityFundContractAddress\" 371)) (value (openVariant (isNat (sub (getLocal \"stabilityFeeTokensRepaid\" 203) (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 203) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532) 533) 533) \"Some\" \"None\" 533))) (literal (mutez 0) 561) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 556) \"Some\" \"None\" 556) 561) (operations 561) 561) 561) (set_type (second (variant_arg \"match_pair_161_snd\" 161) 163) \"nat\" 540) (set_type (variant_arg \"match_pair_157_fst\" 157) \"address\" 541) (set (operations 549) (cons (transfer (record 543 (address (variant_arg \"match_pair_157_fst\" 157)) (value (second (variant_arg \"match_pair_161_snd\" 161) 163))) (literal (mutez 0) 549) (openVariant (contract \"burn\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 544) \"Some\" \"None\" 544) 549) (operations 549) 549) 549) (set_type (variant_arg \"match_pair_156_fst\" 156) \"address\" 606) (set_type (getLocal \"remainingBorrowedTokenBalance\" 207) \"nat\" 607) (set_type (getLocal \"remainingStabilityFeeTokens\" 207) \"nat\" 608) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179) \"nat\" 609) (set_type (variant_arg \"match_pair_160_fst\" 160) \"bool\" 610) (set_type (balance) \"mutez\" 611) (set (operations 622) (cons (transfer (tuple 622 (variant_arg \"match_pair_156_fst\" 156) (tuple 622 (getLocal \"remainingBorrowedTokenBalance\" 207) (tuple 622 (toInt (getLocal \"remainingStabilityFeeTokens\" 207) 614) (tuple 622 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179) 614) (variant_arg \"match_pair_160_fst\" 160))))) (balance) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 89) 616) \"Some\" \"None\" 616) 622) (operations 622) 622) 622) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179) 210) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178) (literal (intOrNat 60) 211) 211) 211) 211) 211))) (setCollateralizationPercentage True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 447) False (literal (intOrNat 4) 447) 447) (set (attr (data) \"collateralizationPercentage\" 135) (params 446) 448))) (setDeveloperFundContract True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 501) False (literal (intOrNat 4) 501) 501) (set (attr (data) \"developerFundContractAddress\" 536) (params 500) 502))) (setGovernorContract True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 481) False (literal (intOrNat 4) 481) 481) (set (attr (data) \"governorContractAddress\" 447) (params 480) 482))) (setLiquidationFeePercent True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 442) False (literal (intOrNat 4) 442) 442) (set (attr (data) \"liquidationFeePercent\" 377) (params 441) 443))) (setLiquidityPoolContract True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 471) False (literal (intOrNat 4) 471) 471) (set (attr (data) \"liquidityPoolContractAddress\" 370) (params 470) 472))) (setOvenProxyContract True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 491) False (literal (intOrNat 4) 491) 491) (set (attr (data) \"ovenProxyContractAddress\" 89) (params 490) 492))) (setPrivateLiquidationThreshold True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 476) False (literal (intOrNat 4) 476) 476) (set (attr (data) \"privateOwnerLiquidationThreshold\" 368) (params 475) 477))) (setStabilityFee True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 429) False (literal (intOrNat 4) 429) 429) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 434 (attr (data) \"interestIndex\" 117) (tuple 434 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 432) 432) \"Some\" \"None\" 432) (literal (intOrNat 60) 433) 433))) 434) 435) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 432) 432) \"Some\" \"None\" 432) (literal (intOrNat 60) 433) 433) (literal (intOrNat 60) 436) 436) 436) 436) 436) (set (attr (data) \"stabilityFee\" 117) (params 428) 438))) (setStabilityFundContract True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 496) False (literal (intOrNat 4) 496) 496) (set (attr (data) \"stabilityFundContractAddress\" 371) (params 495) 497))) (setTokenContract True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 486) False (literal (intOrNat 4) 486) 486) (set (attr (data) \"tokenContractAddress\" 558) (params 485) 487))) (updateContracts True ((set_type (params 453) (tuple \"address\" (tuple \"address\" (tuple \"address\" (tuple \"address\" \"address\")))) 454) (verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 456) False (literal (intOrNat 4) 456) 456) (match_tuple 458 (params 453) \"match_pair_458_fst\" \"match_pair_458_snd\") (match_tuple 459 (variant_arg \"match_pair_458_snd\" 458) \"match_pair_459_fst\" \"match_pair_459_snd\") (match_tuple 460 (variant_arg \"match_pair_459_snd\" 459) \"match_pair_460_fst\" \"match_pair_460_snd\") (match_tuple 461 (variant_arg \"match_pair_460_snd\" 460) \"match_pair_461_fst\" \"match_pair_461_snd\") (set (attr (data) \"governorContractAddress\" 447) (variant_arg \"match_pair_458_fst\" 458) 463) (set (attr (data) \"tokenContractAddress\" 558) (variant_arg \"match_pair_459_fst\" 459) 464) (set (attr (data) \"ovenProxyContractAddress\" 89) (variant_arg \"match_pair_460_fst\" 460) 465) (set (attr (data) \"stabilityFundContractAddress\" 371) (variant_arg \"match_pair_461_fst\" 461) 466) (set (attr (data) \"developerFundContractAddress\" 536) (variant_arg \"match_pair_461_snd\" 461) 467))) (updateFundSplits True ((set_type (params 506) (record ((developerFundSplit \"nat\") (stabilityFundSplit \"nat\")) (Some ((\"developerFundSplit\") (\"stabilityFundSplit\")))) 507) (verify (eq (add (attr (params 506) \"developerFundSplit\" 513) (attr (params 506) \"stabilityFundSplit\" 513) 513) (literal (nat 1000000000000000000) 4) 513) False (literal (intOrNat 25) 513) 513) (verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 516) False (literal (intOrNat 4) 516) 516) (set (attr (data) \"devFundSplit\" 532) (attr (params 506) \"developerFundSplit\" 513) 518))) (updateParams True ((set_type (params 406) (tuple \"nat\" (tuple \"nat\" (tuple \"nat\" (option \"mutez\")))) 407) (verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 409) False (literal (intOrNat 4) 409) 409) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 414 (attr (data) \"interestIndex\" 117) (tuple 414 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 412) 412) \"Some\" \"None\" 412) (literal (intOrNat 60) 413) 413))) 414) 415) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 412) 412) \"Some\" \"None\" 412) (literal (intOrNat 60) 413) 413) (literal (intOrNat 60) 416) 416) 416) 416) 416) (match_tuple 419 (params 406) \"match_pair_419_fst\" \"match_pair_419_snd\") (match_tuple 420 (variant_arg \"match_pair_419_snd\" 419) \"match_pair_420_fst\" \"match_pair_420_snd\") (set (attr (data) \"stabilityFee\" 117) (variant_arg \"match_pair_419_fst\" 419) 423) (set (attr (data) \"liquidationFeePercent\" 377) (variant_arg \"match_pair_420_fst\" 420) 424) (set (attr (data) \"collateralizationPercentage\" 135) (first (variant_arg \"match_pair_420_snd\" 420) 421) 425))) (withdraw True ((set_type (params 260) (tuple \"nat\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\")))))))) 261) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 89) 264) False (literal (intOrNat 2) 264) 264) (match_tuple 267 (params 260) \"match_pair_267_fst\" \"match_pair_267_snd\") (match_tuple 268 (variant_arg \"match_pair_267_snd\" 267) \"match_pair_268_fst\" \"match_pair_268_snd\") (match_tuple 269 (variant_arg \"match_pair_268_snd\" 268) \"match_pair_269_fst\" \"match_pair_269_snd\") (match_tuple 270 (variant_arg \"match_pair_269_snd\" 269) \"match_pair_270_fst\" \"match_pair_270_snd\") (match_tuple 271 (variant_arg \"match_pair_270_snd\" 270) \"match_pair_271_fst\" \"match_pair_271_snd\") (match_tuple 272 (variant_arg \"match_pair_271_snd\" 271) \"match_pair_272_fst\" \"match_pair_272_snd\") (match_tuple 273 (variant_arg \"match_pair_272_snd\" 272) \"match_pair_273_fst\" \"match_pair_273_snd\") (set_type (variant_arg \"match_pair_267_fst\" 267) \"nat\" 279) (set_type (variant_arg \"match_pair_268_fst\" 268) \"address\" 280) (set_type (variant_arg \"match_pair_269_fst\" 269) \"address\" 281) (set_type (variant_arg \"match_pair_270_fst\" 270) \"nat\" 282) (set_type (variant_arg \"match_pair_271_fst\" 271) \"nat\" 283) (set_type (variant_arg \"match_pair_272_fst\" 272) \"bool\" 284) (set_type (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) \"nat\" 285) (set_type (first (variant_arg \"match_pair_273_snd\" 273) 274) \"int\" 286) (set_type (second (variant_arg \"match_pair_273_snd\" 273) 275) \"mutez\" 287) (ifBlock (gt (add (variant_arg \"match_pair_271_fst\" 271) (add (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 295 (first (variant_arg \"match_pair_273_snd\" 273) 274) (tuple 295 (variant_arg \"match_pair_271_fst\" 271) (tuple 295 (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292)))) 295) 296) 299) (literal (intOrNat 0) 300) 300) ((verify (ge (call_lambda (global \"computeCollateralizationPercentage\" 1 192) (tuple 303 (openVariant (isNat (sub (variant_arg \"match_pair_270_fst\" 270) (mul (first (openVariant (ediv (second (variant_arg \"match_pair_273_snd\" 273) 275) (literal (mutez 1) 301) 301) \"Some\" \"None\" 301) 301) (literal (intOrNat 1000000000000) 301) 301) 302) 302) \"Some\" \"None\" 302) (tuple 303 (variant_arg \"match_pair_267_fst\" 267) (add (variant_arg \"match_pair_271_fst\" 271) (add (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 295 (first (variant_arg \"match_pair_273_snd\" 273) 274) (tuple 295 (variant_arg \"match_pair_271_fst\" 271) (tuple 295 (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292)))) 295) 296) 299))) 303) (attr (data) \"collateralizationPercentage\" 135) 304) False (literal (intOrNat 11) 304) 304)) 300) (set (operations 307) (cons (transfer (unit) (second (variant_arg \"match_pair_273_snd\" 273) 275) (openVariant (contract \"\" \"unit\" (variant_arg \"match_pair_269_fst\" 269) 307) \"Some\" \"None\" 307) 307) (operations 307) 307) 307) (set_type (variant_arg \"match_pair_268_fst\" 268) \"address\" 606) (set_type (variant_arg \"match_pair_271_fst\" 271) \"nat\" 607) (set_type (add (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 295 (first (variant_arg \"match_pair_273_snd\" 273) 274) (tuple 295 (variant_arg \"match_pair_271_fst\" 271) (tuple 295 (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292)))) 295) 296) \"nat\" 608) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292) \"nat\" 609) (set_type (variant_arg \"match_pair_272_fst\" 272) \"bool\" 610) (set_type (sub (split_tokens (literal (mutez 1) 310) (floordiv (variant_arg \"match_pair_270_fst\" 270) (literal (intOrNat 1000000000000) 310) 310) (literal (intOrNat 1) 310) 310) (second (variant_arg \"match_pair_273_snd\" 273) 275) 310) \"mutez\" 611) (set (operations 622) (cons (transfer (tuple 622 (variant_arg \"match_pair_268_fst\" 268) (tuple 622 (variant_arg \"match_pair_271_fst\" 271) (tuple 622 (toInt (add (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"calculateNewAccruedInterest\" 1 192) (tuple 295 (first (variant_arg \"match_pair_273_snd\" 273) 274) (tuple 295 (variant_arg \"match_pair_271_fst\" 271) (tuple 295 (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292)))) 295) 296) 614) (tuple 622 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292) 614) (variant_arg \"match_pair_272_fst\" 272))))) (sub (split_tokens (literal (mutez 1) 310) (floordiv (variant_arg \"match_pair_270_fst\" 270) (literal (intOrNat 1000000000000) 310) 310) (literal (intOrNat 1) 310) 310) (second (variant_arg \"match_pair_273_snd\" 273) 275) 310) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 89) 616) \"Some\" \"None\" 616) 622) (operations 622) 622) 622) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 192) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292) 314) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291) (literal (intOrNat 60) 315) 315) 315) 315) 315))))\nflags (Exception_DefaultUnit no_comment)\nglobals ((calculateNewAccruedInterest (lambda 0 \"\" 192 ((set_type (lambdaParams 0 \"\" 192 (unknown 1)) (tuple \"int\" (tuple \"nat\" (tuple \"nat\" \"nat\"))) 566) (result (openVariant (isNat (sub (first (openVariant (ediv (mul (first (openVariant (ediv (mul (second (second (second (lambdaParams 0 \"\" 192 (unknown 1)) 571) 571) 571) (literal (nat 1000000000000000000) 4) 573) (openVariant (isNat (first (lambdaParams 0 \"\" 192 (unknown 1)) 568) 568) \"Some\" \"None\" 568) 573) \"Some\" \"None\" 573) 573) (add (first (second (lambdaParams 0 \"\" 192 (unknown 1)) 569) 569) (first (second (second (lambdaParams 0 \"\" 192 (unknown 1)) 570) 570) 570) 574) 575) (literal (nat 1000000000000000000) 4) 575) \"Some\" \"None\" 575) 575) (add (first (second (lambdaParams 0 \"\" 192 (unknown 1)) 569) 569) (first (second (second (lambdaParams 0 \"\" 192 (unknown 1)) 570) 570) 570) 574) 576) 576) \"Some\" \"None\" 576) 577)))) (compoundWithLinearApproximation (lambda 1 \"\" 192 ((set_type (lambdaParams 1 \"\" 192 (unknown 2)) (tuple \"nat\" (tuple \"nat\" \"nat\")) 582) (result (floordiv (mul (first (lambdaParams 1 \"\" 192 (unknown 2)) 584) (add (literal (nat 1000000000000000000) 4) (mul (second (second (lambdaParams 1 \"\" 192 (unknown 2)) 586) 586) (first (second (lambdaParams 1 \"\" 192 (unknown 2)) 585) 585) 588) 588) 588) (literal (nat 1000000000000000000) 4) 588) 588)))) (computeCollateralizationPercentage (lambda 2 \"\" 192 ((set_type (lambdaParams 2 \"\" 192 (unknown 3)) (tuple \"nat\" (tuple \"nat\" \"nat\")) 594) (result (mul (floordiv (mul (floordiv (mul (first (lambdaParams 2 \"\" 192 (unknown 3)) 596) (first (second (lambdaParams 2 \"\" 192 (unknown 3)) 597) 597) 601) (literal (nat 1000000000000000000) 4) 601) (literal (nat 1000000000000000000) 4) 602) (second (second (lambdaParams 2 \"\" 192 (unknown 3)) 598) 598) 602) (literal (intOrNat 100) 603) 603) 603)))))\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 192, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 3, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (local-address 1) 192)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (local-address 0) 18)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 201, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setOvenFactoryContract", "params": "(literal (local-address 3) 33)", "line_no": 204, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 18)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 204)", "show": true, "valid": "(literal (bool True) 204)", "voting_powers": "(map 204 )"}, {"action": "message", "id": 3, "message": "makeOven", "params": "(unit)", "line_no": 212, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)", "chain_id": "", "time": "(literal (timestamp 1633567867) 213)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 212)", "show": true, "valid": "(literal (bool True) 212)", "voting_powers": "(map 212 )"}]}, {"shortname": "makeOven_-_fails_in_bad_state", "longname": "makeOven - fails in bad state", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 18 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (ovenFactoryContractAddress (literal (address \"tz1irJKkXS2DBWkU1NnmFQx1c1L7pbGg4yhk\") 15)) (ovenMap (type_annotation (big_map 21 ) (bigmap \"address\" \"address\") 21)))\nstorage_type (())\nmessages ((addOven True ((set_type (params 51) (tuple \"address\" \"address\") 52) (verify (eq (sender) (attr (data) \"ovenFactoryContractAddress\" 54) 54) False (literal (intOrNat 7) 54) 54) (set (getItem (attr (data) \"ovenMap\" 59) (first (params 51) 56) 59) (second (params 51) 57) 59))) (default True ((set_type (params 41) \"unit\" 42) (failwith (literal (intOrNat 19) 43) 43))) (isOven True ((verify (contains (attr (data) \"ovenMap\" 59) (params 33) 34) False (literal (intOrNat 1) 34) 34) (verify (eq (amount) (literal (mutez 0) 37) 37) False (literal (intOrNat 15) 37) 37))) (setGovernorContract True ((set_type (params 67) \"address\" 68) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 70) False (literal (intOrNat 4) 70) 70) (set (attr (data) \"governorContractAddress\" 70) (params 67) 71))) (setOvenFactoryContract True ((set_type (params 75) \"address\" 76) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 78) False (literal (intOrNat 4) 78) 78) (set (attr (data) \"ovenFactoryContractAddress\" 54) (params 75) 79))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 226, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 1, "export": "(storage (record 34 (collateralizationPercentage (literal (nat 200000000000000000000) 21)) (devFundSplit (literal (nat 100000000000000000) 28)) (developerFundContractAddress (literal (address \"tz1R6Ej25VSerE3MkSoEEeBjKHCDTFbpKuSX\") 45)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (interestIndex (literal (intOrNat 1000000000000000000) 34)) (lastInterestIndexUpdateTime (literal (timestamp 1601871456) 24)) (liquidationFeePercent (literal (nat 80000000000000000) 29)) (liquidityPoolContractAddress (literal (address \"tz3QSGPoRp3Kn7n3vY24eYeu3Peuqo45LQ4D\") 57)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (privateOwnerLiquidationThreshold (literal (nat 20000000000000000000) 22)) (stabilityFee (literal (nat 0) 23)) (stabilityFundContractAddress (literal (address \"tz1W5VkdB5s7ENMESVBtwyt9kyvLqPcUczRT\") 42)) (tokenContractAddress (literal (address \"tz1cYufsxHXJcvANhvS55h3aY32a9BAFB494\") 27)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 85) (tuple \"nat\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\")))))))) 86) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 89) 89) False (literal (intOrNat 2) 89) 89) (match_tuple 92 (params 85) \"match_pair_92_fst\" \"match_pair_92_snd\") (match_tuple 93 (variant_arg \"match_pair_92_snd\" 92) \"match_pair_93_fst\" \"match_pair_93_snd\") (match_tuple 94 (variant_arg \"match_pair_93_snd\" 93) \"match_pair_94_fst\" \"match_pair_94_snd\") (match_tuple 95 (variant_arg \"match_pair_94_snd\" 94) \"match_pair_95_fst\" \"match_pair_95_snd\") (match_tuple 96 (variant_arg \"match_pair_95_snd\" 95) \"match_pair_96_fst\" \"match_pair_96_snd\") (match_tuple 97 (variant_arg \"match_pair_96_snd\" 96) \"match_pair_97_fst\" \"match_pair_97_snd\") (match_tuple 98 (variant_arg \"match_pair_97_snd\" 97) \"match_pair_98_fst\" \"match_pair_98_snd\") (set_type (variant_arg \"match_pair_92_fst\" 92) \"nat\" 104) (set_type (variant_arg \"match_pair_93_fst\" 93) \"address\" 105) (set_type (variant_arg \"match_pair_94_fst\" 94) \"address\" 106) (set_type (variant_arg \"match_pair_95_fst\" 95) \"nat\" 107) (set_type (variant_arg \"match_pair_96_fst\" 96) \"nat\" 108) (set_type (variant_arg \"match_pair_97_fst\" 97) \"bool\" 109) (set_type (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) \"nat\" 110) (set_type (first (variant_arg \"match_pair_98_snd\" 98) 99) \"int\" 111) (set_type (second (variant_arg \"match_pair_98_snd\" 98) 100) \"nat\" 112) (verify (eq (variant_arg \"match_pair_97_fst\" 97) (literal (bool False) 120) 120) False (literal (intOrNat 16) 120) 120) (set_type (add (variant_arg \"match_pair_96_fst\" 96) (second (variant_arg \"match_pair_98_snd\" 98) 100) 127) \"nat\" 128) (set_type (add (add (variant_arg \"match_pair_96_fst\" 96) (second (variant_arg \"match_pair_98_snd\" 98) 100) 127) (add (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 123 (first (variant_arg \"match_pair_98_snd\" 98) 99) (tuple 123 (variant_arg \"match_pair_96_fst\" 96) (tuple 123 (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117)))) 123) 124) 131) \"nat\" 132) (ifBlock (gt (add (add (variant_arg \"match_pair_96_fst\" 96) (second (variant_arg \"match_pair_98_snd\" 98) 100) 127) (add (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 123 (first (variant_arg \"match_pair_98_snd\" 98) 99) (tuple 123 (variant_arg \"match_pair_96_fst\" 96) (tuple 123 (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117)))) 123) 124) 131) (literal (intOrNat 0) 133) 133) ((verify (ge (call_lambda (global \"computeCollateralizationPercentage\" 1 232) (tuple 134 (variant_arg \"match_pair_95_fst\" 95) (tuple 134 (variant_arg \"match_pair_92_fst\" 92) (add (add (variant_arg \"match_pair_96_fst\" 96) (second (variant_arg \"match_pair_98_snd\" 98) 100) 127) (add (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 123 (first (variant_arg \"match_pair_98_snd\" 98) 99) (tuple 123 (variant_arg \"match_pair_96_fst\" 96) (tuple 123 (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117)))) 123) 124) 131))) 134) (attr (data) \"collateralizationPercentage\" 135) 135) False (literal (intOrNat 11) 135) 135)) 133) (set_type (second (variant_arg \"match_pair_98_snd\" 98) 100) \"nat\" 552) (set_type (variant_arg \"match_pair_94_fst\" 94) \"address\" 553) (set (operations 561) (cons (transfer (record 555 (address (variant_arg \"match_pair_94_fst\" 94)) (value (second (variant_arg \"match_pair_98_snd\" 98) 100))) (literal (mutez 0) 561) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 556) \"Some\" \"None\" 556) 561) (operations 561) 561) 561) (set_type (variant_arg \"match_pair_93_fst\" 93) \"address\" 606) (set_type (add (variant_arg \"match_pair_96_fst\" 96) (second (variant_arg \"match_pair_98_snd\" 98) 100) 127) \"nat\" 607) (set_type (add (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 123 (first (variant_arg \"match_pair_98_snd\" 98) 99) (tuple 123 (variant_arg \"match_pair_96_fst\" 96) (tuple 123 (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117)))) 123) 124) \"nat\" 608) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117) \"nat\" 609) (set_type (variant_arg \"match_pair_97_fst\" 97) \"bool\" 610) (set_type (balance) \"mutez\" 611) (set (operations 622) (cons (transfer (tuple 622 (variant_arg \"match_pair_93_fst\" 93) (tuple 622 (add (variant_arg \"match_pair_96_fst\" 96) (second (variant_arg \"match_pair_98_snd\" 98) 100) 127) (tuple 622 (toInt (add (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 123 (first (variant_arg \"match_pair_98_snd\" 98) 99) (tuple 123 (variant_arg \"match_pair_96_fst\" 96) (tuple 123 (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117)))) 123) 124) 614) (tuple 622 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117) 614) (variant_arg \"match_pair_97_fst\" 97))))) (balance) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 89) 616) \"Some\" \"None\" 616) 622) (operations 622) 622) 622) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117) 144) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116) (literal (intOrNat 60) 145) 145) 145) 145) 145))) (deposit True ((set_type (params 215) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) 216) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 89) 219) False (literal (intOrNat 2) 219) 219) (match_tuple 222 (params 215) \"match_pair_222_fst\" \"match_pair_222_snd\") (match_tuple 223 (variant_arg \"match_pair_222_snd\" 222) \"match_pair_223_fst\" \"match_pair_223_snd\") (match_tuple 224 (variant_arg \"match_pair_223_snd\" 223) \"match_pair_224_fst\" \"match_pair_224_snd\") (match_tuple 225 (variant_arg \"match_pair_224_snd\" 224) \"match_pair_225_fst\" \"match_pair_225_snd\") (match_tuple 226 (variant_arg \"match_pair_225_snd\" 225) \"match_pair_226_fst\" \"match_pair_226_snd\") (set_type (variant_arg \"match_pair_222_fst\" 222) \"address\" 232) (set_type (variant_arg \"match_pair_223_fst\" 223) \"address\" 233) (set_type (variant_arg \"match_pair_224_fst\" 224) \"nat\" 234) (set_type (variant_arg \"match_pair_225_fst\" 225) \"nat\" 235) (set_type (variant_arg \"match_pair_226_fst\" 226) \"bool\" 236) (set_type (openVariant (isNat (first (variant_arg \"match_pair_226_snd\" 226) 227) 230) \"Some\" \"None\" 230) \"nat\" 237) (set_type (second (variant_arg \"match_pair_226_snd\" 226) 228) \"int\" 238) (verify (eq (variant_arg \"match_pair_226_fst\" 226) (literal (bool False) 246) 246) False (literal (intOrNat 16) 246) 246) (set_type (variant_arg \"match_pair_222_fst\" 222) \"address\" 606) (set_type (variant_arg \"match_pair_225_fst\" 225) \"nat\" 607) (set_type (add (openVariant (isNat (first (variant_arg \"match_pair_226_snd\" 226) 227) 230) \"Some\" \"None\" 230) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 249 (second (variant_arg \"match_pair_226_snd\" 226) 228) (tuple 249 (variant_arg \"match_pair_225_fst\" 225) (tuple 249 (openVariant (isNat (first (variant_arg \"match_pair_226_snd\" 226) 227) 230) \"Some\" \"None\" 230) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 243 (attr (data) \"interestIndex\" 117) (tuple 243 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 241) 241) \"Some\" \"None\" 241) (literal (intOrNat 60) 242) 242))) 243)))) 249) 250) \"nat\" 608) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 243 (attr (data) \"interestIndex\" 117) (tuple 243 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 241) 241) \"Some\" \"None\" 241) (literal (intOrNat 60) 242) 242))) 243) \"nat\" 609) (set_type (variant_arg \"match_pair_226_fst\" 226) \"bool\" 610) (set_type (balance) \"mutez\" 611) (set (operations 622) (cons (transfer (tuple 622 (variant_arg \"match_pair_222_fst\" 222) (tuple 622 (variant_arg \"match_pair_225_fst\" 225) (tuple 622 (toInt (add (openVariant (isNat (first (variant_arg \"match_pair_226_snd\" 226) 227) 230) \"Some\" \"None\" 230) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 249 (second (variant_arg \"match_pair_226_snd\" 226) 228) (tuple 249 (variant_arg \"match_pair_225_fst\" 225) (tuple 249 (openVariant (isNat (first (variant_arg \"match_pair_226_snd\" 226) 227) 230) \"Some\" \"None\" 230) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 243 (attr (data) \"interestIndex\" 117) (tuple 243 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 241) 241) \"Some\" \"None\" 241) (literal (intOrNat 60) 242) 242))) 243)))) 249) 250) 614) (tuple 622 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 243 (attr (data) \"interestIndex\" 117) (tuple 243 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 241) 241) \"Some\" \"None\" 241) (literal (intOrNat 60) 242) 242))) 243) 614) (variant_arg \"match_pair_226_fst\" 226))))) (balance) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 89) 616) \"Some\" \"None\" 616) 622) (operations 622) 622) 622) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 243 (attr (data) \"interestIndex\" 117) (tuple 243 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 241) 241) \"Some\" \"None\" 241) (literal (intOrNat 60) 242) 242))) 243) 256) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 241) 241) \"Some\" \"None\" 241) (literal (intOrNat 60) 242) 242) (literal (intOrNat 60) 257) 257) 257) 257) 257))) (getInterestIndex True ((set_type (params 61) (contract \"nat\") 62) (verify (eq (amount) (literal (mutez 0) 65) 65) False (literal (intOrNat 15) 65) 65) (set (operations 73) (cons (transfer (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 70 (attr (data) \"interestIndex\" 117) (tuple 70 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 68) 68) \"Some\" \"None\" 68) (literal (intOrNat 60) 69) 69))) 70) (literal (mutez 0) 73) (params 61) 73) (operations 73) 73) 73) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 70 (attr (data) \"interestIndex\" 117) (tuple 70 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 68) 68) \"Some\" \"None\" 68) (literal (intOrNat 60) 69) 69))) 70) 76) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 68) 68) \"Some\" \"None\" 68) (literal (intOrNat 60) 69) 69) (literal (intOrNat 60) 77) 77) 77) 77) 77))) (liquidate True ((set_type (params 319) (tuple \"nat\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\")))))))) 320) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 89) 323) False (literal (intOrNat 2) 323) 323) (match_tuple 326 (params 319) \"match_pair_326_fst\" \"match_pair_326_snd\") (match_tuple 327 (variant_arg \"match_pair_326_snd\" 326) \"match_pair_327_fst\" \"match_pair_327_snd\") (match_tuple 328 (variant_arg \"match_pair_327_snd\" 327) \"match_pair_328_fst\" \"match_pair_328_snd\") (match_tuple 329 (variant_arg \"match_pair_328_snd\" 328) \"match_pair_329_fst\" \"match_pair_329_snd\") (match_tuple 330 (variant_arg \"match_pair_329_snd\" 329) \"match_pair_330_fst\" \"match_pair_330_snd\") (match_tuple 331 (variant_arg \"match_pair_330_snd\" 330) \"match_pair_331_fst\" \"match_pair_331_snd\") (match_tuple 332 (variant_arg \"match_pair_331_snd\" 331) \"match_pair_332_fst\" \"match_pair_332_snd\") (set_type (variant_arg \"match_pair_326_fst\" 326) \"nat\" 338) (set_type (variant_arg \"match_pair_327_fst\" 327) \"address\" 339) (set_type (variant_arg \"match_pair_328_fst\" 328) \"address\" 340) (set_type (variant_arg \"match_pair_329_fst\" 329) \"nat\" 341) (set_type (variant_arg \"match_pair_330_fst\" 330) \"nat\" 342) (set_type (variant_arg \"match_pair_331_fst\" 331) \"bool\" 343) (set_type (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) \"nat\" 344) (set_type (first (variant_arg \"match_pair_332_snd\" 332) 333) \"int\" 345) (set_type (second (variant_arg \"match_pair_332_snd\" 332) 334) \"address\" 346) (verify (eq (variant_arg \"match_pair_331_fst\" 331) (literal (bool False) 354) 354) False (literal (intOrNat 16) 354) 354) (verify (lt (call_lambda (global \"computeCollateralizationPercentage\" 1 232) (tuple 362 (variant_arg \"match_pair_329_fst\" 329) (tuple 362 (variant_arg \"match_pair_326_fst\" 326) (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361))) 362) (attr (data) \"collateralizationPercentage\" 135) 363) False (literal (intOrNat 10) 363) 363) (verify (or (or (eq (second (variant_arg \"match_pair_332_snd\" 332) 334) (attr (data) \"liquidityPoolContractAddress\" 370) 370) (eq (second (variant_arg \"match_pair_332_snd\" 332) 334) (attr (data) \"stabilityFundContractAddress\" 371) 371) 370) (lt (call_lambda (global \"computeCollateralizationPercentage\" 1 232) (tuple 362 (variant_arg \"match_pair_329_fst\" 329) (tuple 362 (variant_arg \"match_pair_326_fst\" 326) (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361))) 362) (openVariant (isNat (sub (attr (data) \"collateralizationPercentage\" 135) (attr (data) \"privateOwnerLiquidationThreshold\" 368) 368) 368) \"Some\" \"None\" 368) 372) 370) False (literal (intOrNat 26) 369) 369) (set_type (add (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 380) \"nat\" 540) (set_type (second (variant_arg \"match_pair_332_snd\" 332) 334) \"address\" 541) (set (operations 549) (cons (transfer (record 543 (address (second (variant_arg \"match_pair_332_snd\" 332) 334)) (value (add (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 380))) (literal (mutez 0) 549) (openVariant (contract \"burn\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 544) \"Some\" \"None\" 544) 549) (operations 549) 549) 549) (set_type (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) \"nat\" 529) (set_type (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532) \"nat\" 552) (set_type (attr (data) \"developerFundContractAddress\" 536) \"address\" 553) (set (operations 561) (cons (transfer (record 555 (address (attr (data) \"developerFundContractAddress\" 536)) (value (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532))) (literal (mutez 0) 561) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 556) \"Some\" \"None\" 556) 561) (operations 561) 561) 561) (set_type (openVariant (isNat (sub (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532) 533) 533) \"Some\" \"None\" 533) \"nat\" 552) (set_type (attr (data) \"stabilityFundContractAddress\" 371) \"address\" 553) (set (operations 561) (cons (transfer (record 555 (address (attr (data) \"stabilityFundContractAddress\" 371)) (value (openVariant (isNat (sub (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532) 533) 533) \"Some\" \"None\" 533))) (literal (mutez 0) 561) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 556) \"Some\" \"None\" 556) 561) (operations 561) 561) 561) (set (operations 386) (cons (transfer (unit) (split_tokens (literal (mutez 1) 386) (floordiv (variant_arg \"match_pair_329_fst\" 329) (literal (intOrNat 1000000000000) 386) 386) (literal (intOrNat 1) 386) 386) (openVariant (contract \"\" \"unit\" (second (variant_arg \"match_pair_332_snd\" 332) 334) 386) \"Some\" \"None\" 386) 386) (operations 386) 386) 386) (set_type (variant_arg \"match_pair_327_fst\" 327) \"address\" 606) (set_type (literal (nat 0) 389) \"nat\" 607) (set_type (literal (nat 0) 389) \"nat\" 608) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351) \"nat\" 609) (set_type (literal (bool True) 610) \"bool\" 610) (set_type (literal (mutez 0) 389) \"mutez\" 611) (set (operations 622) (cons (transfer (tuple 622 (variant_arg \"match_pair_327_fst\" 327) (tuple 622 (literal (nat 0) 389) (tuple 622 (toInt (literal (nat 0) 389) 614) (tuple 622 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351) 614) (literal (bool True) 622))))) (literal (mutez 0) 389) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 89) 616) \"Some\" \"None\" 616) 622) (operations 622) 622) 622) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351) 392) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350) (literal (intOrNat 60) 393) 393) 393) 393) 393))) (repay True ((set_type (params 149) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) 150) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 89) 153) False (literal (intOrNat 2) 153) 153) (match_tuple 156 (params 149) \"match_pair_156_fst\" \"match_pair_156_snd\") (match_tuple 157 (variant_arg \"match_pair_156_snd\" 156) \"match_pair_157_fst\" \"match_pair_157_snd\") (match_tuple 158 (variant_arg \"match_pair_157_snd\" 157) \"match_pair_158_fst\" \"match_pair_158_snd\") (match_tuple 159 (variant_arg \"match_pair_158_snd\" 158) \"match_pair_159_fst\" \"match_pair_159_snd\") (match_tuple 160 (variant_arg \"match_pair_159_snd\" 159) \"match_pair_160_fst\" \"match_pair_160_snd\") (match_tuple 161 (variant_arg \"match_pair_160_snd\" 160) \"match_pair_161_fst\" \"match_pair_161_snd\") (set_type (variant_arg \"match_pair_156_fst\" 156) \"address\" 167) (set_type (variant_arg \"match_pair_157_fst\" 157) \"address\" 168) (set_type (variant_arg \"match_pair_158_fst\" 158) \"nat\" 169) (set_type (variant_arg \"match_pair_159_fst\" 159) \"nat\" 170) (set_type (variant_arg \"match_pair_160_fst\" 160) \"bool\" 171) (set_type (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) \"nat\" 172) (set_type (first (variant_arg \"match_pair_161_snd\" 161) 162) \"int\" 173) (set_type (second (variant_arg \"match_pair_161_snd\" 161) 163) \"nat\" 174) (verify (eq (variant_arg \"match_pair_160_fst\" 160) (literal (bool False) 182) 182) False (literal (intOrNat 16) 182) 182) (defineLocal \"stabilityFeeTokensRepaid\" (literal (intOrNat 0) 190) 190) (defineLocal \"remainingStabilityFeeTokens\" (literal (intOrNat 0) 191) 191) (defineLocal \"remainingBorrowedTokenBalance\" (literal (intOrNat 0) 192) 192) (ifBlock (lt (second (variant_arg \"match_pair_161_snd\" 161) 163) (add (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 185 (first (variant_arg \"match_pair_161_snd\" 161) 162) (tuple 185 (variant_arg \"match_pair_159_fst\" 159) (tuple 185 (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179)))) 185) 186) 193) ((set (getLocal \"stabilityFeeTokensRepaid\" 232) (second (variant_arg \"match_pair_161_snd\" 161) 163) 194) (set (getLocal \"remainingStabilityFeeTokens\" 232) (openVariant (isNat (sub (add (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 185 (first (variant_arg \"match_pair_161_snd\" 161) 162) (tuple 185 (variant_arg \"match_pair_159_fst\" 159) (tuple 185 (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179)))) 185) 186) (second (variant_arg \"match_pair_161_snd\" 161) 163) 195) 195) \"Some\" \"None\" 195) 195) (set (getLocal \"remainingBorrowedTokenBalance\" 232) (variant_arg \"match_pair_159_fst\" 159) 196)) 193) (elseBlock ((set (getLocal \"stabilityFeeTokensRepaid\" 232) (add (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 185 (first (variant_arg \"match_pair_161_snd\" 161) 162) (tuple 185 (variant_arg \"match_pair_159_fst\" 159) (tuple 185 (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179)))) 185) 186) 198) (set (getLocal \"remainingStabilityFeeTokens\" 232) (literal (nat 0) 199) 199) (set (getLocal \"remainingBorrowedTokenBalance\" 232) (openVariant (isNat (sub (variant_arg \"match_pair_159_fst\" 159) (openVariant (isNat (sub (second (variant_arg \"match_pair_161_snd\" 161) 163) (add (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 185 (first (variant_arg \"match_pair_161_snd\" 161) 162) (tuple 185 (variant_arg \"match_pair_159_fst\" 159) (tuple 185 (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179)))) 185) 186) 200) 200) \"Some\" \"None\" 200) 200) 200) \"Some\" \"None\" 200) 200))) (set_type (getLocal \"stabilityFeeTokensRepaid\" 203) \"nat\" 529) (set_type (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 203) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532) \"nat\" 552) (set_type (attr (data) \"developerFundContractAddress\" 536) \"address\" 553) (set (operations 561) (cons (transfer (record 555 (address (attr (data) \"developerFundContractAddress\" 536)) (value (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 203) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532))) (literal (mutez 0) 561) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 556) \"Some\" \"None\" 556) 561) (operations 561) 561) 561) (set_type (openVariant (isNat (sub (getLocal \"stabilityFeeTokensRepaid\" 203) (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 203) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532) 533) 533) \"Some\" \"None\" 533) \"nat\" 552) (set_type (attr (data) \"stabilityFundContractAddress\" 371) \"address\" 553) (set (operations 561) (cons (transfer (record 555 (address (attr (data) \"stabilityFundContractAddress\" 371)) (value (openVariant (isNat (sub (getLocal \"stabilityFeeTokensRepaid\" 203) (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 203) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532) 533) 533) \"Some\" \"None\" 533))) (literal (mutez 0) 561) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 556) \"Some\" \"None\" 556) 561) (operations 561) 561) 561) (set_type (second (variant_arg \"match_pair_161_snd\" 161) 163) \"nat\" 540) (set_type (variant_arg \"match_pair_157_fst\" 157) \"address\" 541) (set (operations 549) (cons (transfer (record 543 (address (variant_arg \"match_pair_157_fst\" 157)) (value (second (variant_arg \"match_pair_161_snd\" 161) 163))) (literal (mutez 0) 549) (openVariant (contract \"burn\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 544) \"Some\" \"None\" 544) 549) (operations 549) 549) 549) (set_type (variant_arg \"match_pair_156_fst\" 156) \"address\" 606) (set_type (getLocal \"remainingBorrowedTokenBalance\" 207) \"nat\" 607) (set_type (getLocal \"remainingStabilityFeeTokens\" 207) \"nat\" 608) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179) \"nat\" 609) (set_type (variant_arg \"match_pair_160_fst\" 160) \"bool\" 610) (set_type (balance) \"mutez\" 611) (set (operations 622) (cons (transfer (tuple 622 (variant_arg \"match_pair_156_fst\" 156) (tuple 622 (getLocal \"remainingBorrowedTokenBalance\" 207) (tuple 622 (toInt (getLocal \"remainingStabilityFeeTokens\" 207) 614) (tuple 622 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179) 614) (variant_arg \"match_pair_160_fst\" 160))))) (balance) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 89) 616) \"Some\" \"None\" 616) 622) (operations 622) 622) 622) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179) 210) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178) (literal (intOrNat 60) 211) 211) 211) 211) 211))) (setCollateralizationPercentage True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 447) False (literal (intOrNat 4) 447) 447) (set (attr (data) \"collateralizationPercentage\" 135) (params 446) 448))) (setDeveloperFundContract True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 501) False (literal (intOrNat 4) 501) 501) (set (attr (data) \"developerFundContractAddress\" 536) (params 500) 502))) (setGovernorContract True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 481) False (literal (intOrNat 4) 481) 481) (set (attr (data) \"governorContractAddress\" 447) (params 480) 482))) (setLiquidationFeePercent True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 442) False (literal (intOrNat 4) 442) 442) (set (attr (data) \"liquidationFeePercent\" 377) (params 441) 443))) (setLiquidityPoolContract True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 471) False (literal (intOrNat 4) 471) 471) (set (attr (data) \"liquidityPoolContractAddress\" 370) (params 470) 472))) (setOvenProxyContract True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 491) False (literal (intOrNat 4) 491) 491) (set (attr (data) \"ovenProxyContractAddress\" 89) (params 490) 492))) (setPrivateLiquidationThreshold True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 476) False (literal (intOrNat 4) 476) 476) (set (attr (data) \"privateOwnerLiquidationThreshold\" 368) (params 475) 477))) (setStabilityFee True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 429) False (literal (intOrNat 4) 429) 429) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 434 (attr (data) \"interestIndex\" 117) (tuple 434 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 432) 432) \"Some\" \"None\" 432) (literal (intOrNat 60) 433) 433))) 434) 435) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 432) 432) \"Some\" \"None\" 432) (literal (intOrNat 60) 433) 433) (literal (intOrNat 60) 436) 436) 436) 436) 436) (set (attr (data) \"stabilityFee\" 117) (params 428) 438))) (setStabilityFundContract True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 496) False (literal (intOrNat 4) 496) 496) (set (attr (data) \"stabilityFundContractAddress\" 371) (params 495) 497))) (setTokenContract True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 486) False (literal (intOrNat 4) 486) 486) (set (attr (data) \"tokenContractAddress\" 558) (params 485) 487))) (updateContracts True ((set_type (params 453) (tuple \"address\" (tuple \"address\" (tuple \"address\" (tuple \"address\" \"address\")))) 454) (verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 456) False (literal (intOrNat 4) 456) 456) (match_tuple 458 (params 453) \"match_pair_458_fst\" \"match_pair_458_snd\") (match_tuple 459 (variant_arg \"match_pair_458_snd\" 458) \"match_pair_459_fst\" \"match_pair_459_snd\") (match_tuple 460 (variant_arg \"match_pair_459_snd\" 459) \"match_pair_460_fst\" \"match_pair_460_snd\") (match_tuple 461 (variant_arg \"match_pair_460_snd\" 460) \"match_pair_461_fst\" \"match_pair_461_snd\") (set (attr (data) \"governorContractAddress\" 447) (variant_arg \"match_pair_458_fst\" 458) 463) (set (attr (data) \"tokenContractAddress\" 558) (variant_arg \"match_pair_459_fst\" 459) 464) (set (attr (data) \"ovenProxyContractAddress\" 89) (variant_arg \"match_pair_460_fst\" 460) 465) (set (attr (data) \"stabilityFundContractAddress\" 371) (variant_arg \"match_pair_461_fst\" 461) 466) (set (attr (data) \"developerFundContractAddress\" 536) (variant_arg \"match_pair_461_snd\" 461) 467))) (updateFundSplits True ((set_type (params 506) (record ((developerFundSplit \"nat\") (stabilityFundSplit \"nat\")) (Some ((\"developerFundSplit\") (\"stabilityFundSplit\")))) 507) (verify (eq (add (attr (params 506) \"developerFundSplit\" 513) (attr (params 506) \"stabilityFundSplit\" 513) 513) (literal (nat 1000000000000000000) 4) 513) False (literal (intOrNat 25) 513) 513) (verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 516) False (literal (intOrNat 4) 516) 516) (set (attr (data) \"devFundSplit\" 532) (attr (params 506) \"developerFundSplit\" 513) 518))) (updateParams True ((set_type (params 406) (tuple \"nat\" (tuple \"nat\" (tuple \"nat\" (option \"mutez\")))) 407) (verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 409) False (literal (intOrNat 4) 409) 409) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 414 (attr (data) \"interestIndex\" 117) (tuple 414 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 412) 412) \"Some\" \"None\" 412) (literal (intOrNat 60) 413) 413))) 414) 415) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 412) 412) \"Some\" \"None\" 412) (literal (intOrNat 60) 413) 413) (literal (intOrNat 60) 416) 416) 416) 416) 416) (match_tuple 419 (params 406) \"match_pair_419_fst\" \"match_pair_419_snd\") (match_tuple 420 (variant_arg \"match_pair_419_snd\" 419) \"match_pair_420_fst\" \"match_pair_420_snd\") (set (attr (data) \"stabilityFee\" 117) (variant_arg \"match_pair_419_fst\" 419) 423) (set (attr (data) \"liquidationFeePercent\" 377) (variant_arg \"match_pair_420_fst\" 420) 424) (set (attr (data) \"collateralizationPercentage\" 135) (first (variant_arg \"match_pair_420_snd\" 420) 421) 425))) (withdraw True ((set_type (params 260) (tuple \"nat\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\")))))))) 261) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 89) 264) False (literal (intOrNat 2) 264) 264) (match_tuple 267 (params 260) \"match_pair_267_fst\" \"match_pair_267_snd\") (match_tuple 268 (variant_arg \"match_pair_267_snd\" 267) \"match_pair_268_fst\" \"match_pair_268_snd\") (match_tuple 269 (variant_arg \"match_pair_268_snd\" 268) \"match_pair_269_fst\" \"match_pair_269_snd\") (match_tuple 270 (variant_arg \"match_pair_269_snd\" 269) \"match_pair_270_fst\" \"match_pair_270_snd\") (match_tuple 271 (variant_arg \"match_pair_270_snd\" 270) \"match_pair_271_fst\" \"match_pair_271_snd\") (match_tuple 272 (variant_arg \"match_pair_271_snd\" 271) \"match_pair_272_fst\" \"match_pair_272_snd\") (match_tuple 273 (variant_arg \"match_pair_272_snd\" 272) \"match_pair_273_fst\" \"match_pair_273_snd\") (set_type (variant_arg \"match_pair_267_fst\" 267) \"nat\" 279) (set_type (variant_arg \"match_pair_268_fst\" 268) \"address\" 280) (set_type (variant_arg \"match_pair_269_fst\" 269) \"address\" 281) (set_type (variant_arg \"match_pair_270_fst\" 270) \"nat\" 282) (set_type (variant_arg \"match_pair_271_fst\" 271) \"nat\" 283) (set_type (variant_arg \"match_pair_272_fst\" 272) \"bool\" 284) (set_type (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) \"nat\" 285) (set_type (first (variant_arg \"match_pair_273_snd\" 273) 274) \"int\" 286) (set_type (second (variant_arg \"match_pair_273_snd\" 273) 275) \"mutez\" 287) (ifBlock (gt (add (variant_arg \"match_pair_271_fst\" 271) (add (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 295 (first (variant_arg \"match_pair_273_snd\" 273) 274) (tuple 295 (variant_arg \"match_pair_271_fst\" 271) (tuple 295 (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292)))) 295) 296) 299) (literal (intOrNat 0) 300) 300) ((verify (ge (call_lambda (global \"computeCollateralizationPercentage\" 1 232) (tuple 303 (openVariant (isNat (sub (variant_arg \"match_pair_270_fst\" 270) (mul (first (openVariant (ediv (second (variant_arg \"match_pair_273_snd\" 273) 275) (literal (mutez 1) 301) 301) \"Some\" \"None\" 301) 301) (literal (intOrNat 1000000000000) 301) 301) 302) 302) \"Some\" \"None\" 302) (tuple 303 (variant_arg \"match_pair_267_fst\" 267) (add (variant_arg \"match_pair_271_fst\" 271) (add (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 295 (first (variant_arg \"match_pair_273_snd\" 273) 274) (tuple 295 (variant_arg \"match_pair_271_fst\" 271) (tuple 295 (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292)))) 295) 296) 299))) 303) (attr (data) \"collateralizationPercentage\" 135) 304) False (literal (intOrNat 11) 304) 304)) 300) (set (operations 307) (cons (transfer (unit) (second (variant_arg \"match_pair_273_snd\" 273) 275) (openVariant (contract \"\" \"unit\" (variant_arg \"match_pair_269_fst\" 269) 307) \"Some\" \"None\" 307) 307) (operations 307) 307) 307) (set_type (variant_arg \"match_pair_268_fst\" 268) \"address\" 606) (set_type (variant_arg \"match_pair_271_fst\" 271) \"nat\" 607) (set_type (add (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 295 (first (variant_arg \"match_pair_273_snd\" 273) 274) (tuple 295 (variant_arg \"match_pair_271_fst\" 271) (tuple 295 (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292)))) 295) 296) \"nat\" 608) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292) \"nat\" 609) (set_type (variant_arg \"match_pair_272_fst\" 272) \"bool\" 610) (set_type (sub (split_tokens (literal (mutez 1) 310) (floordiv (variant_arg \"match_pair_270_fst\" 270) (literal (intOrNat 1000000000000) 310) 310) (literal (intOrNat 1) 310) 310) (second (variant_arg \"match_pair_273_snd\" 273) 275) 310) \"mutez\" 611) (set (operations 622) (cons (transfer (tuple 622 (variant_arg \"match_pair_268_fst\" 268) (tuple 622 (variant_arg \"match_pair_271_fst\" 271) (tuple 622 (toInt (add (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"calculateNewAccruedInterest\" 1 232) (tuple 295 (first (variant_arg \"match_pair_273_snd\" 273) 274) (tuple 295 (variant_arg \"match_pair_271_fst\" 271) (tuple 295 (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292)))) 295) 296) 614) (tuple 622 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292) 614) (variant_arg \"match_pair_272_fst\" 272))))) (sub (split_tokens (literal (mutez 1) 310) (floordiv (variant_arg \"match_pair_270_fst\" 270) (literal (intOrNat 1000000000000) 310) 310) (literal (intOrNat 1) 310) 310) (second (variant_arg \"match_pair_273_snd\" 273) 275) 310) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 89) 616) \"Some\" \"None\" 616) 622) (operations 622) 622) 622) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 232) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292) 314) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291) (literal (intOrNat 60) 315) 315) 315) 315) 315))))\nflags (Exception_DefaultUnit no_comment)\nglobals ((calculateNewAccruedInterest (lambda 0 \"\" 232 ((set_type (lambdaParams 0 \"\" 232 (unknown 8)) (tuple \"int\" (tuple \"nat\" (tuple \"nat\" \"nat\"))) 566) (result (openVariant (isNat (sub (first (openVariant (ediv (mul (first (openVariant (ediv (mul (second (second (second (lambdaParams 0 \"\" 232 (unknown 8)) 571) 571) 571) (literal (nat 1000000000000000000) 4) 573) (openVariant (isNat (first (lambdaParams 0 \"\" 232 (unknown 8)) 568) 568) \"Some\" \"None\" 568) 573) \"Some\" \"None\" 573) 573) (add (first (second (lambdaParams 0 \"\" 232 (unknown 8)) 569) 569) (first (second (second (lambdaParams 0 \"\" 232 (unknown 8)) 570) 570) 570) 574) 575) (literal (nat 1000000000000000000) 4) 575) \"Some\" \"None\" 575) 575) (add (first (second (lambdaParams 0 \"\" 232 (unknown 8)) 569) 569) (first (second (second (lambdaParams 0 \"\" 232 (unknown 8)) 570) 570) 570) 574) 576) 576) \"Some\" \"None\" 576) 577)))) (compoundWithLinearApproximation (lambda 1 \"\" 232 ((set_type (lambdaParams 1 \"\" 232 (unknown 9)) (tuple \"nat\" (tuple \"nat\" \"nat\")) 582) (result (floordiv (mul (first (lambdaParams 1 \"\" 232 (unknown 9)) 584) (add (literal (nat 1000000000000000000) 4) (mul (second (second (lambdaParams 1 \"\" 232 (unknown 9)) 586) 586) (first (second (lambdaParams 1 \"\" 232 (unknown 9)) 585) 585) 588) 588) 588) (literal (nat 1000000000000000000) 4) 588) 588)))) (computeCollateralizationPercentage (lambda 2 \"\" 232 ((set_type (lambdaParams 2 \"\" 232 (unknown 10)) (tuple \"nat\" (tuple \"nat\" \"nat\")) 594) (result (mul (floordiv (mul (floordiv (mul (first (lambdaParams 2 \"\" 232 (unknown 10)) 596) (first (second (lambdaParams 2 \"\" 232 (unknown 10)) 597) 597) 601) (literal (nat 1000000000000000000) 4) 601) (literal (nat 1000000000000000000) 4) 602) (second (second (lambdaParams 2 \"\" 232 (unknown 10)) 598) 598) 602) (literal (intOrNat 100) 603) 603) 603)))))\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 232, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 3, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (local-address 1) 232)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (local-address 0) 18)) (state (literal (intOrNat 1) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 241, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setOvenFactoryContract", "params": "(literal (local-address 3) 33)", "line_no": 244, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 18)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 244)", "show": true, "valid": "(literal (bool True) 244)", "voting_powers": "(map 244 )"}, {"action": "message", "id": 3, "message": "makeOven", "params": "(unit)", "line_no": 252, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)", "chain_id": "", "time": "(literal (timestamp 1633567868) 254)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 252)", "show": true, "valid": "(literal (bool False) 252)", "voting_powers": "(map 252 )"}]}, {"shortname": "makeOven_-_fails_with_amount_attached", "longname": "makeOven - fails with amount attached", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 18 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (ovenFactoryContractAddress (literal (address \"tz1irJKkXS2DBWkU1NnmFQx1c1L7pbGg4yhk\") 15)) (ovenMap (type_annotation (big_map 21 ) (bigmap \"address\" \"address\") 21)))\nstorage_type (())\nmessages ((addOven True ((set_type (params 51) (tuple \"address\" \"address\") 52) (verify (eq (sender) (attr (data) \"ovenFactoryContractAddress\" 54) 54) False (literal (intOrNat 7) 54) 54) (set (getItem (attr (data) \"ovenMap\" 59) (first (params 51) 56) 59) (second (params 51) 57) 59))) (default True ((set_type (params 41) \"unit\" 42) (failwith (literal (intOrNat 19) 43) 43))) (isOven True ((verify (contains (attr (data) \"ovenMap\" 59) (params 33) 34) False (literal (intOrNat 1) 34) 34) (verify (eq (amount) (literal (mutez 0) 37) 37) False (literal (intOrNat 15) 37) 37))) (setGovernorContract True ((set_type (params 67) \"address\" 68) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 70) False (literal (intOrNat 4) 70) 70) (set (attr (data) \"governorContractAddress\" 70) (params 67) 71))) (setOvenFactoryContract True ((set_type (params 75) \"address\" 76) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 78) False (literal (intOrNat 4) 78) 78) (set (attr (data) \"ovenFactoryContractAddress\" 54) (params 75) 79))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 267, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 1, "export": "(storage (record 34 (collateralizationPercentage (literal (nat 200000000000000000000) 21)) (devFundSplit (literal (nat 100000000000000000) 28)) (developerFundContractAddress (literal (address \"tz1R6Ej25VSerE3MkSoEEeBjKHCDTFbpKuSX\") 45)) (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (interestIndex (literal (intOrNat 1000000000000000000) 34)) (lastInterestIndexUpdateTime (literal (timestamp 1601871456) 24)) (liquidationFeePercent (literal (nat 80000000000000000) 29)) (liquidityPoolContractAddress (literal (address \"tz3QSGPoRp3Kn7n3vY24eYeu3Peuqo45LQ4D\") 57)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (privateOwnerLiquidationThreshold (literal (nat 20000000000000000000) 22)) (stabilityFee (literal (nat 0) 23)) (stabilityFundContractAddress (literal (address \"tz1W5VkdB5s7ENMESVBtwyt9kyvLqPcUczRT\") 42)) (tokenContractAddress (literal (address \"tz1cYufsxHXJcvANhvS55h3aY32a9BAFB494\") 27)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 85) (tuple \"nat\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\")))))))) 86) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 89) 89) False (literal (intOrNat 2) 89) 89) (match_tuple 92 (params 85) \"match_pair_92_fst\" \"match_pair_92_snd\") (match_tuple 93 (variant_arg \"match_pair_92_snd\" 92) \"match_pair_93_fst\" \"match_pair_93_snd\") (match_tuple 94 (variant_arg \"match_pair_93_snd\" 93) \"match_pair_94_fst\" \"match_pair_94_snd\") (match_tuple 95 (variant_arg \"match_pair_94_snd\" 94) \"match_pair_95_fst\" \"match_pair_95_snd\") (match_tuple 96 (variant_arg \"match_pair_95_snd\" 95) \"match_pair_96_fst\" \"match_pair_96_snd\") (match_tuple 97 (variant_arg \"match_pair_96_snd\" 96) \"match_pair_97_fst\" \"match_pair_97_snd\") (match_tuple 98 (variant_arg \"match_pair_97_snd\" 97) \"match_pair_98_fst\" \"match_pair_98_snd\") (set_type (variant_arg \"match_pair_92_fst\" 92) \"nat\" 104) (set_type (variant_arg \"match_pair_93_fst\" 93) \"address\" 105) (set_type (variant_arg \"match_pair_94_fst\" 94) \"address\" 106) (set_type (variant_arg \"match_pair_95_fst\" 95) \"nat\" 107) (set_type (variant_arg \"match_pair_96_fst\" 96) \"nat\" 108) (set_type (variant_arg \"match_pair_97_fst\" 97) \"bool\" 109) (set_type (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) \"nat\" 110) (set_type (first (variant_arg \"match_pair_98_snd\" 98) 99) \"int\" 111) (set_type (second (variant_arg \"match_pair_98_snd\" 98) 100) \"nat\" 112) (verify (eq (variant_arg \"match_pair_97_fst\" 97) (literal (bool False) 120) 120) False (literal (intOrNat 16) 120) 120) (set_type (add (variant_arg \"match_pair_96_fst\" 96) (second (variant_arg \"match_pair_98_snd\" 98) 100) 127) \"nat\" 128) (set_type (add (add (variant_arg \"match_pair_96_fst\" 96) (second (variant_arg \"match_pair_98_snd\" 98) 100) 127) (add (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 123 (first (variant_arg \"match_pair_98_snd\" 98) 99) (tuple 123 (variant_arg \"match_pair_96_fst\" 96) (tuple 123 (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117)))) 123) 124) 131) \"nat\" 132) (ifBlock (gt (add (add (variant_arg \"match_pair_96_fst\" 96) (second (variant_arg \"match_pair_98_snd\" 98) 100) 127) (add (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 123 (first (variant_arg \"match_pair_98_snd\" 98) 99) (tuple 123 (variant_arg \"match_pair_96_fst\" 96) (tuple 123 (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117)))) 123) 124) 131) (literal (intOrNat 0) 133) 133) ((verify (ge (call_lambda (global \"computeCollateralizationPercentage\" 1 273) (tuple 134 (variant_arg \"match_pair_95_fst\" 95) (tuple 134 (variant_arg \"match_pair_92_fst\" 92) (add (add (variant_arg \"match_pair_96_fst\" 96) (second (variant_arg \"match_pair_98_snd\" 98) 100) 127) (add (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 123 (first (variant_arg \"match_pair_98_snd\" 98) 99) (tuple 123 (variant_arg \"match_pair_96_fst\" 96) (tuple 123 (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117)))) 123) 124) 131))) 134) (attr (data) \"collateralizationPercentage\" 135) 135) False (literal (intOrNat 11) 135) 135)) 133) (set_type (second (variant_arg \"match_pair_98_snd\" 98) 100) \"nat\" 552) (set_type (variant_arg \"match_pair_94_fst\" 94) \"address\" 553) (set (operations 561) (cons (transfer (record 555 (address (variant_arg \"match_pair_94_fst\" 94)) (value (second (variant_arg \"match_pair_98_snd\" 98) 100))) (literal (mutez 0) 561) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 556) \"Some\" \"None\" 556) 561) (operations 561) 561) 561) (set_type (variant_arg \"match_pair_93_fst\" 93) \"address\" 606) (set_type (add (variant_arg \"match_pair_96_fst\" 96) (second (variant_arg \"match_pair_98_snd\" 98) 100) 127) \"nat\" 607) (set_type (add (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 123 (first (variant_arg \"match_pair_98_snd\" 98) 99) (tuple 123 (variant_arg \"match_pair_96_fst\" 96) (tuple 123 (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117)))) 123) 124) \"nat\" 608) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117) \"nat\" 609) (set_type (variant_arg \"match_pair_97_fst\" 97) \"bool\" 610) (set_type (balance) \"mutez\" 611) (set (operations 622) (cons (transfer (tuple 622 (variant_arg \"match_pair_93_fst\" 93) (tuple 622 (add (variant_arg \"match_pair_96_fst\" 96) (second (variant_arg \"match_pair_98_snd\" 98) 100) 127) (tuple 622 (toInt (add (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 123 (first (variant_arg \"match_pair_98_snd\" 98) 99) (tuple 123 (variant_arg \"match_pair_96_fst\" 96) (tuple 123 (openVariant (isNat (variant_arg \"match_pair_98_fst\" 98) 102) \"Some\" \"None\" 102) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117)))) 123) 124) 614) (tuple 622 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117) 614) (variant_arg \"match_pair_97_fst\" 97))))) (balance) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 89) 616) \"Some\" \"None\" 616) 622) (operations 622) 622) 622) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 117 (attr (data) \"interestIndex\" 117) (tuple 117 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116))) 117) 144) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 115) 115) \"Some\" \"None\" 115) (literal (intOrNat 60) 116) 116) (literal (intOrNat 60) 145) 145) 145) 145) 145))) (deposit True ((set_type (params 215) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) 216) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 89) 219) False (literal (intOrNat 2) 219) 219) (match_tuple 222 (params 215) \"match_pair_222_fst\" \"match_pair_222_snd\") (match_tuple 223 (variant_arg \"match_pair_222_snd\" 222) \"match_pair_223_fst\" \"match_pair_223_snd\") (match_tuple 224 (variant_arg \"match_pair_223_snd\" 223) \"match_pair_224_fst\" \"match_pair_224_snd\") (match_tuple 225 (variant_arg \"match_pair_224_snd\" 224) \"match_pair_225_fst\" \"match_pair_225_snd\") (match_tuple 226 (variant_arg \"match_pair_225_snd\" 225) \"match_pair_226_fst\" \"match_pair_226_snd\") (set_type (variant_arg \"match_pair_222_fst\" 222) \"address\" 232) (set_type (variant_arg \"match_pair_223_fst\" 223) \"address\" 233) (set_type (variant_arg \"match_pair_224_fst\" 224) \"nat\" 234) (set_type (variant_arg \"match_pair_225_fst\" 225) \"nat\" 235) (set_type (variant_arg \"match_pair_226_fst\" 226) \"bool\" 236) (set_type (openVariant (isNat (first (variant_arg \"match_pair_226_snd\" 226) 227) 230) \"Some\" \"None\" 230) \"nat\" 237) (set_type (second (variant_arg \"match_pair_226_snd\" 226) 228) \"int\" 238) (verify (eq (variant_arg \"match_pair_226_fst\" 226) (literal (bool False) 246) 246) False (literal (intOrNat 16) 246) 246) (set_type (variant_arg \"match_pair_222_fst\" 222) \"address\" 606) (set_type (variant_arg \"match_pair_225_fst\" 225) \"nat\" 607) (set_type (add (openVariant (isNat (first (variant_arg \"match_pair_226_snd\" 226) 227) 230) \"Some\" \"None\" 230) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 249 (second (variant_arg \"match_pair_226_snd\" 226) 228) (tuple 249 (variant_arg \"match_pair_225_fst\" 225) (tuple 249 (openVariant (isNat (first (variant_arg \"match_pair_226_snd\" 226) 227) 230) \"Some\" \"None\" 230) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 243 (attr (data) \"interestIndex\" 117) (tuple 243 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 241) 241) \"Some\" \"None\" 241) (literal (intOrNat 60) 242) 242))) 243)))) 249) 250) \"nat\" 608) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 243 (attr (data) \"interestIndex\" 117) (tuple 243 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 241) 241) \"Some\" \"None\" 241) (literal (intOrNat 60) 242) 242))) 243) \"nat\" 609) (set_type (variant_arg \"match_pair_226_fst\" 226) \"bool\" 610) (set_type (balance) \"mutez\" 611) (set (operations 622) (cons (transfer (tuple 622 (variant_arg \"match_pair_222_fst\" 222) (tuple 622 (variant_arg \"match_pair_225_fst\" 225) (tuple 622 (toInt (add (openVariant (isNat (first (variant_arg \"match_pair_226_snd\" 226) 227) 230) \"Some\" \"None\" 230) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 249 (second (variant_arg \"match_pair_226_snd\" 226) 228) (tuple 249 (variant_arg \"match_pair_225_fst\" 225) (tuple 249 (openVariant (isNat (first (variant_arg \"match_pair_226_snd\" 226) 227) 230) \"Some\" \"None\" 230) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 243 (attr (data) \"interestIndex\" 117) (tuple 243 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 241) 241) \"Some\" \"None\" 241) (literal (intOrNat 60) 242) 242))) 243)))) 249) 250) 614) (tuple 622 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 243 (attr (data) \"interestIndex\" 117) (tuple 243 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 241) 241) \"Some\" \"None\" 241) (literal (intOrNat 60) 242) 242))) 243) 614) (variant_arg \"match_pair_226_fst\" 226))))) (balance) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 89) 616) \"Some\" \"None\" 616) 622) (operations 622) 622) 622) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 243 (attr (data) \"interestIndex\" 117) (tuple 243 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 241) 241) \"Some\" \"None\" 241) (literal (intOrNat 60) 242) 242))) 243) 256) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 241) 241) \"Some\" \"None\" 241) (literal (intOrNat 60) 242) 242) (literal (intOrNat 60) 257) 257) 257) 257) 257))) (getInterestIndex True ((set_type (params 61) (contract \"nat\") 62) (verify (eq (amount) (literal (mutez 0) 65) 65) False (literal (intOrNat 15) 65) 65) (set (operations 73) (cons (transfer (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 70 (attr (data) \"interestIndex\" 117) (tuple 70 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 68) 68) \"Some\" \"None\" 68) (literal (intOrNat 60) 69) 69))) 70) (literal (mutez 0) 73) (params 61) 73) (operations 73) 73) 73) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 70 (attr (data) \"interestIndex\" 117) (tuple 70 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 68) 68) \"Some\" \"None\" 68) (literal (intOrNat 60) 69) 69))) 70) 76) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 68) 68) \"Some\" \"None\" 68) (literal (intOrNat 60) 69) 69) (literal (intOrNat 60) 77) 77) 77) 77) 77))) (liquidate True ((set_type (params 319) (tuple \"nat\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\")))))))) 320) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 89) 323) False (literal (intOrNat 2) 323) 323) (match_tuple 326 (params 319) \"match_pair_326_fst\" \"match_pair_326_snd\") (match_tuple 327 (variant_arg \"match_pair_326_snd\" 326) \"match_pair_327_fst\" \"match_pair_327_snd\") (match_tuple 328 (variant_arg \"match_pair_327_snd\" 327) \"match_pair_328_fst\" \"match_pair_328_snd\") (match_tuple 329 (variant_arg \"match_pair_328_snd\" 328) \"match_pair_329_fst\" \"match_pair_329_snd\") (match_tuple 330 (variant_arg \"match_pair_329_snd\" 329) \"match_pair_330_fst\" \"match_pair_330_snd\") (match_tuple 331 (variant_arg \"match_pair_330_snd\" 330) \"match_pair_331_fst\" \"match_pair_331_snd\") (match_tuple 332 (variant_arg \"match_pair_331_snd\" 331) \"match_pair_332_fst\" \"match_pair_332_snd\") (set_type (variant_arg \"match_pair_326_fst\" 326) \"nat\" 338) (set_type (variant_arg \"match_pair_327_fst\" 327) \"address\" 339) (set_type (variant_arg \"match_pair_328_fst\" 328) \"address\" 340) (set_type (variant_arg \"match_pair_329_fst\" 329) \"nat\" 341) (set_type (variant_arg \"match_pair_330_fst\" 330) \"nat\" 342) (set_type (variant_arg \"match_pair_331_fst\" 331) \"bool\" 343) (set_type (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) \"nat\" 344) (set_type (first (variant_arg \"match_pair_332_snd\" 332) 333) \"int\" 345) (set_type (second (variant_arg \"match_pair_332_snd\" 332) 334) \"address\" 346) (verify (eq (variant_arg \"match_pair_331_fst\" 331) (literal (bool False) 354) 354) False (literal (intOrNat 16) 354) 354) (verify (lt (call_lambda (global \"computeCollateralizationPercentage\" 1 273) (tuple 362 (variant_arg \"match_pair_329_fst\" 329) (tuple 362 (variant_arg \"match_pair_326_fst\" 326) (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361))) 362) (attr (data) \"collateralizationPercentage\" 135) 363) False (literal (intOrNat 10) 363) 363) (verify (or (or (eq (second (variant_arg \"match_pair_332_snd\" 332) 334) (attr (data) \"liquidityPoolContractAddress\" 370) 370) (eq (second (variant_arg \"match_pair_332_snd\" 332) 334) (attr (data) \"stabilityFundContractAddress\" 371) 371) 370) (lt (call_lambda (global \"computeCollateralizationPercentage\" 1 273) (tuple 362 (variant_arg \"match_pair_329_fst\" 329) (tuple 362 (variant_arg \"match_pair_326_fst\" 326) (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361))) 362) (openVariant (isNat (sub (attr (data) \"collateralizationPercentage\" 135) (attr (data) \"privateOwnerLiquidationThreshold\" 368) 368) 368) \"Some\" \"None\" 368) 372) 370) False (literal (intOrNat 26) 369) 369) (set_type (add (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 380) \"nat\" 540) (set_type (second (variant_arg \"match_pair_332_snd\" 332) 334) \"address\" 541) (set (operations 549) (cons (transfer (record 543 (address (second (variant_arg \"match_pair_332_snd\" 332) 334)) (value (add (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 380))) (literal (mutez 0) 549) (openVariant (contract \"burn\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 544) \"Some\" \"None\" 544) 549) (operations 549) 549) 549) (set_type (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) \"nat\" 529) (set_type (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532) \"nat\" 552) (set_type (attr (data) \"developerFundContractAddress\" 536) \"address\" 553) (set (operations 561) (cons (transfer (record 555 (address (attr (data) \"developerFundContractAddress\" 536)) (value (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532))) (literal (mutez 0) 561) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 556) \"Some\" \"None\" 556) 561) (operations 561) 561) 561) (set_type (openVariant (isNat (sub (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532) 533) 533) \"Some\" \"None\" 533) \"nat\" 552) (set_type (attr (data) \"stabilityFundContractAddress\" 371) \"address\" 553) (set (operations 561) (cons (transfer (record 555 (address (attr (data) \"stabilityFundContractAddress\" 371)) (value (openVariant (isNat (sub (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) (floordiv (mul (add (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) (floordiv (mul (add (variant_arg \"match_pair_330_fst\" 330) (add (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 357 (first (variant_arg \"match_pair_332_snd\" 332) 333) (tuple 357 (variant_arg \"match_pair_330_fst\" 330) (tuple 357 (openVariant (isNat (variant_arg \"match_pair_332_fst\" 332) 336) \"Some\" \"None\" 336) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351)))) 357) 358) 361) (attr (data) \"liquidationFeePercent\" 377) 377) (literal (nat 1000000000000000000) 4) 377) 383) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532) 533) 533) \"Some\" \"None\" 533))) (literal (mutez 0) 561) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 556) \"Some\" \"None\" 556) 561) (operations 561) 561) 561) (set (operations 386) (cons (transfer (unit) (split_tokens (literal (mutez 1) 386) (floordiv (variant_arg \"match_pair_329_fst\" 329) (literal (intOrNat 1000000000000) 386) 386) (literal (intOrNat 1) 386) 386) (openVariant (contract \"\" \"unit\" (second (variant_arg \"match_pair_332_snd\" 332) 334) 386) \"Some\" \"None\" 386) 386) (operations 386) 386) 386) (set_type (variant_arg \"match_pair_327_fst\" 327) \"address\" 606) (set_type (literal (nat 0) 389) \"nat\" 607) (set_type (literal (nat 0) 389) \"nat\" 608) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351) \"nat\" 609) (set_type (literal (bool True) 610) \"bool\" 610) (set_type (literal (mutez 0) 389) \"mutez\" 611) (set (operations 622) (cons (transfer (tuple 622 (variant_arg \"match_pair_327_fst\" 327) (tuple 622 (literal (nat 0) 389) (tuple 622 (toInt (literal (nat 0) 389) 614) (tuple 622 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351) 614) (literal (bool True) 622))))) (literal (mutez 0) 389) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 89) 616) \"Some\" \"None\" 616) 622) (operations 622) 622) 622) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 351 (attr (data) \"interestIndex\" 117) (tuple 351 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350))) 351) 392) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 349) 349) \"Some\" \"None\" 349) (literal (intOrNat 60) 350) 350) (literal (intOrNat 60) 393) 393) 393) 393) 393))) (repay True ((set_type (params 149) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) 150) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 89) 153) False (literal (intOrNat 2) 153) 153) (match_tuple 156 (params 149) \"match_pair_156_fst\" \"match_pair_156_snd\") (match_tuple 157 (variant_arg \"match_pair_156_snd\" 156) \"match_pair_157_fst\" \"match_pair_157_snd\") (match_tuple 158 (variant_arg \"match_pair_157_snd\" 157) \"match_pair_158_fst\" \"match_pair_158_snd\") (match_tuple 159 (variant_arg \"match_pair_158_snd\" 158) \"match_pair_159_fst\" \"match_pair_159_snd\") (match_tuple 160 (variant_arg \"match_pair_159_snd\" 159) \"match_pair_160_fst\" \"match_pair_160_snd\") (match_tuple 161 (variant_arg \"match_pair_160_snd\" 160) \"match_pair_161_fst\" \"match_pair_161_snd\") (set_type (variant_arg \"match_pair_156_fst\" 156) \"address\" 167) (set_type (variant_arg \"match_pair_157_fst\" 157) \"address\" 168) (set_type (variant_arg \"match_pair_158_fst\" 158) \"nat\" 169) (set_type (variant_arg \"match_pair_159_fst\" 159) \"nat\" 170) (set_type (variant_arg \"match_pair_160_fst\" 160) \"bool\" 171) (set_type (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) \"nat\" 172) (set_type (first (variant_arg \"match_pair_161_snd\" 161) 162) \"int\" 173) (set_type (second (variant_arg \"match_pair_161_snd\" 161) 163) \"nat\" 174) (verify (eq (variant_arg \"match_pair_160_fst\" 160) (literal (bool False) 182) 182) False (literal (intOrNat 16) 182) 182) (defineLocal \"stabilityFeeTokensRepaid\" (literal (intOrNat 0) 190) 190) (defineLocal \"remainingStabilityFeeTokens\" (literal (intOrNat 0) 191) 191) (defineLocal \"remainingBorrowedTokenBalance\" (literal (intOrNat 0) 192) 192) (ifBlock (lt (second (variant_arg \"match_pair_161_snd\" 161) 163) (add (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 185 (first (variant_arg \"match_pair_161_snd\" 161) 162) (tuple 185 (variant_arg \"match_pair_159_fst\" 159) (tuple 185 (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179)))) 185) 186) 193) ((set (getLocal \"stabilityFeeTokensRepaid\" 273) (second (variant_arg \"match_pair_161_snd\" 161) 163) 194) (set (getLocal \"remainingStabilityFeeTokens\" 273) (openVariant (isNat (sub (add (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 185 (first (variant_arg \"match_pair_161_snd\" 161) 162) (tuple 185 (variant_arg \"match_pair_159_fst\" 159) (tuple 185 (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179)))) 185) 186) (second (variant_arg \"match_pair_161_snd\" 161) 163) 195) 195) \"Some\" \"None\" 195) 195) (set (getLocal \"remainingBorrowedTokenBalance\" 273) (variant_arg \"match_pair_159_fst\" 159) 196)) 193) (elseBlock ((set (getLocal \"stabilityFeeTokensRepaid\" 273) (add (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 185 (first (variant_arg \"match_pair_161_snd\" 161) 162) (tuple 185 (variant_arg \"match_pair_159_fst\" 159) (tuple 185 (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179)))) 185) 186) 198) (set (getLocal \"remainingStabilityFeeTokens\" 273) (literal (nat 0) 199) 199) (set (getLocal \"remainingBorrowedTokenBalance\" 273) (openVariant (isNat (sub (variant_arg \"match_pair_159_fst\" 159) (openVariant (isNat (sub (second (variant_arg \"match_pair_161_snd\" 161) 163) (add (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 185 (first (variant_arg \"match_pair_161_snd\" 161) 162) (tuple 185 (variant_arg \"match_pair_159_fst\" 159) (tuple 185 (openVariant (isNat (variant_arg \"match_pair_161_fst\" 161) 165) \"Some\" \"None\" 165) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179)))) 185) 186) 200) 200) \"Some\" \"None\" 200) 200) 200) \"Some\" \"None\" 200) 200))) (set_type (getLocal \"stabilityFeeTokensRepaid\" 203) \"nat\" 529) (set_type (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 203) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532) \"nat\" 552) (set_type (attr (data) \"developerFundContractAddress\" 536) \"address\" 553) (set (operations 561) (cons (transfer (record 555 (address (attr (data) \"developerFundContractAddress\" 536)) (value (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 203) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532))) (literal (mutez 0) 561) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 556) \"Some\" \"None\" 556) 561) (operations 561) 561) 561) (set_type (openVariant (isNat (sub (getLocal \"stabilityFeeTokensRepaid\" 203) (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 203) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532) 533) 533) \"Some\" \"None\" 533) \"nat\" 552) (set_type (attr (data) \"stabilityFundContractAddress\" 371) \"address\" 553) (set (operations 561) (cons (transfer (record 555 (address (attr (data) \"stabilityFundContractAddress\" 371)) (value (openVariant (isNat (sub (getLocal \"stabilityFeeTokensRepaid\" 203) (floordiv (mul (getLocal \"stabilityFeeTokensRepaid\" 203) (attr (data) \"devFundSplit\" 532) 532) (literal (nat 1000000000000000000) 4) 532) 533) 533) \"Some\" \"None\" 533))) (literal (mutez 0) 561) (openVariant (contract \"mint\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 556) \"Some\" \"None\" 556) 561) (operations 561) 561) 561) (set_type (second (variant_arg \"match_pair_161_snd\" 161) 163) \"nat\" 540) (set_type (variant_arg \"match_pair_157_fst\" 157) \"address\" 541) (set (operations 549) (cons (transfer (record 543 (address (variant_arg \"match_pair_157_fst\" 157)) (value (second (variant_arg \"match_pair_161_snd\" 161) 163))) (literal (mutez 0) 549) (openVariant (contract \"burn\" (record ((address \"address\") (value \"nat\")) None) (attr (data) \"tokenContractAddress\" 558) 544) \"Some\" \"None\" 544) 549) (operations 549) 549) 549) (set_type (variant_arg \"match_pair_156_fst\" 156) \"address\" 606) (set_type (getLocal \"remainingBorrowedTokenBalance\" 207) \"nat\" 607) (set_type (getLocal \"remainingStabilityFeeTokens\" 207) \"nat\" 608) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179) \"nat\" 609) (set_type (variant_arg \"match_pair_160_fst\" 160) \"bool\" 610) (set_type (balance) \"mutez\" 611) (set (operations 622) (cons (transfer (tuple 622 (variant_arg \"match_pair_156_fst\" 156) (tuple 622 (getLocal \"remainingBorrowedTokenBalance\" 207) (tuple 622 (toInt (getLocal \"remainingStabilityFeeTokens\" 207) 614) (tuple 622 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179) 614) (variant_arg \"match_pair_160_fst\" 160))))) (balance) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 89) 616) \"Some\" \"None\" 616) 622) (operations 622) 622) 622) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 179 (attr (data) \"interestIndex\" 117) (tuple 179 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178))) 179) 210) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 177) 177) \"Some\" \"None\" 177) (literal (intOrNat 60) 178) 178) (literal (intOrNat 60) 211) 211) 211) 211) 211))) (setCollateralizationPercentage True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 447) False (literal (intOrNat 4) 447) 447) (set (attr (data) \"collateralizationPercentage\" 135) (params 446) 448))) (setDeveloperFundContract True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 501) False (literal (intOrNat 4) 501) 501) (set (attr (data) \"developerFundContractAddress\" 536) (params 500) 502))) (setGovernorContract True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 481) False (literal (intOrNat 4) 481) 481) (set (attr (data) \"governorContractAddress\" 447) (params 480) 482))) (setLiquidationFeePercent True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 442) False (literal (intOrNat 4) 442) 442) (set (attr (data) \"liquidationFeePercent\" 377) (params 441) 443))) (setLiquidityPoolContract True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 471) False (literal (intOrNat 4) 471) 471) (set (attr (data) \"liquidityPoolContractAddress\" 370) (params 470) 472))) (setOvenProxyContract True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 491) False (literal (intOrNat 4) 491) 491) (set (attr (data) \"ovenProxyContractAddress\" 89) (params 490) 492))) (setPrivateLiquidationThreshold True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 476) False (literal (intOrNat 4) 476) 476) (set (attr (data) \"privateOwnerLiquidationThreshold\" 368) (params 475) 477))) (setStabilityFee True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 429) False (literal (intOrNat 4) 429) 429) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 434 (attr (data) \"interestIndex\" 117) (tuple 434 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 432) 432) \"Some\" \"None\" 432) (literal (intOrNat 60) 433) 433))) 434) 435) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 432) 432) \"Some\" \"None\" 432) (literal (intOrNat 60) 433) 433) (literal (intOrNat 60) 436) 436) 436) 436) 436) (set (attr (data) \"stabilityFee\" 117) (params 428) 438))) (setStabilityFundContract True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 496) False (literal (intOrNat 4) 496) 496) (set (attr (data) \"stabilityFundContractAddress\" 371) (params 495) 497))) (setTokenContract True ((verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 486) False (literal (intOrNat 4) 486) 486) (set (attr (data) \"tokenContractAddress\" 558) (params 485) 487))) (updateContracts True ((set_type (params 453) (tuple \"address\" (tuple \"address\" (tuple \"address\" (tuple \"address\" \"address\")))) 454) (verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 456) False (literal (intOrNat 4) 456) 456) (match_tuple 458 (params 453) \"match_pair_458_fst\" \"match_pair_458_snd\") (match_tuple 459 (variant_arg \"match_pair_458_snd\" 458) \"match_pair_459_fst\" \"match_pair_459_snd\") (match_tuple 460 (variant_arg \"match_pair_459_snd\" 459) \"match_pair_460_fst\" \"match_pair_460_snd\") (match_tuple 461 (variant_arg \"match_pair_460_snd\" 460) \"match_pair_461_fst\" \"match_pair_461_snd\") (set (attr (data) \"governorContractAddress\" 447) (variant_arg \"match_pair_458_fst\" 458) 463) (set (attr (data) \"tokenContractAddress\" 558) (variant_arg \"match_pair_459_fst\" 459) 464) (set (attr (data) \"ovenProxyContractAddress\" 89) (variant_arg \"match_pair_460_fst\" 460) 465) (set (attr (data) \"stabilityFundContractAddress\" 371) (variant_arg \"match_pair_461_fst\" 461) 466) (set (attr (data) \"developerFundContractAddress\" 536) (variant_arg \"match_pair_461_snd\" 461) 467))) (updateFundSplits True ((set_type (params 506) (record ((developerFundSplit \"nat\") (stabilityFundSplit \"nat\")) (Some ((\"developerFundSplit\") (\"stabilityFundSplit\")))) 507) (verify (eq (add (attr (params 506) \"developerFundSplit\" 513) (attr (params 506) \"stabilityFundSplit\" 513) 513) (literal (nat 1000000000000000000) 4) 513) False (literal (intOrNat 25) 513) 513) (verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 516) False (literal (intOrNat 4) 516) 516) (set (attr (data) \"devFundSplit\" 532) (attr (params 506) \"developerFundSplit\" 513) 518))) (updateParams True ((set_type (params 406) (tuple \"nat\" (tuple \"nat\" (tuple \"nat\" (option \"mutez\")))) 407) (verify (eq (sender) (attr (data) \"governorContractAddress\" 447) 409) False (literal (intOrNat 4) 409) 409) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 414 (attr (data) \"interestIndex\" 117) (tuple 414 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 412) 412) \"Some\" \"None\" 412) (literal (intOrNat 60) 413) 413))) 414) 415) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 412) 412) \"Some\" \"None\" 412) (literal (intOrNat 60) 413) 413) (literal (intOrNat 60) 416) 416) 416) 416) 416) (match_tuple 419 (params 406) \"match_pair_419_fst\" \"match_pair_419_snd\") (match_tuple 420 (variant_arg \"match_pair_419_snd\" 419) \"match_pair_420_fst\" \"match_pair_420_snd\") (set (attr (data) \"stabilityFee\" 117) (variant_arg \"match_pair_419_fst\" 419) 423) (set (attr (data) \"liquidationFeePercent\" 377) (variant_arg \"match_pair_420_fst\" 420) 424) (set (attr (data) \"collateralizationPercentage\" 135) (first (variant_arg \"match_pair_420_snd\" 420) 421) 425))) (withdraw True ((set_type (params 260) (tuple \"nat\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\")))))))) 261) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 89) 264) False (literal (intOrNat 2) 264) 264) (match_tuple 267 (params 260) \"match_pair_267_fst\" \"match_pair_267_snd\") (match_tuple 268 (variant_arg \"match_pair_267_snd\" 267) \"match_pair_268_fst\" \"match_pair_268_snd\") (match_tuple 269 (variant_arg \"match_pair_268_snd\" 268) \"match_pair_269_fst\" \"match_pair_269_snd\") (match_tuple 270 (variant_arg \"match_pair_269_snd\" 269) \"match_pair_270_fst\" \"match_pair_270_snd\") (match_tuple 271 (variant_arg \"match_pair_270_snd\" 270) \"match_pair_271_fst\" \"match_pair_271_snd\") (match_tuple 272 (variant_arg \"match_pair_271_snd\" 271) \"match_pair_272_fst\" \"match_pair_272_snd\") (match_tuple 273 (variant_arg \"match_pair_272_snd\" 272) \"match_pair_273_fst\" \"match_pair_273_snd\") (set_type (variant_arg \"match_pair_267_fst\" 267) \"nat\" 279) (set_type (variant_arg \"match_pair_268_fst\" 268) \"address\" 280) (set_type (variant_arg \"match_pair_269_fst\" 269) \"address\" 281) (set_type (variant_arg \"match_pair_270_fst\" 270) \"nat\" 282) (set_type (variant_arg \"match_pair_271_fst\" 271) \"nat\" 283) (set_type (variant_arg \"match_pair_272_fst\" 272) \"bool\" 284) (set_type (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) \"nat\" 285) (set_type (first (variant_arg \"match_pair_273_snd\" 273) 274) \"int\" 286) (set_type (second (variant_arg \"match_pair_273_snd\" 273) 275) \"mutez\" 287) (ifBlock (gt (add (variant_arg \"match_pair_271_fst\" 271) (add (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 295 (first (variant_arg \"match_pair_273_snd\" 273) 274) (tuple 295 (variant_arg \"match_pair_271_fst\" 271) (tuple 295 (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292)))) 295) 296) 299) (literal (intOrNat 0) 300) 300) ((verify (ge (call_lambda (global \"computeCollateralizationPercentage\" 1 273) (tuple 303 (openVariant (isNat (sub (variant_arg \"match_pair_270_fst\" 270) (mul (first (openVariant (ediv (second (variant_arg \"match_pair_273_snd\" 273) 275) (literal (mutez 1) 301) 301) \"Some\" \"None\" 301) 301) (literal (intOrNat 1000000000000) 301) 301) 302) 302) \"Some\" \"None\" 302) (tuple 303 (variant_arg \"match_pair_267_fst\" 267) (add (variant_arg \"match_pair_271_fst\" 271) (add (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 295 (first (variant_arg \"match_pair_273_snd\" 273) 274) (tuple 295 (variant_arg \"match_pair_271_fst\" 271) (tuple 295 (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292)))) 295) 296) 299))) 303) (attr (data) \"collateralizationPercentage\" 135) 304) False (literal (intOrNat 11) 304) 304)) 300) (set (operations 307) (cons (transfer (unit) (second (variant_arg \"match_pair_273_snd\" 273) 275) (openVariant (contract \"\" \"unit\" (variant_arg \"match_pair_269_fst\" 269) 307) \"Some\" \"None\" 307) 307) (operations 307) 307) 307) (set_type (variant_arg \"match_pair_268_fst\" 268) \"address\" 606) (set_type (variant_arg \"match_pair_271_fst\" 271) \"nat\" 607) (set_type (add (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 295 (first (variant_arg \"match_pair_273_snd\" 273) 274) (tuple 295 (variant_arg \"match_pair_271_fst\" 271) (tuple 295 (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292)))) 295) 296) \"nat\" 608) (set_type (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292) \"nat\" 609) (set_type (variant_arg \"match_pair_272_fst\" 272) \"bool\" 610) (set_type (sub (split_tokens (literal (mutez 1) 310) (floordiv (variant_arg \"match_pair_270_fst\" 270) (literal (intOrNat 1000000000000) 310) 310) (literal (intOrNat 1) 310) 310) (second (variant_arg \"match_pair_273_snd\" 273) 275) 310) \"mutez\" 611) (set (operations 622) (cons (transfer (tuple 622 (variant_arg \"match_pair_268_fst\" 268) (tuple 622 (variant_arg \"match_pair_271_fst\" 271) (tuple 622 (toInt (add (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"calculateNewAccruedInterest\" 1 273) (tuple 295 (first (variant_arg \"match_pair_273_snd\" 273) 274) (tuple 295 (variant_arg \"match_pair_271_fst\" 271) (tuple 295 (openVariant (isNat (variant_arg \"match_pair_273_fst\" 273) 277) \"Some\" \"None\" 277) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292)))) 295) 296) 614) (tuple 622 (toInt (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292) 614) (variant_arg \"match_pair_272_fst\" 272))))) (sub (split_tokens (literal (mutez 1) 310) (floordiv (variant_arg \"match_pair_270_fst\" 270) (literal (intOrNat 1000000000000) 310) 310) (literal (intOrNat 1) 310) 310) (second (variant_arg \"match_pair_273_snd\" 273) 275) 310) (openVariant (contract \"updateState\" (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) (attr (data) \"ovenProxyContractAddress\" 89) 616) \"Some\" \"None\" 616) 622) (operations 622) 622) 622) (set (attr (data) \"interestIndex\" 117) (call_lambda (global \"compoundWithLinearApproximation\" 1 273) (tuple 292 (attr (data) \"interestIndex\" 117) (tuple 292 (attr (data) \"stabilityFee\" 117) (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291))) 292) 314) (set (attr (data) \"lastInterestIndexUpdateTime\" 115) (add_seconds (attr (data) \"lastInterestIndexUpdateTime\" 115) (toInt (mul (floordiv (openVariant (isNat (sub (now) (attr (data) \"lastInterestIndexUpdateTime\" 115) 290) 290) \"Some\" \"None\" 290) (literal (intOrNat 60) 291) 291) (literal (intOrNat 60) 315) 315) 315) 315) 315))))\nflags (Exception_DefaultUnit no_comment)\nglobals ((calculateNewAccruedInterest (lambda 0 \"\" 273 ((set_type (lambdaParams 0 \"\" 273 (unknown 15)) (tuple \"int\" (tuple \"nat\" (tuple \"nat\" \"nat\"))) 566) (result (openVariant (isNat (sub (first (openVariant (ediv (mul (first (openVariant (ediv (mul (second (second (second (lambdaParams 0 \"\" 273 (unknown 15)) 571) 571) 571) (literal (nat 1000000000000000000) 4) 573) (openVariant (isNat (first (lambdaParams 0 \"\" 273 (unknown 15)) 568) 568) \"Some\" \"None\" 568) 573) \"Some\" \"None\" 573) 573) (add (first (second (lambdaParams 0 \"\" 273 (unknown 15)) 569) 569) (first (second (second (lambdaParams 0 \"\" 273 (unknown 15)) 570) 570) 570) 574) 575) (literal (nat 1000000000000000000) 4) 575) \"Some\" \"None\" 575) 575) (add (first (second (lambdaParams 0 \"\" 273 (unknown 15)) 569) 569) (first (second (second (lambdaParams 0 \"\" 273 (unknown 15)) 570) 570) 570) 574) 576) 576) \"Some\" \"None\" 576) 577)))) (compoundWithLinearApproximation (lambda 1 \"\" 273 ((set_type (lambdaParams 1 \"\" 273 (unknown 16)) (tuple \"nat\" (tuple \"nat\" \"nat\")) 582) (result (floordiv (mul (first (lambdaParams 1 \"\" 273 (unknown 16)) 584) (add (literal (nat 1000000000000000000) 4) (mul (second (second (lambdaParams 1 \"\" 273 (unknown 16)) 586) 586) (first (second (lambdaParams 1 \"\" 273 (unknown 16)) 585) 585) 588) 588) 588) (literal (nat 1000000000000000000) 4) 588) 588)))) (computeCollateralizationPercentage (lambda 2 \"\" 273 ((set_type (lambdaParams 2 \"\" 273 (unknown 17)) (tuple \"nat\" (tuple \"nat\" \"nat\")) 594) (result (mul (floordiv (mul (floordiv (mul (first (lambdaParams 2 \"\" 273 (unknown 17)) 596) (first (second (lambdaParams 2 \"\" 273 (unknown 17)) 597) 597) 601) (literal (nat 1000000000000000000) 4) 601) (literal (nat 1000000000000000000) 4) 602) (second (second (lambdaParams 2 \"\" 273 (unknown 17)) 598) 598) 602) (literal (intOrNat 100) 603) 603) 603)))))\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 273, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 3, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (local-address 1) 273)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (local-address 0) 18)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 282, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setOvenFactoryContract", "params": "(literal (local-address 3) 33)", "line_no": 285, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 18)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 285)", "show": true, "valid": "(literal (bool True) 285)", "voting_powers": "(map 285 )"}, {"action": "message", "id": 3, "message": "makeOven", "params": "(unit)", "line_no": 293, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)", "chain_id": "", "time": "(literal (timestamp 1633567870) 296)", "amount": "(literal (mutez 1) 295)", "level": "(literal (intOrNat 0) 293)", "show": true, "valid": "(literal (bool False) 293)", "voting_powers": "(map 293 )"}]}, {"shortname": "makeOven_minterCallback_-_fails_when_not_called_from_minter", "longname": "makeOven_minterCallback - fails when not called from minter", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 18 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (ovenFactoryContractAddress (literal (address \"tz1irJKkXS2DBWkU1NnmFQx1c1L7pbGg4yhk\") 15)) (ovenMap (type_annotation (big_map 21 ) (bigmap \"address\" \"address\") 21)))\nstorage_type (())\nmessages ((addOven True ((set_type (params 51) (tuple \"address\" \"address\") 52) (verify (eq (sender) (attr (data) \"ovenFactoryContractAddress\" 54) 54) False (literal (intOrNat 7) 54) 54) (set (getItem (attr (data) \"ovenMap\" 59) (first (params 51) 56) 59) (second (params 51) 57) 59))) (default True ((set_type (params 41) \"unit\" 42) (failwith (literal (intOrNat 19) 43) 43))) (isOven True ((verify (contains (attr (data) \"ovenMap\" 59) (params 33) 34) False (literal (intOrNat 1) 34) 34) (verify (eq (amount) (literal (mutez 0) 37) 37) False (literal (intOrNat 15) 37) 37))) (setGovernorContract True ((set_type (params 67) \"address\" 68) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 70) False (literal (intOrNat 4) 70) 70) (set (attr (data) \"governorContractAddress\" 70) (params 67) 71))) (setOvenFactoryContract True ((set_type (params 75) \"address\" 76) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 78) False (literal (intOrNat 4) 78) 78) (set (attr (data) \"ovenFactoryContractAddress\" 54) (params 75) 79))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 313, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 2, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"Some\" (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21) 316)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (local-address 0) 18)) (state (literal (intOrNat 1) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 324, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setOvenFactoryContract", "params": "(literal (local-address 2) 33)", "line_no": 327, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 18)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 327)", "show": true, "valid": "(literal (bool True) 327)", "voting_powers": "(map 327 )"}, {"action": "message", "id": 2, "message": "makeOven_minterCallback", "params": "(literal (intOrNat 1) 336)", "line_no": 336, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 336)", "show": true, "valid": "(literal (bool False) 336)", "voting_powers": "(map 336 )"}]}, {"shortname": "makeOven_minterCallback_-_fails_when_called_in_bad_state", "longname": "makeOven_minterCallback - fails when called in bad state", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 18 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (ovenFactoryContractAddress (literal (address \"tz1irJKkXS2DBWkU1NnmFQx1c1L7pbGg4yhk\") 15)) (ovenMap (type_annotation (big_map 21 ) (bigmap \"address\" \"address\") 21)))\nstorage_type (())\nmessages ((addOven True ((set_type (params 51) (tuple \"address\" \"address\") 52) (verify (eq (sender) (attr (data) \"ovenFactoryContractAddress\" 54) 54) False (literal (intOrNat 7) 54) 54) (set (getItem (attr (data) \"ovenMap\" 59) (first (params 51) 56) 59) (second (params 51) 57) 59))) (default True ((set_type (params 41) \"unit\" 42) (failwith (literal (intOrNat 19) 43) 43))) (isOven True ((verify (contains (attr (data) \"ovenMap\" 59) (params 33) 34) False (literal (intOrNat 1) 34) 34) (verify (eq (amount) (literal (mutez 0) 37) 37) False (literal (intOrNat 15) 37) 37))) (setGovernorContract True ((set_type (params 67) \"address\" 68) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 70) False (literal (intOrNat 4) 70) 70) (set (attr (data) \"governorContractAddress\" 70) (params 67) 71))) (setOvenFactoryContract True ((set_type (params 75) \"address\" 76) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 78) False (literal (intOrNat 4) 78) 78) (set (attr (data) \"ovenFactoryContractAddress\" 54) (params 75) 79))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 350, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 2, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"Some\" (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21) 354)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 360, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setOvenFactoryContract", "params": "(literal (local-address 2) 33)", "line_no": 363, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 18)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 363)", "show": true, "valid": "(literal (bool True) 363)", "voting_powers": "(map 363 )"}, {"action": "message", "id": 2, "message": "makeOven_minterCallback", "params": "(literal (intOrNat 1) 371)", "line_no": 371, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 371)", "show": true, "valid": "(literal (bool False) 371)", "voting_powers": "(map 371 )"}]}, {"shortname": "makeOven_minterCallback_-_succeeds_and_resets_state", "longname": "makeOven_minterCallback - succeeds and resets state", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 18 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (ovenFactoryContractAddress (literal (address \"tz1irJKkXS2DBWkU1NnmFQx1c1L7pbGg4yhk\") 15)) (ovenMap (type_annotation (big_map 21 ) (bigmap \"address\" \"address\") 21)))\nstorage_type (())\nmessages ((addOven True ((set_type (params 51) (tuple \"address\" \"address\") 52) (verify (eq (sender) (attr (data) \"ovenFactoryContractAddress\" 54) 54) False (literal (intOrNat 7) 54) 54) (set (getItem (attr (data) \"ovenMap\" 59) (first (params 51) 56) 59) (second (params 51) 57) 59))) (default True ((set_type (params 41) \"unit\" 42) (failwith (literal (intOrNat 19) 43) 43))) (isOven True ((verify (contains (attr (data) \"ovenMap\" 59) (params 33) 34) False (literal (intOrNat 1) 34) 34) (verify (eq (amount) (literal (mutez 0) 37) 37) False (literal (intOrNat 15) 37) 37))) (setGovernorContract True ((set_type (params 67) \"address\" 68) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 70) False (literal (intOrNat 4) 70) 70) (set (attr (data) \"governorContractAddress\" 70) (params 67) 71))) (setOvenFactoryContract True ((set_type (params 75) \"address\" 76) (verify (eq (sender) (attr (data) \"governorContractAddress\" 70) 78) False (literal (intOrNat 4) 78) 78) (set (attr (data) \"ovenFactoryContractAddress\" 54) (params 75) 79))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 385, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 2, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"Some\" (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21) 389)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 1) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 395, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setOvenFactoryContract", "params": "(literal (local-address 2) 33)", "line_no": 398, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 18)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 398)", "show": true, "valid": "(literal (bool True) 398)", "voting_powers": "(map 398 )"}, {"action": "message", "id": 2, "message": "makeOven_minterCallback", "params": "(literal (nat 1) 405)", "line_no": 406, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 406)", "show": true, "valid": "(literal (bool True) 406)", "voting_powers": "(map 406 )"}, {"action": "verify", "condition": "(eq (attr (contractData 2 406) \"state\" 411) (literal (intOrNat 0) 411) 411)", "line_no": 411}, {"action": "verify", "condition": "(eq (isVariant (attr (contractData 2 406) \"makeOvenOwner\" 412) \"Some\" 412) (literal (bool False) 412) 412)", "line_no": 412}]}, {"shortname": "default_-_fails_with_calls_to_the_default_entrypoint", "longname": "default - fails with calls to the default entrypoint", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 427, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "default", "params": "(unit)", "line_no": 430, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 1) 431)", "level": "(literal (intOrNat 0) 430)", "show": true, "valid": "(literal (bool False) 430)", "voting_powers": "(map 430 )"}]}, {"shortname": "setGovernorContract_-_succeeds_when_called_by_governor", "longname": "setGovernorContract - succeeds when called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 448, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setGovernorContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 452, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 452)", "show": true, "valid": "(literal (bool True) 452)", "voting_powers": "(map 452 )"}, {"action": "verify", "condition": "(eq (attr (contractData 1 452) \"governorContractAddress\" 457) (literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48) 457)", "line_no": 457}]}, {"shortname": "setGovernorContract_-_fails_when_not_called_by_governor", "longname": "setGovernorContract - fails when not called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 468, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setGovernorContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 472, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 472)", "show": true, "valid": "(literal (bool False) 472)", "voting_powers": "(map 472 )"}]}, {"shortname": "setOvenRegistryContract_-_succeeds_when_called_by_governor", "longname": "setOvenRegistryContract - succeeds when called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 490, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setOvenRegistryContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 494, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 494)", "show": true, "valid": "(literal (bool True) 494)", "voting_powers": "(map 494 )"}, {"action": "verify", "condition": "(eq (attr (contractData 1 494) \"ovenRegistryContractAddress\" 499) (literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48) 499)", "line_no": 499}]}, {"shortname": "setOvenRegistryContract_-_fails_when_not_called_by_governor", "longname": "setOvenRegistryContract - fails when not called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 510, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setOvenRegistryContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 514, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 514)", "show": true, "valid": "(literal (bool False) 514)", "voting_powers": "(map 514 )"}]}, {"shortname": "setOvenProxyContract_-_succeeds_when_called_by_governor", "longname": "setOvenProxyContract - succeeds when called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 532, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setOvenProxyContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 536, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 536)", "show": true, "valid": "(literal (bool True) 536)", "voting_powers": "(map 536 )"}, {"action": "verify", "condition": "(eq (attr (contractData 1 536) \"ovenProxyContractAddress\" 541) (literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48) 541)", "line_no": 541}]}, {"shortname": "setOvenProxyContract_-_fails_when_not_called_by_governor", "longname": "setOvenProxyContract - fails when not called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 552, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setOvenProxyContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 556, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 556)", "show": true, "valid": "(literal (bool False) 556)", "voting_powers": "(map 556 )"}]}, {"shortname": "setMinterContract_-_succeeds_when_called_by_governor", "longname": "setMinterContract - succeeds when called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 574, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setMinterContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 578, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 578)", "show": true, "valid": "(literal (bool True) 578)", "voting_powers": "(map 578 )"}, {"action": "verify", "condition": "(eq (attr (contractData 1 578) \"minterContractAddress\" 583) (literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48) 583)", "line_no": 583}]}, {"shortname": "setMinterContract_-_fails_when_not_called_by_governor", "longname": "setMinterContract - fails when not called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 594, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setMinterContract", "params": "(literal (address \"tz1UMCB2AHSTwG7YcGNr31CqYCtGN873royv\") 48)", "line_no": 598, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 598)", "show": true, "valid": "(literal (bool False) 598)", "voting_powers": "(map 598 )"}]}, {"shortname": "setInitialDelegate_-_succeeds_when_called_by_governor", "longname": "setInitialDelegate - succeeds when called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"None\" (unit) -1)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 617, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setInitialDelegate", "params": "(variant \"Some\" (literal (key_hash \"tz1NRTQeqcuwybgrZfJavBY3of83u8uLpFBj\") 620) 620)", "line_no": 621, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 621)", "show": true, "valid": "(literal (bool True) 621)", "voting_powers": "(map 621 )"}, {"action": "verify", "condition": "(eq (openVariant (attr (contractData 1 621) \"initialDelegate\" 626) \"Some\" \"None\" 626) (openVariant (variant \"Some\" (literal (key_hash \"tz1NRTQeqcuwybgrZfJavBY3of83u8uLpFBj\") 620) 620) \"Some\" \"None\" 626) 626)", "line_no": 626}]}, {"shortname": "setInitialDelegate_-_fails_when_not_called_by_governor", "longname": "setInitialDelegate - fails when not called by governor", "scenario": [{"action": "newContract", "id": 1, "export": "(storage (record 33 (governorContractAddress (literal (address \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 6)) (initialDelegate (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 27) 27)) (makeOvenOwner (variant \"None\" (unit) -1)) (minterContractAddress (literal (address \"tz1UUgPwikRHW1mEyVZfGYy6QaxrY6Y7WaG5\") 33)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (ovenRegistryContractAddress (literal (address \"tz1hAYfexyzPGG6RhZZMpDvAHifubsbb6kgn\") 12)) (state (literal (intOrNat 0) 33)))\nstorage_type (())\nmessages ((default True ((set_type (params 74) \"unit\" 75) (failwith (literal (intOrNat 19) 76) 76))) (makeOven True ((set_type (params 50) \"unit\" 51) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 0) 54) 54) False (literal (intOrNat 12) 54) 54) (verify (eq (amount) (literal (mutez 0) 57) 57) False (literal (intOrNat 15) 57) 57) (set (attr (data) \"state\" 54) (literal (intOrNat 1) 60) 60) (set (attr (data) \"makeOvenOwner\" 61) (variant \"Some\" (sender) 61) 61) (set (operations 70) (cons (transfer (self_entry_point \"makeOven_minterCallback\" 64) (literal (mutez 0) 70) (openVariant (contract \"getInterestIndex\" (contract \"nat\") (attr (data) \"minterContractAddress\" 67) 65) \"Some\" \"None\" 65) 70) (operations 70) 70) 70))) (makeOven_minterCallback True ((set_type (params 83) \"nat\" 84) (verify (eq (sender) (attr (data) \"minterContractAddress\" 67) 87) False (literal (intOrNat 5) 87) 87) (verify (eq (attr (data) \"state\" 54) (literal (intOrNat 1) 90) 90) False (literal (intOrNat 12) 90) 90) (defineLocal \"create_contract_102\" (create_contract (contract (storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())) (storage (record 94 (borrowedTokens (literal (nat 0) 95)) (interestIndex (toInt (params 83) 96)) (isLiquidated (literal (bool False) 94)) (ovenProxyContractAddress (attr (data) \"ovenProxyContractAddress\" 98)) (owner (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (stabilityFeeTokens (literal (int 0) 100)))) (baker (attr (data) \"initialDelegate\" 102)) (amount (literal (mutez 0) 1)) 102) 102) (set (operations 102) (cons (attr (getLocal \"create_contract_102\" 102) \"operation\" 102) (operations 102) 102) 102) (set (operations 111) (cons (transfer (tuple 111 (attr (getLocal \"create_contract_102\" 102) \"address\" 102) (openVariant (attr (data) \"makeOvenOwner\" 61) \"Some\" \"None\" 91)) (literal (mutez 0) 111) (openVariant (contract \"addOven\" (tuple \"address\" \"address\") (attr (data) \"ovenRegistryContractAddress\" 108) 106) \"Some\" \"None\" 106) 111) (operations 111) 111) 111) (set (attr (data) \"state\" 54) (literal (intOrNat 0) 114) 114) (set (attr (data) \"makeOvenOwner\" 61) (variant \"None\" (unit) -1) 115))) (setGovernorContract True ((set_type (params 123) \"address\" 124) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 126) False (literal (intOrNat 4) 126) 126) (set (attr (data) \"governorContractAddress\" 126) (params 123) 127))) (setInitialDelegate True ((set_type (params 155) (option \"key_hash\") 156) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 158) False (literal (intOrNat 4) 158) 158) (set (attr (data) \"initialDelegate\" 102) (params 155) 159))) (setMinterContract True ((set_type (params 147) \"address\" 148) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 150) False (literal (intOrNat 4) 150) 150) (set (attr (data) \"minterContractAddress\" 67) (params 147) 151))) (setOvenProxyContract True ((set_type (params 139) \"address\" 140) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 142) False (literal (intOrNat 4) 142) 142) (set (attr (data) \"ovenProxyContractAddress\" 98) (params 139) 143))) (setOvenRegistryContract True ((set_type (params 131) \"address\" 132) (verify (eq (sender) (attr (data) \"governorContractAddress\" 126) 134) False (literal (intOrNat 4) 134) 134) (set (attr (data) \"ovenRegistryContractAddress\" 108) (params 131) 135))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 637, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "setInitialDelegate", "params": "(variant \"Some\" (literal (key_hash \"tz1NRTQeqcuwybgrZfJavBY3of83u8uLpFBj\") 640) 640)", "line_no": 641, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 33)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 641)", "show": true, "valid": "(literal (bool False) 641)", "voting_powers": "(map 641 )"}]}]