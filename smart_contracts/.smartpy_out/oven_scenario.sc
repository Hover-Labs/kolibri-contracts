[{"shortname": "borrow_-_fails_with_bad_owner", "longname": "borrow - fails with bad owner", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 197, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "borrow", "params": "(literal (intOrNat 1) 201)", "line_no": 201, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 28)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 201)", "show": true, "valid": "(literal (bool False) 201)", "voting_powers": "(map 201 )"}]}, {"shortname": "borrow_-_fails_with_amount", "longname": "borrow - fails with amount", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 215, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "borrow", "params": "(literal (intOrNat 1) 218)", "line_no": 218, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)", "chain_id": "", "time": "(literal (timestamp 0) 28)", "amount": "(literal (mutez 1) 220)", "level": "(literal (intOrNat 0) 218)", "show": true, "valid": "(literal (bool False) 218)", "voting_powers": "(map 218 )"}]}, {"shortname": "borrow_-_calls_oven_proxy_successfully", "longname": "borrow - calls oven proxy successfully", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 12 (borrow_borrowedTokens (literal (nat 0) 17)) (borrow_liquidated (literal (bool False) 18)) (borrow_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (borrow_ovenBalance (literal (nat 0) 16)) (borrow_ovenInterestIndex (literal (int 0) 20)) (borrow_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (borrow_stabilityFeeTokens (literal (int 0) 19)) (borrow_tokensToBorrow (literal (nat 0) 21)) (deposit_borrowedTokens (literal (nat 0) 37)) (deposit_liquidated (literal (bool False) 38)) (deposit_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (deposit_ovenBalance (literal (nat 0) 36)) (deposit_ovenInterestIndex (literal (int 0) 40)) (deposit_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (deposit_stabilityFeeTokens (literal (int 0) 39)) (liquidate_borrowedTokens (literal (nat 0) 56)) (liquidate_liquidated (literal (bool False) 57)) (liquidate_liquidatorAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (liquidate_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (liquidate_ovenBalance (literal (nat 0) 55)) (liquidate_ovenInterestIndex (literal (int 0) 59)) (liquidate_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (liquidate_stabilityFeeTokens (literal (int 0) 58)) (repay_borrowedTokens (literal (nat 0) 27)) (repay_liquidated (literal (bool False) 28)) (repay_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (repay_ovenBalance (literal (nat 0) 26)) (repay_ovenInterestIndex (literal (int 0) 30)) (repay_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (repay_stabilityFeeTokens (literal (int 0) 29)) (repay_tokensToRepay (literal (nat 0) 31)) (updateState_borrowedTokens (literal (nat 0) 64)) (updateState_interestIndex (literal (int 0) 66)) (updateState_isLiquidated (literal (bool False) 12)) (updateState_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (updateState_stabilityFeeTokens (literal (int 0) 65)) (withdraw_borrowedTokens (literal (nat 0) 46)) (withdraw_liquidated (literal (bool False) 47)) (withdraw_mutezToWithdraw (literal (mutez 0) 50)) (withdraw_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (withdraw_ovenBalance (literal (nat 0) 45)) (withdraw_ovenInterestIndex (literal (int 0) 49)) (withdraw_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (withdraw_stabilityFeeTokens (literal (int 0) 48)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 75) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) 76) (set (attr (data) \"borrow_ovenAddress\" 78) (first (params 75) 78) 78) (set (attr (data) \"borrow_ownerAddress\" 79) (first (second (params 75) 79) 79) 79) (set (attr (data) \"borrow_ovenBalance\" 80) (first (second (second (params 75) 80) 80) 80) 80) (set (attr (data) \"borrow_borrowedTokens\" 81) (first (second (second (second (params 75) 81) 81) 81) 81) 81) (set (attr (data) \"borrow_liquidated\" 82) (first (second (second (second (second (params 75) 82) 82) 82) 82) 82) 82) (set (attr (data) \"borrow_stabilityFeeTokens\" 83) (first (second (second (second (second (second (params 75) 83) 83) 83) 83) 83) 83) 83) (set (attr (data) \"borrow_ovenInterestIndex\" 84) (first (second (second (second (second (second (second (params 75) 84) 84) 84) 84) 84) 84) 84) 84) (set (attr (data) \"borrow_tokensToBorrow\" 85) (second (second (second (second (second (second (second (params 75) 85) 85) 85) 85) 85) 85) 85) 85))) (deposit True ((set_type (params 101) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) 102) (set (attr (data) \"deposit_ovenAddress\" 104) (first (params 101) 104) 104) (set (attr (data) \"deposit_ownerAddress\" 105) (first (second (params 101) 105) 105) 105) (set (attr (data) \"deposit_ovenBalance\" 106) (first (second (second (params 101) 106) 106) 106) 106) (set (attr (data) \"deposit_borrowedTokens\" 107) (first (second (second (second (params 101) 107) 107) 107) 107) 107) (set (attr (data) \"deposit_liquidated\" 108) (first (second (second (second (second (params 101) 108) 108) 108) 108) 108) 108) (set (attr (data) \"deposit_stabilityFeeTokens\" 109) (first (second (second (second (second (second (params 101) 109) 109) 109) 109) 109) 109) 109) (set (attr (data) \"deposit_ovenInterestIndex\" 110) (second (second (second (second (second (second (params 101) 110) 110) 110) 110) 110) 110) 110))) (liquidate True ((set_type (params 126) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) 127) (set (attr (data) \"liquidate_ovenAddress\" 129) (first (params 126) 129) 129) (set (attr (data) \"liquidate_ownerAddress\" 130) (first (second (params 126) 130) 130) 130) (set (attr (data) \"liquidate_ovenBalance\" 131) (first (second (second (params 126) 131) 131) 131) 131) (set (attr (data) \"liquidate_borrowedTokens\" 132) (first (second (second (second (params 126) 132) 132) 132) 132) 132) (set (attr (data) \"liquidate_liquidated\" 133) (first (second (second (second (second (params 126) 133) 133) 133) 133) 133) 133) (set (attr (data) \"liquidate_stabilityFeeTokens\" 134) (first (second (second (second (second (second (params 126) 134) 134) 134) 134) 134) 134) 134) (set (attr (data) \"liquidate_ovenInterestIndex\" 135) (first (second (second (second (second (second (second (params 126) 135) 135) 135) 135) 135) 135) 135) 135) (set (attr (data) \"liquidate_liquidatorAddress\" 136) (second (second (second (second (second (second (second (params 126) 136) 136) 136) 136) 136) 136) 136) 136))) (repay True ((set_type (params 88) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) 89) (set (attr (data) \"repay_ovenAddress\" 91) (first (params 88) 91) 91) (set (attr (data) \"repay_ownerAddress\" 92) (first (second (params 88) 92) 92) 92) (set (attr (data) \"repay_ovenBalance\" 93) (first (second (second (params 88) 93) 93) 93) 93) (set (attr (data) \"repay_borrowedTokens\" 94) (first (second (second (second (params 88) 94) 94) 94) 94) 94) (set (attr (data) \"repay_liquidated\" 95) (first (second (second (second (second (params 88) 95) 95) 95) 95) 95) 95) (set (attr (data) \"repay_stabilityFeeTokens\" 96) (first (second (second (second (second (second (params 88) 96) 96) 96) 96) 96) 96) 96) (set (attr (data) \"repay_ovenInterestIndex\" 97) (first (second (second (second (second (second (second (params 88) 97) 97) 97) 97) 97) 97) 97) 97) (set (attr (data) \"repay_tokensToRepay\" 98) (second (second (second (second (second (second (second (params 88) 98) 98) 98) 98) 98) 98) 98) 98))) (updateState True ((set_type (params 139) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 140) (set (attr (data) \"updateState_ovenAddress\" 142) (first (params 139) 142) 142) (set (attr (data) \"updateState_borrowedTokens\" 143) (first (second (params 139) 143) 143) 143) (set (attr (data) \"updateState_stabilityFeeTokens\" 144) (first (second (second (params 139) 144) 144) 144) 144) (set (attr (data) \"updateState_interestIndex\" 145) (first (second (second (second (params 139) 145) 145) 145) 145) 145) (set (attr (data) \"updateState_isLiquidated\" 146) (second (second (second (second (params 139) 146) 146) 146) 146) 146))) (withdraw True ((set_type (params 113) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) 114) (set (attr (data) \"withdraw_ovenAddress\" 116) (first (params 113) 116) 116) (set (attr (data) \"withdraw_ownerAddress\" 117) (first (second (params 113) 117) 117) 117) (set (attr (data) \"withdraw_ovenBalance\" 118) (first (second (second (params 113) 118) 118) 118) 118) (set (attr (data) \"withdraw_borrowedTokens\" 119) (first (second (second (second (params 113) 119) 119) 119) 119) 119) (set (attr (data) \"withdraw_liquidated\" 120) (first (second (second (second (second (params 113) 120) 120) 120) 120) 120) 120) (set (attr (data) \"withdraw_stabilityFeeTokens\" 121) (first (second (second (second (second (second (params 113) 121) 121) 121) 121) 121) 121) 121) (set (attr (data) \"withdraw_ovenInterestIndex\" 122) (first (second (second (second (second (second (second (params 113) 122) 122) 122) 122) 122) 122) 122) 122) (set (attr (data) \"withdraw_mutezToWithdraw\" 123) (second (second (second (second (second (second (second (params 113) 123) 123) 123) 123) 123) 123) 123) 123))))\nflags ()\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 237, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 1, "export": "(storage (record 28 (borrowedTokens (literal (intOrNat 1) 28)) (interestIndex (literal (intOrNat 3) 28)) (isLiquidated (literal (bool True) 28)) (ovenProxyContractAddress (literal (local-address 0) 12)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (intOrNat 2) 28)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance (literal (mutez 4) 234))", "line_no": 248, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "borrow", "params": "(literal (nat 5) 251)", "line_no": 252, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)", "chain_id": "", "time": "(literal (timestamp 0) 28)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 252)", "show": true, "valid": "(literal (bool True) 252)", "voting_powers": "(map 252 )"}, {"action": "verify", "condition": "(eq (attr (contractData 0 237) \"borrow_ovenAddress\" 258) (literal (local-address 1) 28) 258)", "line_no": 258}, {"action": "verify", "condition": "(eq (attr (contractData 0 237) \"borrow_ownerAddress\" 259) (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21) 259)", "line_no": 259}, {"action": "verify", "condition": "(eq (attr (contractData 0 237) \"borrow_ovenBalance\" 260) (mul (first (openVariant (ediv (literal (mutez 4) 234) (literal (mutez 1) 257) 257) \"Some\" \"None\" 257) 257) (literal (intOrNat 1000000000000) 257) 257) 260)", "line_no": 260}, {"action": "verify", "condition": "(eq (attr (contractData 0 237) \"borrow_borrowedTokens\" 261) (literal (intOrNat 1) 261) 261)", "line_no": 261}, {"action": "verify", "condition": "(eq (attr (contractData 0 237) \"borrow_liquidated\" 262) (literal (bool True) 262) 262)", "line_no": 262}, {"action": "verify", "condition": "(eq (attr (contractData 0 237) \"borrow_stabilityFeeTokens\" 263) (literal (intOrNat 2) 263) 263)", "line_no": 263}, {"action": "verify", "condition": "(eq (attr (contractData 0 237) \"borrow_ovenInterestIndex\" 264) (literal (intOrNat 3) 264) 264)", "line_no": 264}, {"action": "verify", "condition": "(eq (attr (contractData 0 237) \"borrow_tokensToBorrow\" 265) (literal (nat 5) 251) 265)", "line_no": 265}, {"action": "verify", "condition": "(eq (contractBalance 0 237) (literal (mutez 4) 234) 268)", "line_no": 268}]}, {"shortname": "repay_-_fails_with_bad_owner", "longname": "repay - fails with bad owner", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 283, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "repay", "params": "(literal (intOrNat 1) 287)", "line_no": 287, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 28)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 287)", "show": true, "valid": "(literal (bool False) 287)", "voting_powers": "(map 287 )"}]}, {"shortname": "repay_-_fails_with_amount", "longname": "repay - fails with amount", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 301, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "repay", "params": "(literal (intOrNat 1) 304)", "line_no": 304, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)", "chain_id": "", "time": "(literal (timestamp 0) 28)", "amount": "(literal (mutez 1) 306)", "level": "(literal (intOrNat 0) 304)", "show": true, "valid": "(literal (bool False) 304)", "voting_powers": "(map 304 )"}]}, {"shortname": "repay_-_calls_oven_proxy_successfully", "longname": "repay - calls oven proxy successfully", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 12 (borrow_borrowedTokens (literal (nat 0) 17)) (borrow_liquidated (literal (bool False) 18)) (borrow_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (borrow_ovenBalance (literal (nat 0) 16)) (borrow_ovenInterestIndex (literal (int 0) 20)) (borrow_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (borrow_stabilityFeeTokens (literal (int 0) 19)) (borrow_tokensToBorrow (literal (nat 0) 21)) (deposit_borrowedTokens (literal (nat 0) 37)) (deposit_liquidated (literal (bool False) 38)) (deposit_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (deposit_ovenBalance (literal (nat 0) 36)) (deposit_ovenInterestIndex (literal (int 0) 40)) (deposit_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (deposit_stabilityFeeTokens (literal (int 0) 39)) (liquidate_borrowedTokens (literal (nat 0) 56)) (liquidate_liquidated (literal (bool False) 57)) (liquidate_liquidatorAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (liquidate_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (liquidate_ovenBalance (literal (nat 0) 55)) (liquidate_ovenInterestIndex (literal (int 0) 59)) (liquidate_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (liquidate_stabilityFeeTokens (literal (int 0) 58)) (repay_borrowedTokens (literal (nat 0) 27)) (repay_liquidated (literal (bool False) 28)) (repay_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (repay_ovenBalance (literal (nat 0) 26)) (repay_ovenInterestIndex (literal (int 0) 30)) (repay_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (repay_stabilityFeeTokens (literal (int 0) 29)) (repay_tokensToRepay (literal (nat 0) 31)) (updateState_borrowedTokens (literal (nat 0) 64)) (updateState_interestIndex (literal (int 0) 66)) (updateState_isLiquidated (literal (bool False) 12)) (updateState_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (updateState_stabilityFeeTokens (literal (int 0) 65)) (withdraw_borrowedTokens (literal (nat 0) 46)) (withdraw_liquidated (literal (bool False) 47)) (withdraw_mutezToWithdraw (literal (mutez 0) 50)) (withdraw_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (withdraw_ovenBalance (literal (nat 0) 45)) (withdraw_ovenInterestIndex (literal (int 0) 49)) (withdraw_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (withdraw_stabilityFeeTokens (literal (int 0) 48)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 75) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) 76) (set (attr (data) \"borrow_ovenAddress\" 78) (first (params 75) 78) 78) (set (attr (data) \"borrow_ownerAddress\" 79) (first (second (params 75) 79) 79) 79) (set (attr (data) \"borrow_ovenBalance\" 80) (first (second (second (params 75) 80) 80) 80) 80) (set (attr (data) \"borrow_borrowedTokens\" 81) (first (second (second (second (params 75) 81) 81) 81) 81) 81) (set (attr (data) \"borrow_liquidated\" 82) (first (second (second (second (second (params 75) 82) 82) 82) 82) 82) 82) (set (attr (data) \"borrow_stabilityFeeTokens\" 83) (first (second (second (second (second (second (params 75) 83) 83) 83) 83) 83) 83) 83) (set (attr (data) \"borrow_ovenInterestIndex\" 84) (first (second (second (second (second (second (second (params 75) 84) 84) 84) 84) 84) 84) 84) 84) (set (attr (data) \"borrow_tokensToBorrow\" 85) (second (second (second (second (second (second (second (params 75) 85) 85) 85) 85) 85) 85) 85) 85))) (deposit True ((set_type (params 101) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) 102) (set (attr (data) \"deposit_ovenAddress\" 104) (first (params 101) 104) 104) (set (attr (data) \"deposit_ownerAddress\" 105) (first (second (params 101) 105) 105) 105) (set (attr (data) \"deposit_ovenBalance\" 106) (first (second (second (params 101) 106) 106) 106) 106) (set (attr (data) \"deposit_borrowedTokens\" 107) (first (second (second (second (params 101) 107) 107) 107) 107) 107) (set (attr (data) \"deposit_liquidated\" 108) (first (second (second (second (second (params 101) 108) 108) 108) 108) 108) 108) (set (attr (data) \"deposit_stabilityFeeTokens\" 109) (first (second (second (second (second (second (params 101) 109) 109) 109) 109) 109) 109) 109) (set (attr (data) \"deposit_ovenInterestIndex\" 110) (second (second (second (second (second (second (params 101) 110) 110) 110) 110) 110) 110) 110))) (liquidate True ((set_type (params 126) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) 127) (set (attr (data) \"liquidate_ovenAddress\" 129) (first (params 126) 129) 129) (set (attr (data) \"liquidate_ownerAddress\" 130) (first (second (params 126) 130) 130) 130) (set (attr (data) \"liquidate_ovenBalance\" 131) (first (second (second (params 126) 131) 131) 131) 131) (set (attr (data) \"liquidate_borrowedTokens\" 132) (first (second (second (second (params 126) 132) 132) 132) 132) 132) (set (attr (data) \"liquidate_liquidated\" 133) (first (second (second (second (second (params 126) 133) 133) 133) 133) 133) 133) (set (attr (data) \"liquidate_stabilityFeeTokens\" 134) (first (second (second (second (second (second (params 126) 134) 134) 134) 134) 134) 134) 134) (set (attr (data) \"liquidate_ovenInterestIndex\" 135) (first (second (second (second (second (second (second (params 126) 135) 135) 135) 135) 135) 135) 135) 135) (set (attr (data) \"liquidate_liquidatorAddress\" 136) (second (second (second (second (second (second (second (params 126) 136) 136) 136) 136) 136) 136) 136) 136))) (repay True ((set_type (params 88) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) 89) (set (attr (data) \"repay_ovenAddress\" 91) (first (params 88) 91) 91) (set (attr (data) \"repay_ownerAddress\" 92) (first (second (params 88) 92) 92) 92) (set (attr (data) \"repay_ovenBalance\" 93) (first (second (second (params 88) 93) 93) 93) 93) (set (attr (data) \"repay_borrowedTokens\" 94) (first (second (second (second (params 88) 94) 94) 94) 94) 94) (set (attr (data) \"repay_liquidated\" 95) (first (second (second (second (second (params 88) 95) 95) 95) 95) 95) 95) (set (attr (data) \"repay_stabilityFeeTokens\" 96) (first (second (second (second (second (second (params 88) 96) 96) 96) 96) 96) 96) 96) (set (attr (data) \"repay_ovenInterestIndex\" 97) (first (second (second (second (second (second (second (params 88) 97) 97) 97) 97) 97) 97) 97) 97) (set (attr (data) \"repay_tokensToRepay\" 98) (second (second (second (second (second (second (second (params 88) 98) 98) 98) 98) 98) 98) 98) 98))) (updateState True ((set_type (params 139) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 140) (set (attr (data) \"updateState_ovenAddress\" 142) (first (params 139) 142) 142) (set (attr (data) \"updateState_borrowedTokens\" 143) (first (second (params 139) 143) 143) 143) (set (attr (data) \"updateState_stabilityFeeTokens\" 144) (first (second (second (params 139) 144) 144) 144) 144) (set (attr (data) \"updateState_interestIndex\" 145) (first (second (second (second (params 139) 145) 145) 145) 145) 145) (set (attr (data) \"updateState_isLiquidated\" 146) (second (second (second (second (params 139) 146) 146) 146) 146) 146))) (withdraw True ((set_type (params 113) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) 114) (set (attr (data) \"withdraw_ovenAddress\" 116) (first (params 113) 116) 116) (set (attr (data) \"withdraw_ownerAddress\" 117) (first (second (params 113) 117) 117) 117) (set (attr (data) \"withdraw_ovenBalance\" 118) (first (second (second (params 113) 118) 118) 118) 118) (set (attr (data) \"withdraw_borrowedTokens\" 119) (first (second (second (second (params 113) 119) 119) 119) 119) 119) (set (attr (data) \"withdraw_liquidated\" 120) (first (second (second (second (second (params 113) 120) 120) 120) 120) 120) 120) (set (attr (data) \"withdraw_stabilityFeeTokens\" 121) (first (second (second (second (second (second (params 113) 121) 121) 121) 121) 121) 121) 121) (set (attr (data) \"withdraw_ovenInterestIndex\" 122) (first (second (second (second (second (second (second (params 113) 122) 122) 122) 122) 122) 122) 122) 122) (set (attr (data) \"withdraw_mutezToWithdraw\" 123) (second (second (second (second (second (second (second (params 113) 123) 123) 123) 123) 123) 123) 123) 123))))\nflags ()\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 323, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 1, "export": "(storage (record 28 (borrowedTokens (literal (intOrNat 1) 28)) (interestIndex (literal (intOrNat 3) 28)) (isLiquidated (literal (bool True) 28)) (ovenProxyContractAddress (literal (local-address 0) 12)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (intOrNat 2) 28)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance (literal (mutez 4) 320))", "line_no": 334, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "repay", "params": "(literal (nat 5) 337)", "line_no": 338, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)", "chain_id": "", "time": "(literal (timestamp 0) 28)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 338)", "show": true, "valid": "(literal (bool True) 338)", "voting_powers": "(map 338 )"}, {"action": "verify", "condition": "(eq (attr (contractData 0 323) \"repay_ovenAddress\" 344) (literal (local-address 1) 28) 344)", "line_no": 344}, {"action": "verify", "condition": "(eq (attr (contractData 0 323) \"repay_ownerAddress\" 345) (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21) 345)", "line_no": 345}, {"action": "verify", "condition": "(eq (attr (contractData 0 323) \"repay_ovenBalance\" 346) (mul (first (openVariant (ediv (literal (mutez 4) 320) (literal (mutez 1) 343) 343) \"Some\" \"None\" 343) 343) (literal (intOrNat 1000000000000) 343) 343) 346)", "line_no": 346}, {"action": "verify", "condition": "(eq (attr (contractData 0 323) \"repay_borrowedTokens\" 347) (literal (intOrNat 1) 347) 347)", "line_no": 347}, {"action": "verify", "condition": "(eq (attr (contractData 0 323) \"repay_liquidated\" 348) (literal (bool True) 348) 348)", "line_no": 348}, {"action": "verify", "condition": "(eq (attr (contractData 0 323) \"repay_stabilityFeeTokens\" 349) (literal (intOrNat 2) 349) 349)", "line_no": 349}, {"action": "verify", "condition": "(eq (attr (contractData 0 323) \"repay_ovenInterestIndex\" 350) (literal (intOrNat 3) 350) 350)", "line_no": 350}, {"action": "verify", "condition": "(eq (attr (contractData 0 323) \"repay_tokensToRepay\" 351) (literal (nat 5) 337) 351)", "line_no": 351}, {"action": "verify", "condition": "(eq (contractBalance 0 323) (literal (mutez 4) 320) 354)", "line_no": 354}]}, {"shortname": "default_-_calls_oven_proxy_successfully", "longname": "default - calls oven proxy successfully", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 12 (borrow_borrowedTokens (literal (nat 0) 17)) (borrow_liquidated (literal (bool False) 18)) (borrow_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (borrow_ovenBalance (literal (nat 0) 16)) (borrow_ovenInterestIndex (literal (int 0) 20)) (borrow_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (borrow_stabilityFeeTokens (literal (int 0) 19)) (borrow_tokensToBorrow (literal (nat 0) 21)) (deposit_borrowedTokens (literal (nat 0) 37)) (deposit_liquidated (literal (bool False) 38)) (deposit_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (deposit_ovenBalance (literal (nat 0) 36)) (deposit_ovenInterestIndex (literal (int 0) 40)) (deposit_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (deposit_stabilityFeeTokens (literal (int 0) 39)) (liquidate_borrowedTokens (literal (nat 0) 56)) (liquidate_liquidated (literal (bool False) 57)) (liquidate_liquidatorAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (liquidate_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (liquidate_ovenBalance (literal (nat 0) 55)) (liquidate_ovenInterestIndex (literal (int 0) 59)) (liquidate_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (liquidate_stabilityFeeTokens (literal (int 0) 58)) (repay_borrowedTokens (literal (nat 0) 27)) (repay_liquidated (literal (bool False) 28)) (repay_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (repay_ovenBalance (literal (nat 0) 26)) (repay_ovenInterestIndex (literal (int 0) 30)) (repay_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (repay_stabilityFeeTokens (literal (int 0) 29)) (repay_tokensToRepay (literal (nat 0) 31)) (updateState_borrowedTokens (literal (nat 0) 64)) (updateState_interestIndex (literal (int 0) 66)) (updateState_isLiquidated (literal (bool False) 12)) (updateState_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (updateState_stabilityFeeTokens (literal (int 0) 65)) (withdraw_borrowedTokens (literal (nat 0) 46)) (withdraw_liquidated (literal (bool False) 47)) (withdraw_mutezToWithdraw (literal (mutez 0) 50)) (withdraw_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (withdraw_ovenBalance (literal (nat 0) 45)) (withdraw_ovenInterestIndex (literal (int 0) 49)) (withdraw_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (withdraw_stabilityFeeTokens (literal (int 0) 48)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 75) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) 76) (set (attr (data) \"borrow_ovenAddress\" 78) (first (params 75) 78) 78) (set (attr (data) \"borrow_ownerAddress\" 79) (first (second (params 75) 79) 79) 79) (set (attr (data) \"borrow_ovenBalance\" 80) (first (second (second (params 75) 80) 80) 80) 80) (set (attr (data) \"borrow_borrowedTokens\" 81) (first (second (second (second (params 75) 81) 81) 81) 81) 81) (set (attr (data) \"borrow_liquidated\" 82) (first (second (second (second (second (params 75) 82) 82) 82) 82) 82) 82) (set (attr (data) \"borrow_stabilityFeeTokens\" 83) (first (second (second (second (second (second (params 75) 83) 83) 83) 83) 83) 83) 83) (set (attr (data) \"borrow_ovenInterestIndex\" 84) (first (second (second (second (second (second (second (params 75) 84) 84) 84) 84) 84) 84) 84) 84) (set (attr (data) \"borrow_tokensToBorrow\" 85) (second (second (second (second (second (second (second (params 75) 85) 85) 85) 85) 85) 85) 85) 85))) (deposit True ((set_type (params 101) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) 102) (set (attr (data) \"deposit_ovenAddress\" 104) (first (params 101) 104) 104) (set (attr (data) \"deposit_ownerAddress\" 105) (first (second (params 101) 105) 105) 105) (set (attr (data) \"deposit_ovenBalance\" 106) (first (second (second (params 101) 106) 106) 106) 106) (set (attr (data) \"deposit_borrowedTokens\" 107) (first (second (second (second (params 101) 107) 107) 107) 107) 107) (set (attr (data) \"deposit_liquidated\" 108) (first (second (second (second (second (params 101) 108) 108) 108) 108) 108) 108) (set (attr (data) \"deposit_stabilityFeeTokens\" 109) (first (second (second (second (second (second (params 101) 109) 109) 109) 109) 109) 109) 109) (set (attr (data) \"deposit_ovenInterestIndex\" 110) (second (second (second (second (second (second (params 101) 110) 110) 110) 110) 110) 110) 110))) (liquidate True ((set_type (params 126) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) 127) (set (attr (data) \"liquidate_ovenAddress\" 129) (first (params 126) 129) 129) (set (attr (data) \"liquidate_ownerAddress\" 130) (first (second (params 126) 130) 130) 130) (set (attr (data) \"liquidate_ovenBalance\" 131) (first (second (second (params 126) 131) 131) 131) 131) (set (attr (data) \"liquidate_borrowedTokens\" 132) (first (second (second (second (params 126) 132) 132) 132) 132) 132) (set (attr (data) \"liquidate_liquidated\" 133) (first (second (second (second (second (params 126) 133) 133) 133) 133) 133) 133) (set (attr (data) \"liquidate_stabilityFeeTokens\" 134) (first (second (second (second (second (second (params 126) 134) 134) 134) 134) 134) 134) 134) (set (attr (data) \"liquidate_ovenInterestIndex\" 135) (first (second (second (second (second (second (second (params 126) 135) 135) 135) 135) 135) 135) 135) 135) (set (attr (data) \"liquidate_liquidatorAddress\" 136) (second (second (second (second (second (second (second (params 126) 136) 136) 136) 136) 136) 136) 136) 136))) (repay True ((set_type (params 88) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) 89) (set (attr (data) \"repay_ovenAddress\" 91) (first (params 88) 91) 91) (set (attr (data) \"repay_ownerAddress\" 92) (first (second (params 88) 92) 92) 92) (set (attr (data) \"repay_ovenBalance\" 93) (first (second (second (params 88) 93) 93) 93) 93) (set (attr (data) \"repay_borrowedTokens\" 94) (first (second (second (second (params 88) 94) 94) 94) 94) 94) (set (attr (data) \"repay_liquidated\" 95) (first (second (second (second (second (params 88) 95) 95) 95) 95) 95) 95) (set (attr (data) \"repay_stabilityFeeTokens\" 96) (first (second (second (second (second (second (params 88) 96) 96) 96) 96) 96) 96) 96) (set (attr (data) \"repay_ovenInterestIndex\" 97) (first (second (second (second (second (second (second (params 88) 97) 97) 97) 97) 97) 97) 97) 97) (set (attr (data) \"repay_tokensToRepay\" 98) (second (second (second (second (second (second (second (params 88) 98) 98) 98) 98) 98) 98) 98) 98))) (updateState True ((set_type (params 139) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 140) (set (attr (data) \"updateState_ovenAddress\" 142) (first (params 139) 142) 142) (set (attr (data) \"updateState_borrowedTokens\" 143) (first (second (params 139) 143) 143) 143) (set (attr (data) \"updateState_stabilityFeeTokens\" 144) (first (second (second (params 139) 144) 144) 144) 144) (set (attr (data) \"updateState_interestIndex\" 145) (first (second (second (second (params 139) 145) 145) 145) 145) 145) (set (attr (data) \"updateState_isLiquidated\" 146) (second (second (second (second (params 139) 146) 146) 146) 146) 146))) (withdraw True ((set_type (params 113) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) 114) (set (attr (data) \"withdraw_ovenAddress\" 116) (first (params 113) 116) 116) (set (attr (data) \"withdraw_ownerAddress\" 117) (first (second (params 113) 117) 117) 117) (set (attr (data) \"withdraw_ovenBalance\" 118) (first (second (second (params 113) 118) 118) 118) 118) (set (attr (data) \"withdraw_borrowedTokens\" 119) (first (second (second (second (params 113) 119) 119) 119) 119) 119) (set (attr (data) \"withdraw_liquidated\" 120) (first (second (second (second (second (params 113) 120) 120) 120) 120) 120) 120) (set (attr (data) \"withdraw_stabilityFeeTokens\" 121) (first (second (second (second (second (second (params 113) 121) 121) 121) 121) 121) 121) 121) (set (attr (data) \"withdraw_ovenInterestIndex\" 122) (first (second (second (second (second (second (second (params 113) 122) 122) 122) 122) 122) 122) 122) 122) (set (attr (data) \"withdraw_mutezToWithdraw\" 123) (second (second (second (second (second (second (second (params 113) 123) 123) 123) 123) 123) 123) 123) 123))))\nflags ()\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 373, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 1, "export": "(storage (record 28 (borrowedTokens (literal (intOrNat 1) 28)) (interestIndex (literal (intOrNat 3) 28)) (isLiquidated (literal (bool True) 28)) (ovenProxyContractAddress (literal (local-address 0) 12)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (intOrNat 2) 28)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance (literal (mutez 4) 370))", "line_no": 384, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "default", "params": "(unit)", "line_no": 388, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)", "chain_id": "", "time": "(literal (timestamp 0) 28)", "amount": "(literal (mutez 5) 387)", "level": "(literal (intOrNat 0) 388)", "show": true, "valid": "(literal (bool True) 388)", "voting_powers": "(map 388 )"}, {"action": "verify", "condition": "(eq (attr (contractData 0 373) \"deposit_ovenAddress\" 395) (literal (local-address 1) 28) 395)", "line_no": 395}, {"action": "verify", "condition": "(eq (attr (contractData 0 373) \"deposit_ownerAddress\" 396) (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21) 396)", "line_no": 396}, {"action": "verify", "condition": "(eq (attr (contractData 0 373) \"deposit_ovenBalance\" 397) (mul (first (openVariant (ediv (add (literal (mutez 4) 370) (literal (mutez 5) 387) 394) (literal (mutez 1) 394) 394) \"Some\" \"None\" 394) 394) (literal (intOrNat 1000000000000) 394) 394) 397)", "line_no": 397}, {"action": "verify", "condition": "(eq (attr (contractData 0 373) \"deposit_borrowedTokens\" 398) (literal (intOrNat 1) 398) 398)", "line_no": 398}, {"action": "verify", "condition": "(eq (attr (contractData 0 373) \"deposit_liquidated\" 399) (literal (bool True) 399) 399)", "line_no": 399}, {"action": "verify", "condition": "(eq (attr (contractData 0 373) \"deposit_stabilityFeeTokens\" 400) (literal (intOrNat 2) 400) 400)", "line_no": 400}, {"action": "verify", "condition": "(eq (attr (contractData 0 373) \"deposit_ovenInterestIndex\" 401) (literal (intOrNat 3) 401) 401)", "line_no": 401}, {"action": "verify", "condition": "(eq (contractBalance 0 373) (add (literal (mutez 4) 370) (literal (mutez 5) 387) 404) 404)", "line_no": 404}]}, {"shortname": "withdraw_-_fails_with_bad_owner", "longname": "withdraw - fails with bad owner", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 419, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "withdraw", "params": "(literal (mutez 1) 423)", "line_no": 423, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 28)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 423)", "show": true, "valid": "(literal (bool False) 423)", "voting_powers": "(map 423 )"}]}, {"shortname": "withdraw_-_fails_with_an_amount", "longname": "withdraw - fails with an amount", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 437, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "withdraw", "params": "(literal (mutez 1) 440)", "line_no": 440, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)", "chain_id": "", "time": "(literal (timestamp 0) 28)", "amount": "(literal (mutez 1) 442)", "level": "(literal (intOrNat 0) 440)", "show": true, "valid": "(literal (bool False) 440)", "voting_powers": "(map 440 )"}]}, {"shortname": "withdraw_-_calls_oven_proxy_successfully", "longname": "withdraw - calls oven proxy successfully", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 12 (borrow_borrowedTokens (literal (nat 0) 17)) (borrow_liquidated (literal (bool False) 18)) (borrow_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (borrow_ovenBalance (literal (nat 0) 16)) (borrow_ovenInterestIndex (literal (int 0) 20)) (borrow_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (borrow_stabilityFeeTokens (literal (int 0) 19)) (borrow_tokensToBorrow (literal (nat 0) 21)) (deposit_borrowedTokens (literal (nat 0) 37)) (deposit_liquidated (literal (bool False) 38)) (deposit_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (deposit_ovenBalance (literal (nat 0) 36)) (deposit_ovenInterestIndex (literal (int 0) 40)) (deposit_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (deposit_stabilityFeeTokens (literal (int 0) 39)) (liquidate_borrowedTokens (literal (nat 0) 56)) (liquidate_liquidated (literal (bool False) 57)) (liquidate_liquidatorAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (liquidate_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (liquidate_ovenBalance (literal (nat 0) 55)) (liquidate_ovenInterestIndex (literal (int 0) 59)) (liquidate_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (liquidate_stabilityFeeTokens (literal (int 0) 58)) (repay_borrowedTokens (literal (nat 0) 27)) (repay_liquidated (literal (bool False) 28)) (repay_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (repay_ovenBalance (literal (nat 0) 26)) (repay_ovenInterestIndex (literal (int 0) 30)) (repay_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (repay_stabilityFeeTokens (literal (int 0) 29)) (repay_tokensToRepay (literal (nat 0) 31)) (updateState_borrowedTokens (literal (nat 0) 64)) (updateState_interestIndex (literal (int 0) 66)) (updateState_isLiquidated (literal (bool False) 12)) (updateState_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (updateState_stabilityFeeTokens (literal (int 0) 65)) (withdraw_borrowedTokens (literal (nat 0) 46)) (withdraw_liquidated (literal (bool False) 47)) (withdraw_mutezToWithdraw (literal (mutez 0) 50)) (withdraw_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (withdraw_ovenBalance (literal (nat 0) 45)) (withdraw_ovenInterestIndex (literal (int 0) 49)) (withdraw_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (withdraw_stabilityFeeTokens (literal (int 0) 48)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 75) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) 76) (set (attr (data) \"borrow_ovenAddress\" 78) (first (params 75) 78) 78) (set (attr (data) \"borrow_ownerAddress\" 79) (first (second (params 75) 79) 79) 79) (set (attr (data) \"borrow_ovenBalance\" 80) (first (second (second (params 75) 80) 80) 80) 80) (set (attr (data) \"borrow_borrowedTokens\" 81) (first (second (second (second (params 75) 81) 81) 81) 81) 81) (set (attr (data) \"borrow_liquidated\" 82) (first (second (second (second (second (params 75) 82) 82) 82) 82) 82) 82) (set (attr (data) \"borrow_stabilityFeeTokens\" 83) (first (second (second (second (second (second (params 75) 83) 83) 83) 83) 83) 83) 83) (set (attr (data) \"borrow_ovenInterestIndex\" 84) (first (second (second (second (second (second (second (params 75) 84) 84) 84) 84) 84) 84) 84) 84) (set (attr (data) \"borrow_tokensToBorrow\" 85) (second (second (second (second (second (second (second (params 75) 85) 85) 85) 85) 85) 85) 85) 85))) (deposit True ((set_type (params 101) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) 102) (set (attr (data) \"deposit_ovenAddress\" 104) (first (params 101) 104) 104) (set (attr (data) \"deposit_ownerAddress\" 105) (first (second (params 101) 105) 105) 105) (set (attr (data) \"deposit_ovenBalance\" 106) (first (second (second (params 101) 106) 106) 106) 106) (set (attr (data) \"deposit_borrowedTokens\" 107) (first (second (second (second (params 101) 107) 107) 107) 107) 107) (set (attr (data) \"deposit_liquidated\" 108) (first (second (second (second (second (params 101) 108) 108) 108) 108) 108) 108) (set (attr (data) \"deposit_stabilityFeeTokens\" 109) (first (second (second (second (second (second (params 101) 109) 109) 109) 109) 109) 109) 109) (set (attr (data) \"deposit_ovenInterestIndex\" 110) (second (second (second (second (second (second (params 101) 110) 110) 110) 110) 110) 110) 110))) (liquidate True ((set_type (params 126) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) 127) (set (attr (data) \"liquidate_ovenAddress\" 129) (first (params 126) 129) 129) (set (attr (data) \"liquidate_ownerAddress\" 130) (first (second (params 126) 130) 130) 130) (set (attr (data) \"liquidate_ovenBalance\" 131) (first (second (second (params 126) 131) 131) 131) 131) (set (attr (data) \"liquidate_borrowedTokens\" 132) (first (second (second (second (params 126) 132) 132) 132) 132) 132) (set (attr (data) \"liquidate_liquidated\" 133) (first (second (second (second (second (params 126) 133) 133) 133) 133) 133) 133) (set (attr (data) \"liquidate_stabilityFeeTokens\" 134) (first (second (second (second (second (second (params 126) 134) 134) 134) 134) 134) 134) 134) (set (attr (data) \"liquidate_ovenInterestIndex\" 135) (first (second (second (second (second (second (second (params 126) 135) 135) 135) 135) 135) 135) 135) 135) (set (attr (data) \"liquidate_liquidatorAddress\" 136) (second (second (second (second (second (second (second (params 126) 136) 136) 136) 136) 136) 136) 136) 136))) (repay True ((set_type (params 88) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) 89) (set (attr (data) \"repay_ovenAddress\" 91) (first (params 88) 91) 91) (set (attr (data) \"repay_ownerAddress\" 92) (first (second (params 88) 92) 92) 92) (set (attr (data) \"repay_ovenBalance\" 93) (first (second (second (params 88) 93) 93) 93) 93) (set (attr (data) \"repay_borrowedTokens\" 94) (first (second (second (second (params 88) 94) 94) 94) 94) 94) (set (attr (data) \"repay_liquidated\" 95) (first (second (second (second (second (params 88) 95) 95) 95) 95) 95) 95) (set (attr (data) \"repay_stabilityFeeTokens\" 96) (first (second (second (second (second (second (params 88) 96) 96) 96) 96) 96) 96) 96) (set (attr (data) \"repay_ovenInterestIndex\" 97) (first (second (second (second (second (second (second (params 88) 97) 97) 97) 97) 97) 97) 97) 97) (set (attr (data) \"repay_tokensToRepay\" 98) (second (second (second (second (second (second (second (params 88) 98) 98) 98) 98) 98) 98) 98) 98))) (updateState True ((set_type (params 139) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 140) (set (attr (data) \"updateState_ovenAddress\" 142) (first (params 139) 142) 142) (set (attr (data) \"updateState_borrowedTokens\" 143) (first (second (params 139) 143) 143) 143) (set (attr (data) \"updateState_stabilityFeeTokens\" 144) (first (second (second (params 139) 144) 144) 144) 144) (set (attr (data) \"updateState_interestIndex\" 145) (first (second (second (second (params 139) 145) 145) 145) 145) 145) (set (attr (data) \"updateState_isLiquidated\" 146) (second (second (second (second (params 139) 146) 146) 146) 146) 146))) (withdraw True ((set_type (params 113) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) 114) (set (attr (data) \"withdraw_ovenAddress\" 116) (first (params 113) 116) 116) (set (attr (data) \"withdraw_ownerAddress\" 117) (first (second (params 113) 117) 117) 117) (set (attr (data) \"withdraw_ovenBalance\" 118) (first (second (second (params 113) 118) 118) 118) 118) (set (attr (data) \"withdraw_borrowedTokens\" 119) (first (second (second (second (params 113) 119) 119) 119) 119) 119) (set (attr (data) \"withdraw_liquidated\" 120) (first (second (second (second (second (params 113) 120) 120) 120) 120) 120) 120) (set (attr (data) \"withdraw_stabilityFeeTokens\" 121) (first (second (second (second (second (second (params 113) 121) 121) 121) 121) 121) 121) 121) (set (attr (data) \"withdraw_ovenInterestIndex\" 122) (first (second (second (second (second (second (second (params 113) 122) 122) 122) 122) 122) 122) 122) 122) (set (attr (data) \"withdraw_mutezToWithdraw\" 123) (second (second (second (second (second (second (second (params 113) 123) 123) 123) 123) 123) 123) 123) 123))))\nflags ()\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 460, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 1, "export": "(storage (record 28 (borrowedTokens (literal (intOrNat 1) 28)) (interestIndex (literal (intOrNat 3) 28)) (isLiquidated (literal (bool True) 28)) (ovenProxyContractAddress (literal (local-address 0) 12)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (intOrNat 2) 28)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance (literal (mutez 4) 457))", "line_no": 471, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "withdraw", "params": "(literal (mutez 5) 474)", "line_no": 475, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)", "chain_id": "", "time": "(literal (timestamp 0) 28)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 475)", "show": true, "valid": "(literal (bool True) 475)", "voting_powers": "(map 475 )"}, {"action": "verify", "condition": "(eq (attr (contractData 0 460) \"withdraw_ovenAddress\" 481) (literal (local-address 1) 28) 481)", "line_no": 481}, {"action": "verify", "condition": "(eq (attr (contractData 0 460) \"withdraw_ownerAddress\" 482) (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21) 482)", "line_no": 482}, {"action": "verify", "condition": "(eq (attr (contractData 0 460) \"withdraw_ovenBalance\" 483) (mul (first (openVariant (ediv (literal (mutez 4) 457) (literal (mutez 1) 480) 480) \"Some\" \"None\" 480) 480) (literal (intOrNat 1000000000000) 480) 480) 483)", "line_no": 483}, {"action": "verify", "condition": "(eq (attr (contractData 0 460) \"withdraw_borrowedTokens\" 484) (literal (intOrNat 1) 484) 484)", "line_no": 484}, {"action": "verify", "condition": "(eq (attr (contractData 0 460) \"withdraw_liquidated\" 485) (literal (bool True) 485) 485)", "line_no": 485}, {"action": "verify", "condition": "(eq (attr (contractData 0 460) \"withdraw_stabilityFeeTokens\" 486) (literal (intOrNat 2) 486) 486)", "line_no": 486}, {"action": "verify", "condition": "(eq (attr (contractData 0 460) \"withdraw_ovenInterestIndex\" 487) (literal (intOrNat 3) 487) 487)", "line_no": 487}, {"action": "verify", "condition": "(eq (attr (contractData 0 460) \"withdraw_mutezToWithdraw\" 488) (literal (mutez 5) 474) 488)", "line_no": 488}, {"action": "verify", "condition": "(eq (contractBalance 0 460) (literal (mutez 4) 457) 491)", "line_no": 491}]}, {"shortname": "liquidate_-_fails_with_an_amount", "longname": "liquidate - fails with an amount", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 503, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "withdraw", "params": "(literal (mutez 1) 506)", "line_no": 506, "title": "", "messageClass": "", "source": "none", "sender": "none", "chain_id": "", "time": "(literal (timestamp 0) 28)", "amount": "(literal (mutez 1) 507)", "level": "(literal (intOrNat 0) 506)", "show": true, "valid": "(literal (bool False) 506)", "voting_powers": "(map 506 )"}]}, {"shortname": "liquidate_-_calls_oven_proxy_successfully", "longname": "liquidate - calls oven proxy successfully", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 12 (borrow_borrowedTokens (literal (nat 0) 17)) (borrow_liquidated (literal (bool False) 18)) (borrow_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (borrow_ovenBalance (literal (nat 0) 16)) (borrow_ovenInterestIndex (literal (int 0) 20)) (borrow_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (borrow_stabilityFeeTokens (literal (int 0) 19)) (borrow_tokensToBorrow (literal (nat 0) 21)) (deposit_borrowedTokens (literal (nat 0) 37)) (deposit_liquidated (literal (bool False) 38)) (deposit_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (deposit_ovenBalance (literal (nat 0) 36)) (deposit_ovenInterestIndex (literal (int 0) 40)) (deposit_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (deposit_stabilityFeeTokens (literal (int 0) 39)) (liquidate_borrowedTokens (literal (nat 0) 56)) (liquidate_liquidated (literal (bool False) 57)) (liquidate_liquidatorAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (liquidate_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (liquidate_ovenBalance (literal (nat 0) 55)) (liquidate_ovenInterestIndex (literal (int 0) 59)) (liquidate_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (liquidate_stabilityFeeTokens (literal (int 0) 58)) (repay_borrowedTokens (literal (nat 0) 27)) (repay_liquidated (literal (bool False) 28)) (repay_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (repay_ovenBalance (literal (nat 0) 26)) (repay_ovenInterestIndex (literal (int 0) 30)) (repay_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (repay_stabilityFeeTokens (literal (int 0) 29)) (repay_tokensToRepay (literal (nat 0) 31)) (updateState_borrowedTokens (literal (nat 0) 64)) (updateState_interestIndex (literal (int 0) 66)) (updateState_isLiquidated (literal (bool False) 12)) (updateState_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (updateState_stabilityFeeTokens (literal (int 0) 65)) (withdraw_borrowedTokens (literal (nat 0) 46)) (withdraw_liquidated (literal (bool False) 47)) (withdraw_mutezToWithdraw (literal (mutez 0) 50)) (withdraw_ovenAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (withdraw_ovenBalance (literal (nat 0) 45)) (withdraw_ovenInterestIndex (literal (int 0) 49)) (withdraw_ownerAddress (literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)) (withdraw_stabilityFeeTokens (literal (int 0) 48)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 75) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) 76) (set (attr (data) \"borrow_ovenAddress\" 78) (first (params 75) 78) 78) (set (attr (data) \"borrow_ownerAddress\" 79) (first (second (params 75) 79) 79) 79) (set (attr (data) \"borrow_ovenBalance\" 80) (first (second (second (params 75) 80) 80) 80) 80) (set (attr (data) \"borrow_borrowedTokens\" 81) (first (second (second (second (params 75) 81) 81) 81) 81) 81) (set (attr (data) \"borrow_liquidated\" 82) (first (second (second (second (second (params 75) 82) 82) 82) 82) 82) 82) (set (attr (data) \"borrow_stabilityFeeTokens\" 83) (first (second (second (second (second (second (params 75) 83) 83) 83) 83) 83) 83) 83) (set (attr (data) \"borrow_ovenInterestIndex\" 84) (first (second (second (second (second (second (second (params 75) 84) 84) 84) 84) 84) 84) 84) 84) (set (attr (data) \"borrow_tokensToBorrow\" 85) (second (second (second (second (second (second (second (params 75) 85) 85) 85) 85) 85) 85) 85) 85))) (deposit True ((set_type (params 101) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) 102) (set (attr (data) \"deposit_ovenAddress\" 104) (first (params 101) 104) 104) (set (attr (data) \"deposit_ownerAddress\" 105) (first (second (params 101) 105) 105) 105) (set (attr (data) \"deposit_ovenBalance\" 106) (first (second (second (params 101) 106) 106) 106) 106) (set (attr (data) \"deposit_borrowedTokens\" 107) (first (second (second (second (params 101) 107) 107) 107) 107) 107) (set (attr (data) \"deposit_liquidated\" 108) (first (second (second (second (second (params 101) 108) 108) 108) 108) 108) 108) (set (attr (data) \"deposit_stabilityFeeTokens\" 109) (first (second (second (second (second (second (params 101) 109) 109) 109) 109) 109) 109) 109) (set (attr (data) \"deposit_ovenInterestIndex\" 110) (second (second (second (second (second (second (params 101) 110) 110) 110) 110) 110) 110) 110))) (liquidate True ((set_type (params 126) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) 127) (set (attr (data) \"liquidate_ovenAddress\" 129) (first (params 126) 129) 129) (set (attr (data) \"liquidate_ownerAddress\" 130) (first (second (params 126) 130) 130) 130) (set (attr (data) \"liquidate_ovenBalance\" 131) (first (second (second (params 126) 131) 131) 131) 131) (set (attr (data) \"liquidate_borrowedTokens\" 132) (first (second (second (second (params 126) 132) 132) 132) 132) 132) (set (attr (data) \"liquidate_liquidated\" 133) (first (second (second (second (second (params 126) 133) 133) 133) 133) 133) 133) (set (attr (data) \"liquidate_stabilityFeeTokens\" 134) (first (second (second (second (second (second (params 126) 134) 134) 134) 134) 134) 134) 134) (set (attr (data) \"liquidate_ovenInterestIndex\" 135) (first (second (second (second (second (second (second (params 126) 135) 135) 135) 135) 135) 135) 135) 135) (set (attr (data) \"liquidate_liquidatorAddress\" 136) (second (second (second (second (second (second (second (params 126) 136) 136) 136) 136) 136) 136) 136) 136))) (repay True ((set_type (params 88) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) 89) (set (attr (data) \"repay_ovenAddress\" 91) (first (params 88) 91) 91) (set (attr (data) \"repay_ownerAddress\" 92) (first (second (params 88) 92) 92) 92) (set (attr (data) \"repay_ovenBalance\" 93) (first (second (second (params 88) 93) 93) 93) 93) (set (attr (data) \"repay_borrowedTokens\" 94) (first (second (second (second (params 88) 94) 94) 94) 94) 94) (set (attr (data) \"repay_liquidated\" 95) (first (second (second (second (second (params 88) 95) 95) 95) 95) 95) 95) (set (attr (data) \"repay_stabilityFeeTokens\" 96) (first (second (second (second (second (second (params 88) 96) 96) 96) 96) 96) 96) 96) (set (attr (data) \"repay_ovenInterestIndex\" 97) (first (second (second (second (second (second (second (params 88) 97) 97) 97) 97) 97) 97) 97) 97) (set (attr (data) \"repay_tokensToRepay\" 98) (second (second (second (second (second (second (second (params 88) 98) 98) 98) 98) 98) 98) 98) 98))) (updateState True ((set_type (params 139) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 140) (set (attr (data) \"updateState_ovenAddress\" 142) (first (params 139) 142) 142) (set (attr (data) \"updateState_borrowedTokens\" 143) (first (second (params 139) 143) 143) 143) (set (attr (data) \"updateState_stabilityFeeTokens\" 144) (first (second (second (params 139) 144) 144) 144) 144) (set (attr (data) \"updateState_interestIndex\" 145) (first (second (second (second (params 139) 145) 145) 145) 145) 145) (set (attr (data) \"updateState_isLiquidated\" 146) (second (second (second (second (params 139) 146) 146) 146) 146) 146))) (withdraw True ((set_type (params 113) (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) 114) (set (attr (data) \"withdraw_ovenAddress\" 116) (first (params 113) 116) 116) (set (attr (data) \"withdraw_ownerAddress\" 117) (first (second (params 113) 117) 117) 117) (set (attr (data) \"withdraw_ovenBalance\" 118) (first (second (second (params 113) 118) 118) 118) 118) (set (attr (data) \"withdraw_borrowedTokens\" 119) (first (second (second (second (params 113) 119) 119) 119) 119) 119) (set (attr (data) \"withdraw_liquidated\" 120) (first (second (second (second (second (params 113) 120) 120) 120) 120) 120) 120) (set (attr (data) \"withdraw_stabilityFeeTokens\" 121) (first (second (second (second (second (second (params 113) 121) 121) 121) 121) 121) 121) 121) (set (attr (data) \"withdraw_ovenInterestIndex\" 122) (first (second (second (second (second (second (second (params 113) 122) 122) 122) 122) 122) 122) 122) 122) (set (attr (data) \"withdraw_mutezToWithdraw\" 123) (second (second (second (second (second (second (second (params 113) 123) 123) 123) 123) 123) 123) 123) 123))))\nflags ()\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 524, "show": true, "accept_unknown_types": false}, {"action": "newContract", "id": 1, "export": "(storage (record 28 (borrowedTokens (literal (intOrNat 1) 28)) (interestIndex (literal (intOrNat 3) 28)) (isLiquidated (literal (bool True) 28)) (ovenProxyContractAddress (literal (local-address 0) 12)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (intOrNat 2) 28)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance (literal (mutez 4) 521))", "line_no": 535, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 1, "message": "liquidate", "params": "(unit)", "line_no": 539, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1LcuQHNVQEWP2fZjk1QYZGNrfLDwrT3SyZ\") 24)", "chain_id": "", "time": "(literal (timestamp 0) 28)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 539)", "show": true, "valid": "(literal (bool True) 539)", "voting_powers": "(map 539 )"}, {"action": "verify", "condition": "(eq (attr (contractData 0 524) \"liquidate_ovenAddress\" 545) (literal (local-address 1) 28) 545)", "line_no": 545}, {"action": "verify", "condition": "(eq (attr (contractData 0 524) \"liquidate_ownerAddress\" 546) (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21) 546)", "line_no": 546}, {"action": "verify", "condition": "(eq (attr (contractData 0 524) \"liquidate_ovenBalance\" 547) (mul (first (openVariant (ediv (literal (mutez 4) 521) (literal (mutez 1) 544) 544) \"Some\" \"None\" 544) 544) (literal (intOrNat 1000000000000) 544) 544) 547)", "line_no": 547}, {"action": "verify", "condition": "(eq (attr (contractData 0 524) \"liquidate_borrowedTokens\" 548) (literal (intOrNat 1) 548) 548)", "line_no": 548}, {"action": "verify", "condition": "(eq (attr (contractData 0 524) \"liquidate_liquidated\" 549) (literal (bool True) 549) 549)", "line_no": 549}, {"action": "verify", "condition": "(eq (attr (contractData 0 524) \"liquidate_stabilityFeeTokens\" 550) (literal (intOrNat 2) 550) 550)", "line_no": 550}, {"action": "verify", "condition": "(eq (attr (contractData 0 524) \"liquidate_ovenInterestIndex\" 551) (literal (intOrNat 3) 551) 551)", "line_no": 551}, {"action": "verify", "condition": "(eq (attr (contractData 0 524) \"liquidate_liquidatorAddress\" 552) (literal (address \"tz1LcuQHNVQEWP2fZjk1QYZGNrfLDwrT3SyZ\") 24) 552)", "line_no": 552}, {"action": "verify", "condition": "(eq (contractBalance 0 524) (literal (mutez 4) 521) 555)", "line_no": 555}]}, {"shortname": "setDelegate_-_fails_with_bad_owner", "longname": "setDelegate - fails with bad owner", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 570, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setDelegate", "params": "(variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 574) 574)", "line_no": 575, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 28)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 575)", "show": true, "valid": "(literal (bool False) 575)", "voting_powers": "(map 575 )"}]}, {"shortname": "setDelegate_-_updates_delegate", "longname": "setDelegate - updates delegate", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 589, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "setDelegate", "params": "(variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 592) 592)", "line_no": 593, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)", "chain_id": "", "time": "(literal (timestamp 0) 28)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 593)", "show": true, "valid": "(literal (bool True) 593)", "voting_powers": "(map 593 )"}, {"action": "verify", "condition": "(eq (openVariant (reduce (contract_baker 0 589) 589) \"Some\" \"None\" 598) (openVariant (variant \"Some\" (literal (key_hash \"tz1abmz7jiCV2GH2u81LRrGgAFFgvQgiDiaf\") 592) 592) \"Some\" \"None\" 598) 598)", "line_no": 598}]}, {"shortname": "updateState_-_fails_when_sender_is_not_OvenProxy", "longname": "updateState - fails when sender is not OvenProxy", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 613, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "updateState", "params": "(tuple 618 (literal (local-address 0) 28) (tuple 618 (literal (intOrNat 12) 618) (tuple 618 (literal (intOrNat 13) 618) (tuple 618 (literal (intOrNat 14) 618) (literal (bool False) 618)))))", "line_no": 618, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1bTpviNnyx2PXsNmGpCQTMQsGoYordkUoA\") 54)", "chain_id": "", "time": "(literal (timestamp 0) 28)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 618)", "show": true, "valid": "(literal (bool False) 618)", "voting_powers": "(map 618 )"}]}, {"shortname": "updateState_-_fails_when_addressee_is_not_oven", "longname": "updateState - fails when addressee is not oven", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 632, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "updateState", "params": "(tuple 636 (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9) (tuple 636 (literal (intOrNat 12) 636) (tuple 636 (literal (intOrNat 13) 636) (tuple 636 (literal (intOrNat 14) 636) (literal (bool False) 636)))))", "line_no": 636, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)", "chain_id": "", "time": "(literal (timestamp 0) 28)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 636)", "show": true, "valid": "(literal (bool False) 636)", "voting_powers": "(map 636 )"}]}, {"shortname": "updateState_-_successfully_updates_state", "longname": "updateState - successfully updates state", "scenario": [{"action": "newContract", "id": 0, "export": "(storage (record 28 (borrowedTokens (literal (nat 0) 20)) (interestIndex (toInt (literal (nat 1000000000000000000) 4) 22)) (isLiquidated (literal (bool False) 28)) (ovenProxyContractAddress (literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)) (owner (literal (address \"tz1S8MNvuFEUsWgjHvi3AxibRBf388NhT1q2\") 21)) (stabilityFeeTokens (literal (int 0) 21)))\nstorage_type (())\nmessages ((borrow True ((set_type (params 42) \"nat\" 43) (verify (eq (sender) (attr (data) \"owner\" 46) 46) False (literal (intOrNat 6) 46) 46) (verify (eq (amount) (literal (mutez 0) 49) 49) False (literal (intOrNat 15) 49) 49) (set (operations 61) (cons (transfer (tuple 61 (to_address (self) 55) (tuple 61 (attr (data) \"owner\" 46) (tuple 61 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 52) 52) \"Some\" \"None\" 52) 52) (literal (intOrNat 1000000000000) 52) 52) (tuple 61 (attr (data) \"borrowedTokens\" 55) (tuple 61 (attr (data) \"isLiquidated\" 55) (tuple 61 (attr (data) \"stabilityFeeTokens\" 55) (tuple 61 (attr (data) \"interestIndex\" 55) (params 42)))))))) (balance) (openVariant (contract \"borrow\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 56) \"Some\" \"None\" 56) 61) (operations 61) 61) 61))) (default True ((set_type (params 109) \"unit\" 110) (set (operations 123) (cons (transfer (tuple 123 (to_address (self) 117) (tuple 123 (attr (data) \"owner\" 46) (tuple 123 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 113) 113) \"Some\" \"None\" 113) 113) (literal (intOrNat 1000000000000) 113) 113) (tuple 123 (attr (data) \"borrowedTokens\" 55) (tuple 123 (attr (data) \"isLiquidated\" 55) (tuple 123 (attr (data) \"stabilityFeeTokens\" 55) (attr (data) \"interestIndex\" 55))))))) (balance) (openVariant (contract \"deposit\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" \"int\")))))) (attr (data) \"ovenProxyContractAddress\" 58) 118) \"Some\" \"None\" 118) 123) (operations 123) 123) 123))) (liquidate True ((set_type (params 126) \"unit\" 127) (verify (eq (amount) (literal (mutez 0) 130) 130) False (literal (intOrNat 15) 130) 130) (set (operations 142) (cons (transfer (tuple 142 (to_address (self) 136) (tuple 142 (attr (data) \"owner\" 46) (tuple 142 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 133) 133) \"Some\" \"None\" 133) 133) (literal (intOrNat 1000000000000) 133) 133) (tuple 142 (attr (data) \"borrowedTokens\" 55) (tuple 142 (attr (data) \"isLiquidated\" 55) (tuple 142 (attr (data) \"stabilityFeeTokens\" 55) (tuple 142 (attr (data) \"interestIndex\" 55) (sender)))))))) (balance) (openVariant (contract \"liquidate\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"address\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 137) \"Some\" \"None\" 137) 142) (operations 142) 142) 142))) (repay True ((set_type (params 64) \"nat\" 65) (verify (eq (sender) (attr (data) \"owner\" 46) 68) False (literal (intOrNat 6) 68) 68) (verify (eq (amount) (literal (mutez 0) 71) 71) False (literal (intOrNat 15) 71) 71) (set (operations 83) (cons (transfer (tuple 83 (to_address (self) 77) (tuple 83 (attr (data) \"owner\" 46) (tuple 83 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 74) 74) \"Some\" \"None\" 74) 74) (literal (intOrNat 1000000000000) 74) 74) (tuple 83 (attr (data) \"borrowedTokens\" 55) (tuple 83 (attr (data) \"isLiquidated\" 55) (tuple 83 (attr (data) \"stabilityFeeTokens\" 55) (tuple 83 (attr (data) \"interestIndex\" 55) (params 64)))))))) (balance) (openVariant (contract \"repay\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"nat\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 78) \"Some\" \"None\" 78) 83) (operations 83) 83) 83))) (setDelegate True ((set_type (params 145) (option \"key_hash\") 146) (verify (eq (sender) (attr (data) \"owner\" 46) 149) False (literal (intOrNat 6) 149) 149) (verify (eq (amount) (literal (mutez 0) 152) 152) False (literal (intOrNat 15) 152) 152) (set (operations 154) (cons (set_delegate (params 145) 154) (operations 154) 154) 154))) (updateState True ((set_type (params 161) (tuple \"address\" (tuple \"nat\" (tuple \"int\" (tuple \"int\" \"bool\")))) 162) (verify (eq (sender) (attr (data) \"ovenProxyContractAddress\" 58) 165) False (literal (intOrNat 2) 165) 165) (verify (eq (first (params 161) 166) (to_address (self) 166) 166) False (literal (intOrNat 13) 166) 166) (set (attr (data) \"borrowedTokens\" 55) (first (second (params 161) 168) 168) 168) (set (attr (data) \"stabilityFeeTokens\" 55) (first (second (second (params 161) 169) 169) 169) 169) (set (attr (data) \"interestIndex\" 55) (first (second (second (second (params 161) 170) 170) 170) 170) 170) (set (attr (data) \"isLiquidated\" 55) (second (second (second (second (params 161) 171) 171) 171) 171) 171))) (withdraw True ((set_type (params 86) \"mutez\" 87) (verify (eq (sender) (attr (data) \"owner\" 46) 90) False (literal (intOrNat 6) 90) 90) (verify (eq (amount) (literal (mutez 0) 93) 93) False (literal (intOrNat 15) 93) 93) (set (operations 105) (cons (transfer (tuple 105 (to_address (self) 99) (tuple 105 (attr (data) \"owner\" 46) (tuple 105 (mul (first (openVariant (ediv (balance) (literal (mutez 1) 96) 96) \"Some\" \"None\" 96) 96) (literal (intOrNat 1000000000000) 96) 96) (tuple 105 (attr (data) \"borrowedTokens\" 55) (tuple 105 (attr (data) \"isLiquidated\" 55) (tuple 105 (attr (data) \"stabilityFeeTokens\" 55) (tuple 105 (attr (data) \"interestIndex\" 55) (params 86)))))))) (balance) (openVariant (contract \"withdraw\" (tuple \"address\" (tuple \"address\" (tuple \"nat\" (tuple \"nat\" (tuple \"bool\" (tuple \"int\" (tuple \"int\" \"mutez\"))))))) (attr (data) \"ovenProxyContractAddress\" 58) 100) \"Some\" \"None\" 100) 105) (operations 105) 105) 105))))\nflags (Exception_DefaultUnit)\nglobals ()\nviews ()\nentry_points_layout ()\ninitial_metadata ()\nbalance ())", "line_no": 650, "show": true, "accept_unknown_types": false}, {"action": "message", "id": 0, "message": "updateState", "params": "(tuple 658 (literal (local-address 0) 28) (tuple 658 (literal (nat 12) 653) (tuple 658 (literal (int 13) 654) (tuple 658 (literal (int 14) 655) (literal (bool True) 656)))))", "line_no": 658, "title": "", "messageClass": "", "source": "none", "sender": "(literal (address \"tz1c461F8GirBvq5DpFftPoPyCcPR7HQM6gm\") 9)", "chain_id": "", "time": "(literal (timestamp 0) 28)", "amount": "(literal (mutez 0) 1)", "level": "(literal (intOrNat 0) 658)", "show": true, "valid": "(literal (bool True) 658)", "voting_powers": "(map 658 )"}, {"action": "verify", "condition": "(eq (attr (contractData 0 658) \"borrowedTokens\" 663) (literal (nat 12) 653) 663)", "line_no": 663}, {"action": "verify", "condition": "(eq (attr (contractData 0 658) \"stabilityFeeTokens\" 664) (literal (int 13) 654) 664)", "line_no": 664}, {"action": "verify", "condition": "(eq (attr (contractData 0 658) \"interestIndex\" 665) (literal (int 14) 655) 665)", "line_no": 665}, {"action": "verify", "condition": "(eq (attr (contractData 0 658) \"isLiquidated\" 666) (literal (bool True) 656) 666)", "line_no": 666}]}]